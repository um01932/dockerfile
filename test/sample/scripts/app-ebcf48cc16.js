!function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return r(i?i:e)},d,d.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.SOURCE_WORKPLACE="workplace",n.CATEGORY_APPS="apps",n.CATEGORY_GENERAL="general",n.CATEGORY_HELP="help",n.CATEGORY_DASHBOARD="dashboard",n.CATEGORY_MESSAGES="messages",n.CATEGORY_TASKS="tasks",n.CATEGORY_ROLES="roles",n.CATEGORY_API="api",n.ACTION_APPS_LAUNCH_DEEPLINK="launch-deeplink",n.ACTION_APPS_LAUNCH_NAVIGATON_MENU="launch-navigationMenu",n.ACTION_APPS_LAUNCH_SEARCH="launch-search",n.ACTION_SPLIT_SCREEN="splitscreen",n.ACTION_FULLSCREEN="fullscreen",n.ACTION_HELP_MENU="helpMenu",n.ACTION_GUIDED_TOUR="guidedTour",n.ACTION_ROLE_MENU="roleMenu",n.ACTION_TASK_MENU="taskMenu",n.ACTION_MESSAGES_MENU="messagesMenu",n.ACTION_WIDGET_CREATE="widget-create",n.ACTION_FAVORITE_LAUNCH="favorite-launch",n.ACTION_WIDGET_CHART_LINK="widget-chart-link",n.ACTION_WIDGET_CONTROL="widget-control",n.ACTION_API_OPEN_APP="openApp",n.ACTION_DASHBOARDS_OPEN_DASHBOARD="openDashboard",i.ActionConstants=n},{}],2:[function(e,t,i){"use strict";var n=e("./action-constants"),r=e("../../util/url.helper"),o=function(){function e(e,t,i,n,r){var o=this;this.logEnabled=!0,this.queue=[],this.deviceService=e,this.intervalService=i,this.workplaceContextService=t,this.httpService=n,this.language=r,this.intervalService(this.flushQueue.bind(this),6e5),this.workplaceContextService.getProperty("client.actions.log.enable").then(function(e){e&&(o.logEnabled="true"===e.value)})}return e.$inject=["deviceService","workplaceContextService","$interval","$http","language"],e.prototype.logAction=function(e){var t=this;this.logEnabled&&this.workplaceContextService.getAppContext("role").then(function(i){t.queue.push(_.merge({},{source:n.ActionConstants.SOURCE_WORKPLACE,businessRoles:i.role,deviceType:t.deviceService.device},e)),t.flushQueue()})},e.prototype.flushQueue=function(){if(this.queue.length){var e=this.queue,t=r.UrlHelper.appendQueryString("./rest/workplace/logs",{lang:this.language.lang});this.queue=[],this.httpService.post(t,e)}},e}();i.ActionLogService=o},{"../../util/url.helper":321,"./action-constants":1}],3:[function(e,t,i){"use strict";function n(){for(var e,t=navigator.language||navigator.browserLanguage,i=screen.width>992||navigator.platform&&null!==navigator.platform&&-1!==navigator.platform.indexOf("Win")?1:2,n=/\+/g,r=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(n," "))},a=""===window.location.search?window.location.hash.substring(3):window.location.search.substring(1),s={};e=r.exec(a);)s[o(e[1])]=o(e[2]);jQuery.ajax({type:"GET",dataType:"text",url:"./rest/workplace/init?bl="+t+"&deviceType="+i+((s.demoMode?"&demoMode=true":"")+(s.lang?"&lang="+s.lang:"")),success:function(e){window.Locale=e||"en-US",angular.bootstrap(document,["app"])},error:function(){console.log("Error while calling /workplace/init"),window.Locale=navigator.language||navigator.browserLanguage||"en-US";var e=angular.bootstrap(document,["app"]);e.get("$state").go("error")}})}i.bootstrapApp=n},{}],4:[function(e,t,i){"use strict";var n=e("./menu/menu.overlay"),r=e("./app.icons"),o=function(){function t(i,o,a,s,c,l,d){var p=e("../assets/i18n/locale-de.json"),u=e("../assets/i18n/locale-en.json"),h=e("../assets/i18n/locale-es.json");o.debugEnabled(!0),d.locale=Locale,a.translations("de","string"==typeof p?JSON.parse(p):p).translations("en","string"==typeof u?JSON.parse(u):u).translations("es","string"==typeof h?JSON.parse(h):h).useSanitizeValueStrategy("escapeParameters").fallbackLanguage("en").preferredLanguage(Locale.split("-")[0]),s.setNotificationOptions({closeHtml:'<button><i class="'+r.Icons.CLOSE+'"></i></button>',closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!0,onclick:null,showDuration:300,hideDuration:1e3,timeOut:5e3,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}),i.interceptors.push("httpInterceptor"),c.setPollingInterval(t.TASK_POLLING_INTERVAL),Tether.modules.push({position:n.MenuOverlay.customTetherPositioning}),l.aHrefSanitizationWhitelist(/^\s*(https?|mailto|im|tel|awemailclient|file|smb|awb|awbs):/)}return t.$inject=["$httpProvider","$logProvider","$translateProvider","notificationServiceProvider","tasksServiceProvider","$compileProvider","languageProvider"],t}();o.TASK_POLLING_INTERVAL=6e5,i.Config=o},{"../assets/i18n/locale-de.json":293,"../assets/i18n/locale-en.json":294,"../assets/i18n/locale-es.json":295,"./app.icons":6,"./menu/menu.overlay":193}],5:[function(e,t,i){"use strict";function n(e,t){function i(t){e.publish({channel:r.NotificationService.CHANNEL,topic:r.NotificationService.TOPIC_MESSAGE,data:{type:"error",message:t}})}function n(){e.publish({channel:o.WorkplaceContextService.CHANNEL,topic:o.WorkplaceContextService.TOPIC_SESSION_EXPIRED})}return{request:function(e){var t=e.noCache||!1;return t&&(e.params||(e.params={}),e.params.c=_.uniqueId((new Date).getTime()+"_")),e},requestError:function(e){return this.responseError(e)},responseError:function(e){var r=!0;if(e&&e.config&&"undefined"!=typeof e.config.errorNotification)if(e.config.errorNotification){var o=_.keys(e.config.errorNotification).find(function(t){return t===e.status.toString()});r=_.isUndefined(o)||!!e.config.errorNotification[o]}else r=!1;if(r)switch(e.status){case-1:break;case 403:i("error.http.status.403");break;case 404:i("error.http.status.404");break;case 406:i("error.file.contains.virus");break;case 415:i("error.file.content.type.not.allowed");break;case 503:i("error.http.status.503");break;case 502:i("error.http.status.503");break;case 511:n();break;default:i("error.http.status.500")}return t.reject(e)}}}n.$inject=["postal","$q"];var r=e("./notification/notification.service"),o=e("./workplace/workplace.context.service");i.httpInterceptorFactory=n},{"./notification/notification.service":204,"./workplace/workplace.context.service":292}],6:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.HELP="iwp-icon-gen_help",n.APP_DEFAULT="iwp-icon-default_app",n.DASHBOARD_DEFAULT="iwp-icon-iwp_dashboard",n.DASHBOARD_ADD="iwp-icon-iwp_dashboard_add",n.APP_GROUP="iwp-icon-zeb_folder",n.TASK_GAMS="iwp-icon-gams_task",n.TASK_PQM="iwp-icon-pqm_task",n.TASK_DBKR="iwp-icon-dbkr_task",n.TASK_QMT="iwp-icon-qmt_task",n.TASK_NEXTONE="iwp-icon-nextone_task",n.TASK_DEFAULT="iwp-icon-iwp_task",n.EMPLOYEE_DEFAULT="iwp-icon-gen_user",n.FAVORITE_DEFAULT="iwp-icon-gen_link",n.MESSAGES_DEFAULT="iwp-icon-gen_email",n.MESSAGES_INFO="iwp-icon-gen_info",n.MESSAGES_WARN="iwp-icon-gen_warning",n.CLOSE="iwp-icon-gen_close",n.LOGOUT="iwp-icon-gen_logout",i.Icons=n},{}],7:[function(e,t,i){"use strict";var n,r=e("./app.route"),o=e("./app.config"),a=e("./app.run"),s=e("./layout/layout.controller"),c=e("./components/sidebar/sidebar.directive"),l=e("./components/searchbar/searchbar.directive"),d=e("./components/appsmenu/appsmenu.directive"),p=e("./components/appsmenu/appsmenu.item.directive"),u=e("./components/tabview/tabview.directive"),h=e("./components/tabview/tabview.content.directive"),g=e("./layout/layout.responsive.spy.directive"),m=e("./tab/tab.layout.directive"),v=e("./dashboard/dashboard.directive"),f=e("./widget/chart/chart.pie.directive"),b=e("./widget/chart/chart.bar.directive"),y=e("./widget/chart/chart.directive"),S=e("./components/userinfo/userinfo.directive"),_=e("../util/optiscroll.directive"),w=e("./components/task/tasks.directive"),C=e("./apps/apps.frame.component.directive"),D=e("../util/interact/sortable.directive"),T=e("../util/interact/sortable.draggable.directive"),E=e("../util/interact/dropzone.directive"),A=e("./components/loader/loader.directive"),I=e("./layout/layout.service"),k=e("./tab/tab.service"),O=e("./errors/error.service"),x=e("./tab/tab.manager"),L=e("./apps/apps.store.factory"),M=e("./user/user.store.factory"),P=e("./setting/setting.store.factory"),R=e("./stores/local.store.factory"),N=e("./task/tasks.store.factory"),U=e("./widget/widget.definition.store.factory"),F=e("../util/device.service"),B=e("./apps/apps.service"),W=e("./dashboard/dashboard.service"),$=e("./user/user.service"),j=e("./setting/setting.service"),z=e("./task/tasks.provider"),H=e("./widget/widget.service"),G=e("./workplace/workplace.context.service"),V=e("./workplace/workplace.api.service"),q=e("./components/roleContext/roleContext.directive"),K=e("./widget/list/list.directive"),Y=e("./notification/notification.provider"),Q=e("./widget/tile/tile.directive"),X=e("../util/bootstrap/popover.directive"),Z=e("./widget/chart/chart.color.filter.factory"),J=e("../util/interact/hold.directive"),ee=e("../util/interact/draggable.directive"),te=e("../util/throttleclick.directive"),ie=e("./notification/popup.service"),ne=e("./notification/popup.center.directive"),re=e("./app.http.interceptor.factory"),oe=e("./dashboard/dashboard.store.factory"),ae=e("./layout/layout.split.directive"),se=e("./widget/favorite/favorite.directive"),ce=e("./components/help/help.directive"),le=e("./components/menu/menu.item.directive"),de=e("./components/titlebar/titlebar.split.directive"),pe=e("./components/omnisearch/omnisearch.directive"),ue=e("./omnisearch/omnisearch.service"),he=e("./components/omnisearch/search-result-item/search-result-item.directive"),ge=e("./components/omnisearch/search-card/search-card.directive"),me=e("./components/navbarmenu/navbarmenu.directive"),ve=e("./menu/menu.overlay.directive"),fe=e("../util/template.directive"),be=e("./menu/menu.service"),ye=e("./components/viewToggle/view.toggle.directive"),Se=e("./components/task/task.info.item.directive"),_e=e("./components/userinfo/user.info.item.directive"),we=e("./components/dialogs/add-favorite.directive"),Ce=e("./form/url.validator"),De=e("./components/dialogs/confirm.directive"),Te=e("./components/fullscreen/fullscreen.directive"),Ee=e("./components/userinfo/action.item.directive"),Ae=e("./components/dialogs/edit-favorite.directive"),Ie=e("./components/dialogs/dialog-header.directive"),ke=e("./employee/employee.service"),Oe=e("./employee/employee.store.factory"),xe=e("./components/omnisearch/search-result-employee/search-result-employee.directive"),Le=e("./messages/messages-info-item.directive"),Me=e("./messages/messages.service"),Pe=e("./messages/messages.store.factory"),Re=e("./messages/message-list.directive"),Ne=e("./messages/message-item.directive"),Ue=e("./components/fileHandling/file-input-change.directive"),Fe=e("./components/cropper/cropper.directive"),Be=e("./components/fileHandling/cropped-image-resizer.directive"),We=e("./components/fileHandling/variable-src-image.directive"),$e=e("./fileHandling/image.service"),je=e("./guidedTour/guidedTour.service"),ze=e("./form/local-url.validator"),He=e("./widget/ekw/ekw.directive"),Ge=e("./widget/ekw/sap-cookie-iframe.directive"),Ve=e("./actionLog/action-log.service"),qe=e("./widget/chart/tlt-chart.directive"),Ke=e("./widget/table/table.directive"),Ye=e("./widget/table/format-column.filter.factory"),Qe=e("./components/dropdownMenu/dropdown-menu.directive"),Xe=e("./components/dropdownMenu/dropdown-menu-item.directive"),Ze=e("./components/dialogs/guidedtour-dialog.directive"),Je=e("./components/dialogs/logout-confirmation-dialog.directive"),et=e("./sessionData/session-data.service"),tt=e("./guidedTour/guidedTour.factory"),it=e("./components/dialogs/add-dashboard-dialog.directive"),nt=e("./components/dialogs/edit-dashboard-dialog.directive"),rt=e("./components/dialogs/delete-dashboard-confirmation-dialog.directive"),ot=e("./components/dialogs/share-dialog.directive"),at=e("./components/chip/chip.directive"),st=e("./components/searchfield/search-field.directive"),ct=e("./groups/group.store.factory"),lt=e("./groups/group.service"),dt=e("./components/table/table.directive"),pt=e("./sharing/sharing.service"),ut=e("./components/dialogs/accept-favorite-dialog.directive"),ht=e("./widget/iframe-widget/iframe-widget.directive"),gt=e("./widget/pmc/pmc.directive"),mt=e("./components/widgetTable/widget-table.directive"),vt=e("../util/d3-locale.service"),ft=e("./widget/pmc/pmc.line.chart.directive"),bt=e("./guidedTour/guidedTour-list.directive"),yt=e("./components/pagination/pagination.directive"),St=e("../util/plain-text.filter.factory"),_t=e("./widget/chart/chart.stacked.bar.directive"),wt=e("./components/dialogs/cordova-dialog.directive"),Ct=e("./workplace/workplace-native-device.service"),Dt=e("./appBehavior/app-behavior.factory"),Tt=e("./appBehavior/interframe-drag-manager.service"),Et=e("./userSetting/user-setting.store.factory"),At=e("./userSetting/user-setting.service"),It=e("./widget/locked/locked.directive"),kt=e("./components/dialogs/edit-widget-size-dialog.directive"),Ot=e("./components/sizeGrid/size-grid.directive"),xt=e("./components/dialogs/terms-of-use-dialog.directive"),Lt=e("./components/appsmenu/dashboardmenu.item.directive"),Mt=e("./widget/live-tile/live-tile.directive"),Pt=e("./dashboard/category.directive"),Rt=e("./components/container/grid-layout.directive"),Nt=e("./components/container/grid-layout-item.directive"),Ut=e("./components/container/grid-layout-item-drag-handle.directive"),Ft=e("./components/container/grid-layout-dnd-manager.factory"),Bt=e("./components/inlineEdit/inline-edit.directive"),Wt=e("./components/widgetContext/widget-context.directive"),$t=e("./frameLayout/frame-layout-menu-item.directive"),jt=e("./frameLayout/frame-layout.service"),zt=e("./frameLayout/frame-layout.store.factory"),Ht=e("./frameLayout/frame-layout.directive"),Gt=e("./components/omnisearch/search-result-app/search-result-app.directive"),Vt=e("./restrictions/restrictions.service"),qt=e("./apps/app-blocked.directive"),Kt=e("./components/dialogs/session-expired-dialog.directive"),Yt=e("./ratingCampaign/rating-campaign.service"),Qt=e("./components/dialogs/rating-campaign-dialog.directive"),Xt=e("../util/localized-number.filter"),Zt=e("../util/localized-date.filter"),Jt=e("./components/dialogs/app-dialog.directive"),ei=e("../util/language.provider"),ti=e("./app.bootstrap"),ii=e("./widget/dashboard-link/dashboard-link.directive"),ni=e("./components/omnisearch/search-result-dashboard/search-result-dashboard.directive"),ri=e("./components/dialogs/share-dashboard-dialog.directive"),oi=e("./components/dialogs/survey-campaign-dialog.directive"),ai=e("./widget/web-component/web-component.directive"),si=e("./widget/web-component/web-component-props.directive"),ci=e("./components/dialogs/maximize-widget-dialog.directive"),li=e("./components/omnisearch/search-result-favorite/search-result-favorite.directive"),di=e("./components/restrictedText/restrictedText.directive"),pi=e("./widget/tasks/tasks.directive");!function(e){angular.module("app-dependencies",["ngAnimate","ngSanitize","ui.router","ct.ui.router.extras","pascalprecht.translate","ui.bootstrap","js-data","ng.deviceDetector","ngCookies","debounce"]).constant("postal",postal).constant("toastr",toastr).constant("shepherd",Shepherd).constant("jQuery",jQuery).provider("notificationService",Y.NotificationProvider).provider("tasksService",z.TasksPolling).provider("language",ei.LanguageProvider).service("menuService",be.MenuService).service("layoutService",I.LayoutService).service("tabService",k.TabService).service("errorService",O.ErrorService).service("deviceService",F.DeviceService).service("appsService",B.AppsService).service("dashboardService",W.DashboardService).service("userService",$.UserService).service("settingService",j.SettingService).service("userSettingService",At.UserSettingService).service("widgetService",H.WidgetService).service("workplaceContextService",G.WorkplaceContextService).service("workplaceApiService",V.WorkplaceApiService).service("popupService",ie.PopupService).service("employeeService",ke.EmployeeService).service("groupService",lt.GroupService).service("omnisearchService",ue.OmnisearchService).service("messagesService",Me.MessagesService).service("guidedTourService",je.GuidedTourService).service("imageService",$e.ImageService).service("sessionDataService",et.SessionDataService).service("actionLogService",Ve.ActionLogService).service("sharingService",pt.SharingService).service("workplaceNativeDeviceService",Ct.WorkplaceNativeDeviceService).service("interframeDragService",Tt.InterframeDragService).service("frameLayoutService",jt.FrameLayoutService).service("restrictionsService",Vt.RestrictionsService).service("ratingCampaignService",Yt.RatingCampaignService).factory("appsStore",L.appsStoreFactory).factory("userStore",M.userStoreFactory).factory("settingsStore",P.settingStoreFactory).factory("userSettingsStore",Et.userSettingStoreFactory).factory("tasksStore",N.tasksStoreFactory).factory("employeeStore",Oe.employeeStoreFactory).factory("groupStore",ct.groupStoreFactory).factory("$exceptionHandler",O.ErrorService.exceptionHandlerFactory).factory("tabManagerFactory",x.TabManager.factory).factory("localStore",R.localStoreFactory).factory("widgetDefinitionStore",U.widgetDefinitionStoreFactory).factory("dashboardStore",oe.dashboardStoreFactory).factory("httpInterceptor",re.httpInterceptorFactory).factory("messagesStore",Pe.messagesStoreFactory).factory("guidedTourStartup",tt.guidedTourStartup).factory("appBehavior",Dt.appBehaviorFactory).factory("gridLayoutDndManagerFactory",Ft.gridLayoutDndManagerFactory).factory("frameLayoutsStore",zt.frameLayoutStoreFactory).filter("chartColor",Z.chartColorFilterFactory).filter("formatColumn",Ye.formatColumnFilterFactory).filter("plainText",St.plainTextFilter).filter("localizedNumber",Xt.localizedNumberFilter).filter("localizedDate",Zt.localizedDateFilter).controller("LayoutController",s.LayoutController).directive("appComponentsSidebar",c.sidebarDirective).directive("appComponentsTitlebarSplit",de.titlebarSplitDirective).directive("appComponentsSearchbar",l.searchbarDirective).directive("appComponentsAppsMenu",d.appsmenuDirective).directive("appComponentsAppsMenuItem",p.appsmenuItemDirective).directive("appComponentsTabview",u.tabviewDirective).directive("appComponentsTabviewContent",h.tabviewContentDirective).directive("appLayoutResponsiveSpy",g.appLayoutResponsiveSpyDirective).directive("appTabLayout",m.appTabLayoutDirective).directive("appDashboard",v.dashboardDirective).directive("appWidgetChartPie",f.pieChartWidgetDirective).directive("appWidgetChartBar",b.barChartWidgetDirective).directive("appWidgetChartStackedBar",_t.stackedBarChartWidgetDirective).directive("appWidgetChart",y.chartWidgetDirective).directive("appComponentsUserinfo",S.userinfoDirective).directive("usertasksDirective",w.usertasksDirective).directive("utilOptiscroll",_.optiscrollDirective).directive("appAppsFrameComponent",C.appsFrameComponentDirective).directive("utilInteractSortable",D.sortableDirective).directive("utilInteractSortableDraggable",T.sortableDraggableDirective).directive("utilInteractDropzone",E.dropzoneDirective).directive("appComponentsLoader",A.loaderDirective).directive("appComponentsRoleContext",q.roleContextDirective).directive("appWidgetList",K.listWidgetDirective).directive("appWidgetTile",Q.tileWidgetDirective).directive("appWidgetLiveTile",Mt.liveTileWidgetDirective).directive("appWidgetFavorite",se.favoriteWidgetDirective).directive("appWidgetTable",Ke.tableWidgetDirective).directive("dashboardLinkWidget",ii.dashboardLinkWidgetDirective).directive("utilBootstrapPopover",X.popoverDirective).directive("utilInteractHold",J.holdDirective).directive("utilInteractDraggable",ee.draggableDirective).directive("utilThrottleClick",te.throttleclickDirective).directive("utilTemplate",fe.utilTemplateDirective).directive("popupCenterDirective",ne.popupCenterDirective).directive("appComponentsHelp",ce.helpDirective).directive("appLayoutSplit",ae.layoutSplitDirective).directive("appComponentsMenuItem",le.menuItemDirective).directive("appComponentsOmnisearch",pe.omnisearchDirective).directive("appSearchResultItem",he.searchResultItemDirective).directive("appSearchResultEmployee",xe.searchResultEmployeeDirective).directive("appSearchResultDashboard",ni.searchResultDashboardDirective).directive("appSearchResultFavorite",li.searchResultFavoriteDirective).directive("appSearchCards",ge.searchCardDirective).directive("appComponentsNavbarMenu",me.navbarmenuDirective).directive("appMenuMenuOverlay",ve.menuOverlayDirective).directive("appComponentsViewToggle",ye.viewToggleDirective).directive("appComponentsTaskTaskInfoItem",Se.taskInfoItemDirective).directive("appComponentsUserinfoUserInfoItem",_e.userInfoItemDirective).directive("appModalsAddFavorite",we.addFavoriteDirective).directive("appModalsEditFavorite",Ae.editFavoriteDirective).directive("confirmationDialog",De.confirmationDialog).directive("appComponentsGuidedTourDialog",Ze.guidedTourDialogDirective).directive("appGuidedTourList",bt.guidedTourListDirective).directive("isuri",Ce.isuri).directive("isnolocaluriwindows",ze.isNoLocalUriWindows).directive("appComponentsFullscreenToggle",Te.fullscreenToggleDirective).directive("appComponentsActionItem",Ee.actionItemDirective).directive("appComponentDialogHeader",Ie.dialogHeaderDirective).directive("fileInputChange",Ue.fileInputChangeDirective).directive("appComponentImageCropper",Fe.cropperDirective).directive("croppedImageResizer",Be.croppedImageResizerDirective).directive("appComponentsVariableImgSource",We.variableSrcImageDirective).directive("appMessagesMessagesInfoItem",Le.messagesInfoItemDirective).directive("appMessagesMessageList",Re.messageListDirective).directive("appMessagesMessageItem",Ne.messageItemDirective).directive("appWidgetEkw",He.ekwWidgetDirective).directive("appWidgetTasks",pi.tasksWidgetDirective).directive("sapCookieIframe",Ge.sapCookieIframeDirective).directive("appTltWidgetChart",qe.tltChartWidgetDirective).directive("appComponentsDropdownMenu",Qe.dropdownMenuDirective).directive("appComponentsDropdownMenuItem",Xe.dropdownMenuItemDirective).directive("logoutConfirmationDialog",Je.logoutConfirmationDialogDirective).directive("sessionExpiredDialog",Kt.sessionExpiredDialogDirective).directive("addDashboardDialog",it.addDashboardDirective).directive("deleteDashboardConfirmationDialog",rt.deleteDashboardConfirmationDialogDirective).directive("renameDialog",nt.renameDialogDirective).directive("shareDialog",ot.shareDialogDirective).directive("shareDashboardDialog",ri.shareDashboardDialogDirective).directive("appChip",at.chipDirective).directive("appSearchField",st.searchFieldDirective).directive("termsOfUseDialog",xt.termsOfUseDialogDirective).directive("appTable",dt.tableDirective).directive("acceptFavoriteDialog",ut.acceptFavoriteDirective).directive("appIframeWidget",ht.IFrameWidgetDirective).directive("appPmcWidget",gt.pmcWidgetDirective).directive("appWidgetTableComponent",mt.widgetTableDirective).directive("appPmcLineChartWidget",ft.pmcLineChartWidgetDirective).directive("appPaginationComponent",yt.paginationDirective).directive("appRestrictedTextComponent",di.restrictedTextDirective).directive("cordovaDialog",wt.cordovaDialogDirective).directive("appLockedWidget",It.lockedWidgetDirective).directive("widgetSizeDialog",kt.editWidgetSiteDirective).directive("appWidgetSizeComponent",Ot.widgetSizeGridDirective).directive("appComponentsDashboardMenuItem",Lt.dashboardMenuItemDirective).directive("category",Pt.dashboardCategoryDirective).directive("appComponentsContainerGridLayout",Rt.gridLayoutDirective).directive("appComponentsGridLayoutItem",Nt.gridLayoutItemDirective).directive("appComponentsGridLayoutItemDragHandle",Ut.gridLayoutItemDragHandleDirective).directive("inlineEdit",Bt.inlineEditDirective).directive("appComponentsWidgetContext",Wt.widgetContextDirective).directive("frameLayoutMenuItem",$t.frameLayoutMenuItemDirective).directive("frameLayout",Ht.frameLayoutDirective).directive("appSearchResultApp",Gt.searchResultAppDirective).directive("appBlocked",qt.lockedAppDirective).directive("ratingCampaignDialog",Qt.ratingCampaignDialogDirective).directive("surveyCampaignDialog",oi.surveyCampaignDialogDirective).directive("appDialog",Jt.appDialogDirective).directive("webComponentWidget",ai.webComponentWidgetDirective).directive("componentProps",si.webComponentPropsDirective).directive("maximizeWidgetDialog",ci.maximizeWidgetDialogDirective).service("d3LocaleService",vt.D3LocaleService),angular.module("app",["app-dependencies"]).config(r.RouterConfig).config(o.Config).run(a.RunBlock),angular.element(document).ready(ti.bootstrapApp)}(n||(n={}))},{"../util/bootstrap/popover.directive":296,"../util/d3-locale.service":297,"../util/device.service":299,"../util/interact/draggable.directive":302,"../util/interact/dropzone.directive":304,"../util/interact/hold.directive":305,"../util/interact/sortable.directive":307,"../util/interact/sortable.draggable.directive":308,"../util/language.provider":309,"../util/localized-date.filter":314,"../util/localized-number.filter":315,"../util/optiscroll.directive":316,"../util/plain-text.filter.factory":317,"../util/template.directive":318,"../util/throttleclick.directive":319,"./actionLog/action-log.service":2,"./app.bootstrap":3,"./app.config":4,"./app.http.interceptor.factory":5,"./app.route":8,"./app.run":9,"./appBehavior/app-behavior.factory":10,"./appBehavior/interframe-drag-manager.service":11,"./apps/app-blocked.directive":12,"./apps/apps.frame.component.directive":15,"./apps/apps.service":17,"./apps/apps.store.factory":18,"./components/appsmenu/appsmenu.directive":19,"./components/appsmenu/appsmenu.item.directive":20,"./components/appsmenu/dashboardmenu.item.directive":23,"./components/chip/chip.directive":26,"./components/container/grid-layout-dnd-manager.factory":29,"./components/container/grid-layout-item-drag-handle.directive":31,"./components/container/grid-layout-item.directive":32,"./components/container/grid-layout.directive":34,"./components/cropper/cropper.directive":36,"./components/dialogs/accept-favorite-dialog.directive":38,"./components/dialogs/add-dashboard-dialog.directive":40,"./components/dialogs/add-favorite.directive":42,"./components/dialogs/app-dialog.directive":44,"./components/dialogs/confirm.directive":47,"./components/dialogs/cordova-dialog.directive":49,"./components/dialogs/delete-dashboard-confirmation-dialog.directive":51,"./components/dialogs/dialog-header.directive":54,"./components/dialogs/edit-dashboard-dialog.directive":56,"./components/dialogs/edit-favorite.directive":58,"./components/dialogs/edit-widget-size-dialog.directive":60,"./components/dialogs/guidedtour-dialog.directive":64,"./components/dialogs/logout-confirmation-dialog.directive":66,"./components/dialogs/maximize-widget-dialog.directive":68,"./components/dialogs/rating-campaign-dialog.directive":70,"./components/dialogs/session-expired-dialog.directive":72,"./components/dialogs/share-dashboard-dialog.directive":74,"./components/dialogs/share-dialog.directive":76,"./components/dialogs/survey-campaign-dialog.directive":78,"./components/dialogs/terms-of-use-dialog.directive":80,"./components/dropdownMenu/dropdown-menu-item.directive":82,"./components/dropdownMenu/dropdown-menu.directive":84,"./components/fileHandling/cropped-image-resizer.directive":86,"./components/fileHandling/file-input-change.directive":87,"./components/fileHandling/variable-src-image.directive":88,"./components/fullscreen/fullscreen.directive":90,"./components/help/help.directive":92,"./components/inlineEdit/inline-edit.directive":94,"./components/loader/loader.directive":96,"./components/menu/menu.item.directive":98,"./components/navbarmenu/navbarmenu.directive":100,"./components/omnisearch/omnisearch.directive":102,"./components/omnisearch/search-card/search-card.directive":104,"./components/omnisearch/search-result-app/search-result-app.directive":106,"./components/omnisearch/search-result-dashboard/search-result-dashboard.directive":108,"./components/omnisearch/search-result-employee/search-result-employee.directive":110,"./components/omnisearch/search-result-favorite/search-result-favorite.directive":112,"./components/omnisearch/search-result-item/search-result-item.directive":114,"./components/pagination/pagination.directive":116,"./components/restrictedText/restrictedText.directive":118,"./components/roleContext/roleContext.directive":121,"./components/searchbar/searchbar.directive":123,"./components/searchfield/search-field.directive":125,"./components/sidebar/sidebar.directive":127,"./components/sizeGrid/size-grid.directive":129,"./components/table/table.directive":131,"./components/tabview/tabview.content.directive":133,"./components/tabview/tabview.directive":135,"./components/task/task.info.item.directive":137,"./components/task/tasks.directive":139,"./components/titlebar/titlebar.split.directive":141,"./components/userinfo/action.item.directive":143,"./components/userinfo/user.info.item.directive":145,"./components/userinfo/userinfo.directive":147,"./components/viewToggle/view.toggle.directive":149,"./components/widgetContext/widget-context.directive":151,"./components/widgetTable/widget-table.directive":153,"./dashboard/category.directive":155,"./dashboard/dashboard.directive":157,"./dashboard/dashboard.service":159,"./dashboard/dashboard.store.factory":160,"./employee/employee.service":162,"./employee/employee.store.factory":163,"./errors/error.service":164,"./fileHandling/image.service":167,"./form/local-url.validator":168,"./form/url.validator":169,"./frameLayout/frame-layout-menu-item.directive":171,"./frameLayout/frame-layout.directive":175,"./frameLayout/frame-layout.service":176,"./frameLayout/frame-layout.store.factory":177,"./groups/group.service":179,"./groups/group.store.factory":180,"./guidedTour/guidedTour-list.directive":181,"./guidedTour/guidedTour.factory":183,"./guidedTour/guidedTour.service":185,"./layout/layout.controller":186,"./layout/layout.responsive.spy.directive":188,"./layout/layout.service":189,"./layout/layout.split.directive":190,"./menu/menu.overlay.directive":192,"./menu/menu.service":194,"./messages/message-item.directive":195,"./messages/message-list.directive":197,"./messages/messages-info-item.directive":199,"./messages/messages.service":201,"./messages/messages.store.factory":202,"./notification/notification.provider":203,"./notification/popup.center.directive":205,"./notification/popup.service":206,"./omnisearch/omnisearch.service":214,"./ratingCampaign/rating-campaign.service":218,"./restrictions/restrictions.service":219,"./sessionData/session-data.service":220,"./setting/setting.service":222,"./setting/setting.store.factory":223,"./sharing/sharing.service":224,"./stores/local.store.factory":225,"./tab/tab.layout.directive":228,"./tab/tab.manager":230,"./tab/tab.service":231,"./task/tasks.provider":233,"./task/tasks.store.factory":235,"./user/user.service":238,"./user/user.store.factory":239,"./userSetting/user-setting.service":240,"./userSetting/user-setting.store.factory":241,"./widget/chart/chart.bar.directive":243,"./widget/chart/chart.color.filter.factory":245,"./widget/chart/chart.directive":246,"./widget/chart/chart.pie.directive":248,"./widget/chart/chart.stacked.bar.directive":250,"./widget/chart/tlt-chart.directive":254,"./widget/dashboard-link/dashboard-link.directive":256,"./widget/ekw/ekw.directive":258,"./widget/ekw/sap-cookie-iframe.directive":260,"./widget/favorite/favorite.directive":261,"./widget/iframe-widget/iframe-widget.directive":263,"./widget/list/list.directive":265,"./widget/live-tile/live-tile.directive":267,"./widget/locked/locked.directive":269,"./widget/pmc/pmc.directive":271,"./widget/pmc/pmc.line.chart.directive":272,"./widget/table/format-column.filter.factory":275,"./widget/table/table.directive":276,"./widget/tasks/tasks.directive":278,"./widget/tile/tile.directive":280,
"./widget/web-component/web-component-props.directive":282,"./widget/web-component/web-component.directive":283,"./widget/widget.definition.store.factory":287,"./widget/widget.service":288,"./workplace/workplace-native-device.service":290,"./workplace/workplace.api.service":291,"./workplace/workplace.context.service":292}],8:[function(e,t,i){"use strict";var n=e("../util/url.helper"),r=function(){function e(e,t){function i(e,t,i,r,o,a,s){return i.is("app")?s.waitForStartupComplete().then(function(){if("string"==typeof e.name){var r=e.name.replace(/%2F/g,"/").split("/")[0],o=e.name.replace(/%2F/g,"/").replace(r,""),a=e.params&&e.params&&"-"!==e.params?n.UrlHelper.fromQueryString(e.params.replace(/~/g,"&")):{},s=e.hash?decodeURIComponent(e.hash):null,c=e.tabTitle&&"-"!==e.tabTitle?decodeURIComponent(e.tabTitle):null;t.openAppByName({name:r,queryParams:a,hash:s,path:o,tabTitle:c}),i.go("app",null,{location:!0})}}):i.go("app",null,{location:!1}),!0}function r(e,t,i,r){return i.is("app")?r.waitForStartupComplete().then(function(){var r=e.params&&e.params&&"-"!==e.params?n.UrlHelper.fromQueryString(e.params.replace(/~/g,"&")):{};"string"==typeof e.name&&(t.openDeepLinkDashoard(e.name,r),i.go("app",null,{location:!0}))}):i.go("app",null,{location:!1}),!0}function o(e,t,i,r,o,a){return i.is("app")?a.waitForStartupComplete().then(function(){if("string"==typeof e.name){var r=e.name.replace(/%2F/g,"/").split("/")[0],a=e.name.replace(/%2F/g,"/").replace(r,""),s=e.params&&"-"!==e.params?n.UrlHelper.fromQueryString(e.params.replace(/~/g,"&")):{},c=e.hash?decodeURIComponent(e.hash):null;t.getApp(r).then(function(e){var r=_.cloneDeep(e);_.isEmpty(a)||(r.url=null===n.UrlHelper.getOriginFromUrl(e.url)?e.url+a:n.UrlHelper.getOriginFromUrl(e.url)+a),t.openApp(r).then(function(e){return o.refreshApp(e,s,c)}),i.go("app",null,{location:!0})})}}):i.go("app",null,{location:!1}),!0}function a(e,t,i,r,o){return i.is("app")?o.waitForStartupComplete().then(function(){var r=e.params&&e.params&&"-"!==e.params?n.UrlHelper.fromQueryString(e.params.replace(/~/g,"&")):{};"string"==typeof e.name&&(t.openLayoutById(e.name,r),i.go("app",null,{location:!0}))}):i.go("app",null,{location:!1}),!0}function s(e,t,i,r,o){return i.is("app")?o.waitForStartupComplete().then(function(){var r=e.widgetId.replace(/%2F/g,"/").split("/")[0];if(!r)return!0;var o=e.widgetId.replace(/%2F/g,"/").replace(r,""),a=e.params&&e.params&&"-"!==e.params?n.UrlHelper.fromQueryString(e.params.replace(/~/g,"&")):{},s=e.hash?decodeURIComponent(e.hash):null;"string"==typeof e.name&&(t.openLayoutById(e.name,a,{widgetId:r,path:o,hash:s,params:a}),i.go("app",null,{location:!0}))}):i.go("app",null,{location:!1}),!0}i.$inject=["$match","appsService","$state","$location","workplaceApiService","actionLogService","sessionDataService"],r.$inject=["$match","dashboardService","$state","sessionDataService"],o.$inject=["$match","appsService","$state","$location","workplaceApiService","sessionDataService"],s.$inject=["$match","frameLayoutService","$state","$location","sessionDataService"],a.$inject=["$match","frameLayoutService","$state","$location","sessionDataService"],t.when("/app/:name",i).when("/app/:name/:params",i).when("/app/:name/:params/:hash",i).when("/app/:name/:params/:hash/:tabTitle",i).when("/refresh/:name",o).when("/refresh/:name/:params",o).when("/refresh/:name/:params/:hash",o).when("/connect/:name",o).when("/connect/:name/:params",o).when("/connect/:name/:params/:hash",o).when("/dashboard/:name",r).when("/dashboard/:name/:params",r).when("/layout/:name/widget/:widgetId",s).when("/layout/:name/widget/:widgetId/:params",s).when("/layout/:name/widget/:widgetId/:params/:hash",s).when("/layout/:name",a).when("/layout/:name/:params",a).otherwise("/"),e.state("error",{url:"/error",templateUrl:"app/errors/error.html",controller:"LayoutController",controllerAs:"vm"}).state("app",{url:"/",templateUrl:"app/layout/layout.html",controller:"LayoutController",controllerAs:"vm"})}return e.$inject=["$stateProvider","$urlRouterProvider"],e}();i.RouterConfig=r},{"../util/url.helper":321}],9:[function(e,t,i){"use strict";var n=function(){function e(e,t,i,n,r,o,a,s,c,l,d,p){FastClick.attach(document.body),e.startPolling(),s.getProperty("process.beforeunload").then(function(e){e&&"false"===e.value?a.addUnloadHandler():a.addUserPromptedUnloadHandler()}),n.restoreSession(),interact.dynamicDrop(!0),t.defaults.queryTransform=function(e,t){return Object.assign({},t,{lang:t.lang||p.lang})},c.getTermsOfUse().then(function(e){!e||200!==e.status||e.data.accepted||e.data.content.length<2||-1!==d.path().indexOf("error")||l.showModalWindow("termsOfUseDialog",{okButtonKey:"dialogs.terms.accept",cancelButtonKey:"dialogs.terms.cancel"},!1,"lg")})}return e.$inject=["tasksService","DSHttpAdapter","actionLogService","sessionDataService","guidedTourStartup","$translate","appBehavior","workplaceContextService","userSettingService","popupService","$location","language"],e}();i.RunBlock=n},{}],10:[function(e,t,i){"use strict";function n(e,t,i){var n=function(){t.saveState(),i.closeOpenedWindows()};return{isLogout:!1,addUnloadHandler:function(){window.addEventListener("unload",function(e){n()})},addUserPromptedUnloadHandler:function(){var t=this;e("appbehavior.close.confirmation").then(function(e){window.addEventListener("beforeunload",function(i){return t.isLogout?void 0:((i||window.event).returnValue=e,e)}),window.addEventListener("unload",function(){n()})})}}}n.$inject=["$translate","sessionDataService","appsService"],i.appBehaviorFactory=n},{}],11:[function(e,t,i){"use strict";var n=function(){function e(t,i,n){var r=this;this.jquery=t,this.log=i,this.domMouseMoveHandler=function(e){r.updateDndProxy(e)},this.domMouseDownHandler=function(){r.endDrag()},this.channel=n.channel(e.IFRAME_DND_CHANNEL)}return e.$inject=["jQuery","$log","postal"],e.prototype.setDragCoordinates=function(e,t){this.isDragActive()&&(this.dragObject.position=t,this.setIframeDragProxyPosition(e,t))},e.prototype.setDragObject=function(t,i){return i?(this.dragObject&&this.iFrameDragProxy&&this.iFrameDragProxy.remove(),this.dragObject=i,this.iFrameDragProxy=this.jquery("<div></div>"),this.iFrameDragProxy.css({position:"absolute",color:"#888",backgroundColor:"#fff",border:"1px solid #ddd",padding:"6px",zIndex:1}).html(this.dropRejectedTag),this.setIframeDragProxyPosition(t,i.position),document.addEventListener("mousemove",this.domMouseMoveHandler,!1),document.addEventListener("mousedown",this.domMouseDownHandler,!1),this.jquery("body").append(this.iFrameDragProxy),void this.channel.publish(e.IFRAME_DND_START,{targetFrameId:t.getId(),dragObject:i})):void this.endDrag()},e.prototype.endDrag=function(){document.removeEventListener("mousemove",this.domMouseMoveHandler,!1),document.removeEventListener("mousedown",this.domMouseDownHandler,!1),this.channel.publish(e.IFRAME_DND_END),this.iFrameDragProxy&&this.iFrameDragProxy.remove()},e.prototype.acceptDrop=function(){this.iFrameDragProxy&&this.iFrameDragProxy.html(this.dragAcceptedTag)},e.prototype.rejectDrop=function(){this.iFrameDragProxy&&this.iFrameDragProxy.html(this.dropRejectedTag)},e.prototype.isDragActive=function(){return this.dragObject&&null!==this.dragObject},e.prototype.setIframeDragProxyPosition=function(e,t){this.iFrameDragProxy&&this.iFrameDragProxy.css({top:null===e?t.y-10:e.getIframePosition().y+t.y+30,left:null===e?t.x+10:e.getIframePosition().x+t.x+20,right:"auto",bottom:"auto"})},e.prototype.updateDndProxy=function(e){this.iFrameDragProxy&&this.dragObject&&this.iFrameDragProxy.html(this.dropRejectedTag),this.setDragCoordinates(null,{x:e.x,y:e.y})},Object.defineProperty(e.prototype,"dragAcceptedTag",{get:function(){return'<span style="font-size: 16px; position: absolute; color: #009000;" class="iwp-icon-gen_ok"></span> \n            <span style="padding-left: 20px;">'+(this.dragObject?this.dragObject.dragText:"")+"</span>"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropRejectedTag",{get:function(){return'<span style="font-size: 16px; position: absolute; color: #CC3333;" class="iwp-icon-gen_error"></span>\n            <span style="padding-left: 20px;">'+(this.dragObject?this.dragObject.dragText:"")+"</span>"},enumerable:!0,configurable:!0}),e}();n.IFRAME_DND_CHANNEL="IframeDnDChannel",n.IFRAME_DND_START="IframeDnDStart",n.IFRAME_DND_END="IframeDnDEnd",i.InterframeDragService=n},{}],12:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.LockedApp,{restrict:"E",scope:{app:"="},templateUrl:"app/apps/app-blocked.html"})}var r=e("../components/component"),o=e("./app-blocked");i.lockedAppDirective=n},{"../components/component":28,"./app-blocked":13}],13:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("../tab/tab.service"),a=function(e){function t(t,i,n,r,a){var s=e.call(this)||this;return s.notificationService=t,s.restrictionsService=i,s.translateService=n,s.tabService=a,s.appsService=r,s.translateService("apps.open.not.available").then(function(e){return s.lockedText=e,s.app.locked?(s.restrictionText=s.lockedText,void s.notificationService.showError(s.restrictionText)):void s.restrictionsService.getRestrictionText(s.app.restrictions).then(function(e){s.restrictionText=e,s.notificationService.showError(s.restrictionText)})}),s.subscriptions=[],s.subscriptions.push(s.tabService.channel.subscribe(o.TabService.TOPIC_TAB_CLOSE,function(e){e.tabId===s.app.name&&(s.appsService.removeFrame(s.app.name),s.tabService.removeTab(s.app.name))})),s}return n(t,e),t.$inject=["notificationService","restrictionsService","$translate","appsService","tabService"],t.prototype.destroy=function(){this.appsService=null,this.translateService=null,this.notificationService=null,this.restrictionsService=null,this.tabService=null,this.subscriptions.forEach(function(e){return e.unsubscribe()})},t}(r.Component);i.LockedApp=a},{"../components/component":28,"../tab/tab.service":231}],14:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.WINDOW="N",n.BROWSER_TAB="B",n.MODAL_WINDOW="M",n.DESKTOP="D",n.ENDPOINT="E",i.StartMode=n;var r=function(){function e(){}return e}();r.APP_SETTINGS="app-settings",r.REFRESH="refresh",i.ApplicationControls=r;var o=function(){function e(){}return e}();o.OPEN_NEW_WINDOW="open-new-window",o.SHOW_CONTEXT_HELP="help",i.ApplicationControlOptions=o,i.APP_TASKS_MANAGER="nextone",i.APP_CATALOG="app-store"},{}],15:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.AppsFrameComponent,{restrict:"E",scope:{frame:"="},templateUrl:"app/apps/apps.frame.component.html"})}var r=e("../components/component"),o=e("./apps.frame.component");i.appsFrameComponentDirective=n},{"../components/component":28,"./apps.frame.component":16}],16:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;n>i;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=e("../components/component"),a=e("../tab/tab.service"),s=e("../user/user.service"),c=e("../appBehavior/interframe-drag-manager.service"),l=function(e){function t(t,i,n,r,o,a,l){var d=e.call(this)||this;return d.loading=!1,d._dndMask=!1,d._workplaceApiService=t,d._tabService=i,d._appsService=n,d._userService=r,d.createConnection(),d._subscriptions=[],d._logService=o,d._interframeDragService=a,d._layoutService=l,d._subscriptions.push(d._userService.channel.subscribe(s.UserService.TOPIC_SELECTED_ROLE_CHANGED,d.notifyAppsOnRoleChange.bind(d))),d._subscriptions.push(d._interframeDragService.channel.subscribe(c.InterframeDragService.IFRAME_DND_START,function(e){d.getId()!==e.targetFrameId&&(d._workplaceApiService.hasConnection(d.getId())?d._workplaceApiService.getConnection(d.getId()).then(function(t){t.callApi("setDragObject",e.dragObject)["catch"](function(e){console.log(0===e.code?'apps.frame.component -> subscription IFRAME_DND_START: frame "'+d.getId()+'" does not implement setDragObject.':'apps.frame.component -> subscription IFRAME_DND_START: [error from frame "'+d.getId()+'"] '+e.message),d._dndMask=!0,d._scope.$apply()})}):(d._dndMask=!0,d._scope.$apply()))})),d._subscriptions.push(d._interframeDragService.channel.subscribe(c.InterframeDragService.IFRAME_DND_END,function(){d._workplaceApiService.getConnection(d.getId()).then(function(e){return e.callApi("dragEnded")["catch"](function(e){return console.log("apps.frame.component -> dragEnd error",e.message)})}),d._dndMask=!1,d._scope.$apply()})),d}return n(t,e),t.$inject=["workplaceApiService","tabService","appsService","userService","$log","interframeDragService","layoutService"],t.prototype.getUrl=function(){return this.frame?this.frame.app.url:null},t.prototype.getId=function(){return this.frame?this.frame.id:null},t.prototype.getName=function(){return this.frame?this.frame.app.name:null},t.prototype.getDescription=function(){return this.frame?this.frame.app.description:null},t.prototype.getApp=function(){return this.frame?this.frame.app:null},t.prototype.getIframePosition=function(){return this.frame.relativePosition?{x:+this.frame.boundingBox.left-10,y:+this.frame.boundingBox.top-40}:{x:_.isString(this.frame.boundingBox.left)?Math.floor(this.el.parent()[0].offsetWidth*_.parseInt(this.frame.boundingBox.left)/100):0,y:_.isString(this.frame.boundingBox.top)?Math.floor(this.el.parent()[0].offsetHeight*_.parseInt(this.frame.boundingBox.top)/100):0}},t.prototype.getConnectionGroupId=function(){return this.frame.connectionGroupId},Object.defineProperty(t.prototype,"style",{get:function(){if(!this.frame.visible&&this._hiddenStyle)return this._hiddenStyle;var e=this.el.offsetParent().get(0).getBoundingClientRect(),t=this.frame.boundingBox;if(this._hiddenStyle={visibility:"hidden",left:-1e5,top:-1e5,right:"auto",bottom:"auto",width:this.valueZeroOrAuto(t.width)?e.width:t.width,height:this.valueZeroOrAuto(t.height)?e.height:t.height},this.frame.visible){var i=this.frame.relativePosition?{left:Math.ceil(+this.frame.boundingBox.left-e.left),top:Math.ceil(+this.frame.boundingBox.top-e.top)}:{};return r({},t,{visibility:"visible",height:this.valueZeroOrAuto(t.height)?"auto":-1!==t.height.toString().indexOf("%")?t.height:Math.ceil(+t.height),width:this.valueZeroOrAuto(t.width)?"auto":-1!==t.width.toString().indexOf("%")?t.width:Math.ceil(+t.width)},i)}return this._hiddenStyle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iframeStyle",{get:function(){return this.loading?{visibility:"hidden",left:-1e5,top:-1e5,right:"auto",bottom:"auto"}:{visibility:"visible"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dndMask",{get:function(){return this._dndMask},enumerable:!0,configurable:!0}),t.prototype.handleFrameContentLoaded=function(){this.loading=!1,this._scope.$apply()},t.prototype.onRenderComponent=function(e,t){var i=this;this.el=e,this.ifrm=e.find("iframe"),this._scope=t,this.createConnection(),this.loading=!0,angular.isUndefined(this.ifrm)||(this.ifrm.get(0).contentWindow.name="myworkplace-"+this.getId(),t.$watch("vm.frame.app.url",function(e){"._."!==e&&i.ifrm.attr({src:e})}),this.ifrm.on("load",this.handleFrameContentLoaded.bind(this)),this._subscriptions.push(this._tabService.channel.subscribe(a.TabService.TOPIC_TAB_CLOSE,function(e){if(e.tabId===i.getId()){var t=i._tabService.getTabById(e.tabId);t.waitForClose=!0,i._workplaceApiService.waitForAppClose(i.getId()).then(function(){return i._workplaceApiService.notifyClose(i.getId())}).then(function(){i._appsService.removeFrame(i.getId()),i._tabService.removeTab(i.getId())})["finally"](function(){return t.waitForClose=!1})}})),this._subscriptions.push(this._tabService.channel.subscribe(a.TabService.TOPIC_TAB_REFRESH,this.refreshFrame.bind(this))))},t.prototype.createConnection=function(){this.ifrm&&this._workplaceApiService.createConnection(this,this.ifrm.get(0).contentWindow,this.frame.connectionGroupId)},t.prototype.refreshFrame=function(){var e=this;return this._workplaceApiService.hasConnection(this.getId())?void this._workplaceApiService.getConnection(this.getId()).then(function(t){t.callApi("refresh")["catch"](function(){return e.ifrm.get(0).src=e.touchReloadUrl(e.ifrm.get(0).src)})}):void(this.ifrm.get(0).src=this.touchReloadUrl(this.ifrm.get(0).src))},t.prototype.destroy=function(){this._workplaceApiService.closeConnection(this,this.frame.connectionGroupId),this._workplaceApiService=null,this._appsService=null,this._tabService=null,this._interframeDragService=null,this._layoutService=null,this.ifrm.off("load",this.handleFrameContentLoaded),this.ifrm=null,this._subscriptions&&(this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._subscriptions=null),this.el=null},t.prototype.touchReloadUrl=function(e){var t=e.split("?");if(!t||t.length<2)return e+"?wpReload="+Date.now();if(-1!==t[1].indexOf("wpReload")){var i=t[1].split("&");i.length>1?(i[0]="wpReload="+Date.now(),t[1]=i.join("&")):t[1]="wpReload="+Date.now()}else t[1]="wpReload="+Date.now()+"&"+t[1];return t.join("?")},t.prototype.notifyAppsOnRoleChange=function(){var e=this;this._userService.getUser().then(function(t){var i=t.getSelectedRole();e._workplaceApiService.getConnection(e.frame.id,e.frame.connectionGroupId).then(function(t){i&&null!==i&&t.callApi("roleChanged",i.roleId,i.substitutedUser&&null!==i.substitutedUser?i.substitutedUser.userId:"")["catch"](function(t){return e._logService.info("roleChanged through workplace api failed on: "+e.getId()+" because: "+t.message)})})})},t.prototype.valueZeroOrAuto=function(e){return!e||"0%"===e||"auto"===e},t}(o.Component);i.AppsFrameComponent=l},{"../appBehavior/interframe-drag-manager.service":11,"../components/component":28,"../tab/tab.service":231,"../user/user.service":238}],17:[function(e,t,i){"use strict";var n=e("../tab/tab.content.interface"),r=e("../layout/layout.service"),o=e("../tab/tab.service"),a=e("../../util/device.service"),s=e("./application.model.interface"),c=e("../../util/url.helper"),l=e("../app.icons"),d=e("../menu/menu.service"),p=e("../tab/tab.manager"),u=e("../ratingCampaign/rating-campaign.model.interface"),h=function(){function e(e,t,i,n,a,s,c,l,p,u,h,g,m,v,f,b,y,S){var _=this;this._tabService=e,this._runningApps={},this._openedWindows={},this._frames={},this._timeoutService=n,this._layoutService=t,this._menuService=h,this._store=a,this._translateService=s,this._queueService=c,this._deviceService=i,this._errorService=l,this._workplaceContextService=p,this._logService=u,this._userService=g,this._$=m,this._userService.getUser().then(function(e){return _._user=e}),this._httpService=v,this._notificationService=f,this._ratingCampaignService=b,this._popupService=y,this._apisecUrl=null,this._oauthToken=null,this._language=S,this._appControlsMap={},t.channelUpdate.subscribe(r.LayoutService.TOPIC_UPDATE,this.layoutServiceUpdateMessageCallback.bind(this)),t.channelSidebar.subscribe(r.LayoutService.TOPIC_SIDEBAR,this.layoutServiceSidebarMessageCallback.bind(this)),h.channelSubMenu.subscribe(d.MenuService.TOPIC_SUBMENU_SHOW,this.showHidePdfFrames.bind(this)),h.channelSubMenu.subscribe(d.MenuService.TOPIC_SUBMENU_HIDE,this.showHidePdfFrames.bind(this)),e.channel.subscribe(o.TabService.TOPIC_TAB_SELECT,this.tabServiceTabSelectMessageCallback.bind(this)),e.channel.subscribe(o.TabService.TOPIC_TAB_MOVE,this.tabServiceTabMoveMessageCallback.bind(this)),e.channelTabSelection.subscribe(o.TabService.TOPIC_FIRST_TAB_SELECTION_WITH_APP,this.promptAppRating.bind(this))}return e.$inject=["tabService","layoutService","deviceService","$timeout","appsStore","$translate","$q","errorService","workplaceContextService","$log","menuService","userService","jQuery","$http","notificationService","ratingCampaignService","popupService","language"],e.prototype.promptAppRating=function(e){var t=this;this._deviceService.device===a.Devices.DESKTOP&&this._ratingCampaignService.getCampaign(e.appName).then(function(i){i&&null!==i&&i.active&&t.showAppRatingDialog(i,e.appName)})},e.prototype.showAppRatingDialog=function(e,t){var i=this;this._popupService.showModalWindow("ratingCampaignDialog",{options:{titleKey:"dialogs.rating.campaign.title",okButtonKey:"dialogs.rating.buttons.ok",neverButtonKey:"dialogs.rating.buttons.cancel",laterButtonKey:"dialogs.rating.buttons.later",messageKey:e.text},campaignId:e.id}).then(function(){return e.type===u.RatingCampaignType.RATING?i.rateApp(t):i.showAppSurveyDialog(e)})},e.prototype.showAppSurveyDialog=function(e){var t=this;this._popupService.showModalWindow("surveyCampaignDialog",{options:{titleKey:"dialogs.survey.campaign.title",okButtonKey:"dialogs.survey.buttons.ok",cancelButtonKey:"dialogs.survey.buttons.cancel",messageKey:"dialogs.survey.campaign.body"},campaignId:e.id,questions:e.questions}).then(function(){t._ratingCampaignService.saveCampaignSurvey(e.id,e.questions).then(function(){t._notificationService.showSuccess("dialogs.survey.notification.success.content",{},"dialogs.survey.notification.success.title")})})},e.prototype.rateApp=function(e){var t=this;this.openAppByName({name:s.APP_CATALOG,queryParams:{hideGridView:!0,appId:e}}).then(function(){t._tabService.splitTabview({tabviewId:t._tabService.tabManagerDefault,tabId:t._tabService.getTabManagerDefault().selectedTab.id,direction:"row",index:1})})},e.prototype.getApps=function(e,t){var i=this,n=this._queueService.defer();return this._userService.getUser().then(function(){return i._store.findAll({deviceType:i._deviceService.device,lang:i._language.lang,demoMode:i._workplaceContextService.demoMode},_.merge({noCache:!0},e))}).then(function(e){t||(e=i.filterHiddenApps(e)),n.resolve(e)})["catch"](function(){n.reject()}),n.promise},e.prototype.getApp=function(e){var t=this,i=this._queueService.defer();return this.getApps(null,!0).then(function(n){var r=t.findApp(e,n);r?i.resolve(r):i.reject()})["catch"](function(){t._logService.info('AppsService -> getApp: Cannot not find app "'+e+'".'),i.reject()}),i.promise},e.prototype.reloadApps=function(){return this._store.ejectAll({}),this.getApps({bypassCache:!0,cacheResponse:!0})},e.prototype.getFrames=function(){return Object.values(this._frames)},e.prototype.getFrame=function(e){return this._frames[e]},e.prototype.findApp=function(e,t){var i=this;return t?_.first(t.map(function(t){return t.name===e?t:t.children?i.findApp(e,t.children):void 0}).filter(function(e){return"undefined"!=typeof e})):void 0},e.prototype.findRunningApps=function(e){var t=this;return Object.keys(this._runningApps).filter(function(i){return t._runningApps[i].name===e.name?t._openedWindows[i]&&t._openedWindows[i].closed?(t._openedWindows[i]=null,delete t._openedWindows[i],t._runningApps[i]=null,delete t._runningApps[i],!1):!0:void 0})},e.prototype.fetchSingleApp=function(e){var t=this;return this._userService.getUser().then(function(i){return t._httpService.get("rest/apps/"+e,{params:{deviceType:t._deviceService.device,lang:t._language.lang,demoMode:t._workplaceContextService.demoMode,businessRoles:i.getSelectedRole()&&null!==i.getSelectedRole()?[i.getSelectedRole().roleId]:[]}}).then(function(e){return e.data})})},e.prototype.openAppByName=function(e,t,i,r){var o=this;void 0===r&&(r=!0);var a=this._queueService.defer(),s="string"==typeof e?e:e.name;return this.getApp(s).then(function(n){o.openApp(n,"string"==typeof e?null:e,t,i,r).then(function(e){return a.resolve(e)})["catch"](function(e){return a.reject(e)})})["catch"](function(e){console.log("apps.service -> 2: ",e),o.fetchSingleApp(s).then(function(e){return e&&e.name&&null!==e.name?o._runningApps[e.name]?void o._tabService.selectTab(e.name):(o._runningApps[e.name]=e,void o._tabService.openTab({id:e.name,title:e.description,iconCls:null===e.iconCls?l.Icons.APP_DEFAULT:e.iconCls,closeable:!0,neverSelected:!0,content:{type:n.TabContentType.TEMPLATE,app:e,template:'<app-blocked app="$parent.$parent.vm.content.content.app"></app-blocked>'}},e.name,r)):(o._notificationService.showError("error.userInput.openApp",{name:s}),void o._errorService.throwUserInputError(new Error("error.userInput.openApp"),{name:s})["catch"](function(e){return a.reject(e)}))})["catch"](function(){o._notificationService.showError("error.userInput.openApp",{name:s}),o._errorService.throwUserInputError(new Error("error.userInput.openApp"),{name:s})["catch"](function(e){return a.reject(e)})})}),a.promise},e.prototype.openApp=function(e,t,i,n,r){var o=this;void 0===r&&(r=!0);var a=this._queueService.defer();return(c=this._workplaceContextService).getAppContext.apply(c,this.getAppDefaultContext(e)).then(function(c){c=t&&t.context&&e.provideContext?t.context:c,1===e.multipleWindows&&(c.conversationid=o._workplaceContextService.generateConversationId());var l=o._createAppClone(e,t,c);if(l.startMode===s.StartMode.ENDPOINT)return void window.open(t.path);if(l.strongAuth&&!c.strongAuth)a.resolve(o._openAppInStrongAuthWorkplace(l,t,c));else if(l.startMode===s.StartMode.WINDOW)a.resolve(o._openAppInWindow(l));else{if(l.startMode===s.StartMode.BROWSER_TAB)return void a.resolve(o._openAppInNewBrowserTab(l));if(t&&t.options&&t.options.modal||l.startMode===s.StartMode.MODAL_WINDOW)return void a.resolve(o._openAppInModal(l,t));var d={app:l,tabviewId:i,refreshUrl:t?!!t.refreshUrl:!1,tabTitle:t?t.tabTitle:"",tabIndex:n};o._appControlsMap[l.name]||o.getAppControls(l.name),a.resolve(o._openAppInTab(d,r))}}),a.promise;var c},e.prototype.getAppControls=function(e){var t=this;return this._httpService.get("rest/apps/"+e+"/controls").then(function(i){return t.mapAppControls(e,i.data)})},e.prototype.mapAppControls=function(e,t){var i=this;this._appControlsMap[e]=[],t.forEach(function(t){i._appControlsMap[e][t.control]=[],t.options.forEach(function(n){return i._appControlsMap[e][t.control][n]=n})})},e.prototype.hasControlAndOption=function(e,t,i){return this._appControlsMap[e]&&this._appControlsMap[e][t]&&(i?this._appControlsMap[e][t][i]:!0)},e.prototype.filterHiddenApps=function(e){var t=this;return e.filter(function(e){return!t._isHiddenApp(e)}).map(function(e){var i=_.clone(e);return i.children&&i.children.length&&(i.children=t.filterHiddenApps(i.children)),i})},e.prototype.getAppWithUpdatedContext=function(e){var t=this;return(i=this._workplaceContextService).getAppContext.apply(i,this.getAppDefaultContext(e)).then(function(i){var n=_.clone(e);return 1===n.multipleWindows&&(i.conversationid=t._workplaceContextService.generateConversationId()),n.url=c.UrlHelper.mergeQueryString(e.url,i),n});var i},e.prototype._isHiddenApp=function(e){return _.startsWith(e.name,"direct_")||_.startsWith(e.name,"_")},e.prototype._createAppClone=function(e,t,i){var n=_.cloneDeep(e),r=this._user.getSelectedRole();if(n.provideContext&&r&&null!==r&&(i.role=[],i.role.push(r.roleId)),n.strongAuth&&!i.strongAuth)return n;if(n.url){if(t&&t.path){var o=c.UrlHelper.getOriginFromUrl(e.url);n.url=null===o?e.url+"/"+t.path:o+t.path}n.url=c.UrlHelper.appendQueryString(n.url,Object.assign({},i,t?t.queryParams:{})),t&&t.hash&&(n.url=c.UrlHelper.replaceHash(n.url,t.hash))}return n},e.prototype._openAppInWindow=function(e,t){if(!t){var i=this.findRunningApps(e);t=i.length>0?_.uniqueId(e.name+"_"):e.name}this._runningApps[t]=e;var n=e.multipleWindows?_.uniqueId(e.name):e.name,r=["height=768","width=1024","status=yes","scrollbars=yes","resizable=yes","location=no","toolbar=no","menubar=yes","titlebar=yes"].join(",");return this._openedWindows[t]=window.open(e.url,"myworkplace-"+n,r,!0),t},e.prototype.openAppInWindow=function(e,t){return t=this._openAppInWindow(e,t),this._openedWindows[t]},e.prototype._openAppInNewBrowserTab=function(e,t){if(!t){var i=this.findRunningApps(e);t=i.length>0?_.uniqueId(e.name+"_"):e.name}this._runningApps[t]=e;var n=e.multipleWindows?_.uniqueId(e.name):e.name;return this._openedWindows[t]=window.open(e.url,"myworkplace-"+n),t},e.prototype._openAppInTab=function(e,t){void 0===t&&(t=!0);var i=this.findRunningApps(e.app);if(0===e.app.multipleWindows){if(i.length>0)return this.updateRunningApps(e.app,e.refreshUrl),this._tabService.selectTab(e.app.name),e.app.name;if(this._openedWindows[e.app.name]&&!this._openedWindows[e.app.name].closed)return this._openedWindows[e.app.name].focus(),e.app.name}var r=i.length>0?_.uniqueId(e.app.name+"_"):e.app.name;return this._tabService.openTabAt({id:r,title:this.createTabTitleForApp(e.app,i.length),iconCls:e.app.iconCls,providedTitle:e.tabTitle,neverSelected:!0,content:{type:n.TabContentType.IFRAME,app:e.app,containsPdf:function(){return e.app&&e.app.url&&null!==e.app.url&&null!==e.app.url.toLowerCase().match(".pdf")}()}},e.tabIndex?e.tabIndex:null,e.tabviewId,t),this._tabService.getTabManagerDefault().tabs.length<p.TabManager.MAX_TABS&&this.createFrame(r,e.app),r},e.prototype._openAppInStrongAuthWorkplace=function(e,t,i){var n=_.uniqueId(""+(new Date).getTime());_.endsWith(e.url,"/")&&(e.url=e.url.substring(0,e.url.length-1)),t&&t.path&&(e.url+=encodeURIComponent(encodeURIComponent(t.path)));var r="";return t&&t.queryParams&&(r=c.UrlHelper.toQueryString(t.queryParams)),r?e.url+="/"+r:t&&t.hash&&(e.url+="/-"),t&&t.hash&&(e.url+="/"+encodeURIComponent(encodeURIComponent(t.hash))),window.open(c.UrlHelper.appendQueryString(e.url,{c:n,lang:i.lang}),"workplace_strong_auth_"+n),e.name},e.prototype._openAppInModal=function(e,t){var i=this,n=e.name+"-modal";if(this._currentModalFrame)throw new Error("Error while opening app "+e.name+": Can only open one modal app!");if(!e.multipleWindows){var r=this.findRunningApps(e);if(r.length)return this.updateRunningApps(e,t.refreshUrl),r.forEach(function(e){i._tabService.selectTab(e),i._openedWindows[e]&&!i._openedWindows[e].closed&&i._openedWindows[e].focus()}),r[0]}this._runningApps[n]=e;var o={id:n,app:e,visible:!0,boundingBox:{top:0,bottom:0,left:0,right:0}};return this._currentModalInstance=this._popupService.createModalWindow("appDialog",{title:t.tabTitle||e.description,frame:o},!0),this._currentModalInstance.result["finally"](function(){i._currentModalFrame=null,i._runningApps[n]=null,delete i._runningApps[n]}),this._currentModalInstance.result["catch"](function(){return i._currentModalFrame=null}),this._currentModalFrame=o,n},e.prototype.closeModalApp=function(e){this._currentModalInstance&&this._currentModalFrame.id===e&&this._currentModalInstance.close()},e.prototype.openApps=function(e,t){var i=this,n=[];return e.reverse().forEach(function(e){return n.push(i.openApp(e,null,t))}),this._queueService.all(n)},e.prototype.openHelp=function(e){var t=this;return this._translateService("workplace.api.help.label",{description:e.description}).then(function(i){return t.openApp({name:e.name+"-help",description:i,multipleWindows:0,url:e.helpUrl,iconCls:l.Icons.HELP,startMode:"B"})})},e.prototype.updateRunningApps=function(e,t){var i=this,n=this.findRunningApps(e);n.forEach(function(n){return i.updateFrameUrl(n,e.url,t)})},e.prototype.updateFrameUrl=function(e,t,i){void 0===i&&(i=!1);var n=this._frames[e];n||e!==this._currentModalFrame.id||(n=this._currentModalFrame),n&&(i&&(n.app.url="._."),this._timeoutService(function(){n.app.url=t}))},e.prototype.createFrame=function(e,t){this._runningApps[e]=t,this._frames[e]={id:e,app:t,visible:!1,boundingBox:{top:0,left:0,right:0,bottom:0}}},e.prototype.removeFrame=function(e){var t=this,i=this._runningApps[e];this._runningApps[e]=null,delete this._runningApps[e],this._frames[e]=null,delete this._frames[e],i&&Object.keys(this._runningApps).filter(function(e){return t._runningApps[e].name===i.name}).forEach(function(e,i){var n=t._tabService.getTabById(e),r=t._runningApps[e];n&&(n.title=t.createTabTitleForApp(r,i))}),this.updateFrames()},e.prototype.layoutServiceUpdateMessageCallback=function(e){this.updateFrames();

},e.prototype.layoutServiceSidebarMessageCallback=function(e){this.showHidePdfFrames()},e.prototype.tabServiceTabSelectMessageCallback=function(e){this.updateFrames()},e.prototype.tabServiceTabMoveMessageCallback=function(e){this.updateFrames()},e.prototype.updateFrames=function(){var e=this;this._timeoutService().then(function(){Object.values(e._frames).forEach(function(e){e.visible=!1}),e._layoutService.layout.leaves().forEach(function(t){var i=e._tabService.getTabManager(t.id).selectedTab;if(i){var n=e._frames[i.id];if(n){var r=t.dimensions;n.boundingBox={top:100*r.top+"%",left:100*r.left+"%",right:100-(100*r.left+100*r.width)+"%",bottom:100-(100*r.top+100*r.height)+"%","margin-left":"row"===t.parent.direction&&t.parent&&t.parent.children.indexOf(t)>0?"12px":0,"margin-top":"column"===t.parent.direction&&t.parent&&t.parent.children.indexOf(t)>0?"56px":"44px"},n.visible=!0}}})})},e.prototype.showHidePdfFrames=function(){var e=this,t=!0;Object.keys(this._layoutService.sidebars).forEach(function(i){e._layoutService.sidebars[i].expanded&&(t=!1)}),t=t&&!this._menuService.hasActiveSubMenu(),this._deviceService.isInternetExplorer()&&this._layoutService.layout.leaves().forEach(function(i){var r,o=e._tabService.getTabManager(i.id).selectedTab;o&&o.content.type===n.TabContentType.IFRAME&&o.content.containsPdf===!0&&(r=e.getFrame(o.id),_.isUndefined(r)||null===r||r.visible===t||(r.visible=t))})},e.prototype.closeOpenedWindows=function(){var e=this;Object.keys(this._openedWindows).forEach(function(t){return e._openedWindows[t].close()})},e.prototype.isExternalWindow=function(e){return this._openedWindows[e]&&!this._openedWindows[e].closed},e.prototype.getExternalWindowIds=function(){var e=this;return Object.keys(this._openedWindows).filter(function(t){return e._openedWindows[t]&&null!==e._openedWindows[t]&&!e._openedWindows[t].closed})},e.prototype.createTabTitleForApp=function(e,t){return t>0?e.description+" ("+(t+1)+")":e.description},e.prototype.getAppDefaultContext=function(e){return e.provideContext?["env","lang","locale","moduleOrg","plOrg","derivative","strongAuth","role","deviceType","demoMode","mwpOrigin"]:["env","lang","strongAuth","mwpOrigin"]},e}();i.AppsService=h},{"../../util/device.service":299,"../../util/url.helper":321,"../app.icons":6,"../layout/layout.service":189,"../menu/menu.service":194,"../ratingCampaign/rating-campaign.model.interface":217,"../tab/tab.content.interface":227,"../tab/tab.manager":230,"../tab/tab.service":231,"./application.model.interface":14}],18:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"apps",idAttribute:"name",endpoint:"./rest/apps",watchChanges:!1})}n.$inject=["DS"],i.appsStoreFactory=n},{}],19:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.AppsMenu,{restrict:"E",scope:{apps:"=",title:"@appsMenuTitle",filter:"=",itemClickHandler:"&",menuId:"@",headerIcons:"=",type:"@"},templateUrl:"app/components/appsmenu/appsmenu.html",transclude:!0})}var r=e("./appsmenu"),o=e("../component");i.appsmenuDirective=n},{"../component":28,"./appsmenu":22}],20:[function(e,t,i){"use strict";function n(e){return r.Component.createRecursiveDirective(o.AppsMenuItem,{restrict:"E",scope:{data:"=",itemClickHandler:"&"},templateUrl:"app/components/appsmenu/appsmenu.item.html"},e)}n.$inject=["$compile"];var r=e("../component"),o=e("./appsmenu.item");i.appsmenuItemDirective=n},{"../component":28,"./appsmenu.item":21}],21:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../app.icons"),o=e("../../../util/interact/draggable-menu-item"),a=e("./menu.item"),s=e("../../widget/widget.data.interface"),c=function(e){function t(t,i,n,r){var a=e.call(this,t,i)||this;return a._userService=r,a._draggableMenuItem=new o.DraggableMenuItem({customSettings:{app:a.data.name},widgetDefinitionId:s.WidgetDefinitions.FAVORITE},t,n,a._layoutService.collapseSidebar.bind(a._layoutService,"navigationbar")),a}return n(t,e),t.$inject=["layoutService","workplaceContextService","deviceService","userService"],Object.defineProperty(t.prototype,"iconCls",{get:function(){return this.data.iconCls?this.data.iconCls:this.isGroup?r.Icons.APP_GROUP:r.Icons.APP_DEFAULT},enumerable:!0,configurable:!0}),t.prototype.userHasQNumber=function(){var e=this._userService.user;return e&&e.hasQNumber()},t.prototype.onRenderComponent=function(e){!this.isGroup&&this.userHasQNumber()&&this._draggableMenuItem.initElement($(e))},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._draggableMenuItem.cleanupElement()},Object.defineProperty(t.prototype,"appDescription",{get:function(){return _.escape(this.data.description)},enumerable:!0,configurable:!0}),t}(a.AbstractMenuItem);i.AppsMenuItem=c},{"../../../util/interact/draggable-menu-item":300,"../../app.icons":6,"../../widget/widget.data.interface":286,"./menu.item":25}],22:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../../util/tree/node"),a=e("../../../util/description-sorter"),s=function(e){function t(){var t=e.call(this)||this;return t.unbinders=[],t}return n(t,e),t.prototype.onRenderComponent=function(e,t){var i=this;this.unbinders.push(t.$watch("vm.apps",function(){return i.recursiveAppSort(i.apps)}))},Object.defineProperty(t.prototype,"filteredApps",{get:function(){return this.filterTerm&&this.filterTerm.trim().length>=2?this._filterApps(this.apps):this.apps},enumerable:!0,configurable:!0}),t.prototype.onItemClick=function(e){this.itemClickHandler({app:e})},t.prototype.reset=function(){this.filterTerm=""},t.prototype.destroy=function(e){this.unbinders.forEach(function(e){return e()})},t.prototype._filterApps=function(e){var t=this,i=[];return e.forEach(function(e){return o.Node.walkDepthFirst(function(e){e.children&&0!==e.children.length||!e.description.toLocaleLowerCase().includes(t.filterTerm.toLocaleLowerCase())||i.push(e)},e,!0)}),i},t.prototype.recursiveAppSort=function(e){var t=this;e.sort(a.descriptionSorter),e.forEach(function(e){e.children&&e.children.length>0&&t.recursiveAppSort(e.children)})},t}(r.Component);i.AppsMenu=s},{"../../../util/description-sorter":298,"../../../util/tree/node":320,"../component":28}],23:[function(e,t,i){"use strict";function n(e){return o.Component.createRecursiveDirective(r.DashboardMenuItem,{restrict:"E",scope:{data:"=",itemClickHandler:"&"},templateUrl:"app/components/appsmenu/dashboardmenu.item.html"},e)}n.$inject=["$compile"];var r=e("./dashboardmenu.item"),o=e("../component");i.dashboardMenuItemDirective=n},{"../component":28,"./dashboardmenu.item":24}],24:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./menu.item"),o=e("../../app.icons"),a=e("../../../util/interact/draggable-menu-item"),s=e("../../widget/widget.data.interface"),c=function(e){function t(t,i,n,r){var o=e.call(this,t,n)||this;o.userService=r,o.isOwner=o.userService.user?o.data.owner&&o.userService.user.userId===o.data.owner.userId:!1,o.tooltipModel={owner:o.isOwner,sharedBy:o.data.sharedBy,isDashboard:!0};var c={title:o.data.description,name:o.data.name,locked:o.data.locked||!1,type:s.WidgetDefinitions.DASHBOARD_LINK,parentName:o.data.parentName};return o._draggableMenuItem=new a.DraggableMenuItem({customSettings:c,widgetDefinitionId:s.WidgetDefinitions.DASHBOARD_LINK},t,i,o._layoutService.collapseSidebar.bind(o._layoutService,"navigationbar")),o}return n(t,e),t.$inject=["layoutService","deviceService","workplaceContextService","userService"],Object.defineProperty(t.prototype,"iconCls",{get:function(){return this.data.iconCls?this.data.iconCls:this.isGroup?o.Icons.APP_GROUP:o.Icons.DASHBOARD_DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this.isOwner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dashboardDescription",{get:function(){return this.data&&this.data.description?_.escape(this.data.description):""},enumerable:!0,configurable:!0}),t.prototype.userHasQNumber=function(){var e=this.userService.user;return e&&e.hasQNumber()},t.prototype.onRenderComponent=function(e){this.userHasQNumber()&&this._draggableMenuItem.initElement($(e))},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._draggableMenuItem.cleanupElement()},t}(r.AbstractMenuItem);i.DashboardMenuItem=c},{"../../../util/interact/draggable-menu-item":300,"../../app.icons":6,"../../widget/widget.data.interface":286,"./menu.item":25}],25:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(t,i){var n=e.call(this)||this;return n.collapsed=!0,n._layoutService=t,i.getAppContext("strongAuth").then(function(e){n._strongAuth=e.strongAuth}),n}return n(t,e),t.$inject=["layoutService","workplaceContextService"],Object.defineProperty(t.prototype,"isGroup",{get:function(){return this.data.children&&this.data.children.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStrongAuth",{get:function(){return 2===this.data.strongAuth||0===this._strongAuth&&this.data.strongAuth>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExternalForNewWindow",{get:function(){return"N"===this.data.startMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExternalForNewTab",{get:function(){return"B"===this.data.startMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipEnabled",{get:function(){return!this._layoutService.getSidebarConfig("navigationbar").expanded},enumerable:!0,configurable:!0}),t.prototype.onItemClick=function(e,t){return e?void this.itemClickHandler({app:e}):this.isGroup?void(this.collapsed=!this.collapsed):(this.itemClickHandler({app:this.data}),void(t&&t.stopPropagation()))},t.prototype.destroy=function(e){this._layoutService=null},t}(r.Component);i.AbstractMenuItem=o},{"../component":28}],26:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.Chip,{restrict:"E",templateUrl:"app/components/chip/chip.html",scope:{editable:"=",clickHandler:"&",text:"@",typeIconCls:"@"}})}var r=e("../component"),o=e("./chip");i.chipDirective=n},{"../component":28,"./chip":27}],27:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){return e.call(this)||this}return n(t,e),t}(r.Component);i.Chip=o},{"../component":28}],28:[function(e,t,i){"use strict";var n=function(){function e(){}return e.createDirective=function(e,t){var i=Object.assign({},{controller:e,controllerAs:"vm",bindToController:!0,replace:!0,link:function(e,t,i,n){n.link.apply(this,arguments)}},t);return i.scope=Object.assign({},i.scope,{componentOnRender:"&"}),i},e.renderComponentTo=function(e,t,i,n){var r=angular.element(n).injector(),o=r.get("$controller"),a=r.get("$http"),s=r.get("$compile"),c=r.get("$templateCache");return a.get(i,{cache:c}).then(function(i){var r=o(t,{$scope:e});e.vm=r;var a=$(i.data).appendTo(n);return s(a)(e),r.onRenderComponent(a,e),e.$on("$destroy",function(){r.destroy(a),a.remove()}),r})},e.createRecursiveDirective=function(t,i,n){return Object.assign({compile:function(e,t){var i,r=e.contents().remove();return{pre:t&&t.pre?t.pre:null,post:function(e,o,a,s){i||(i=n(r)),i(e,function(e){o.append(e)}),t&&t.post&&t.post.apply(null,arguments),s.link.apply(this,arguments)}}}},e.createDirective(t,i))},e.prototype.setupComponent=function(e){},e.prototype.onRenderComponent=function(e,t){},e.prototype.destroy=function(e){},e.prototype.link=function(e,t,i,n){n.setupComponent(e),n.onRenderComponent(t,e),"undefined"!=typeof n.componentOnRender&&n.componentOnRender({instance:n}),e.$on("$destroy",function(){n.destroy(t)})},e}();i.Component=n},{}],29:[function(e,t,i){"use strict";function n(){return function(){return new r.GridLayoutDndManager}}var r=e("./grid-layout-dnd-manager");i.gridLayoutDndManagerFactory=n},{"./grid-layout-dnd-manager":30}],30:[function(e,t,i){"use strict";var n=function(){function e(){}return e.prototype.startDrag=function(e){this.currentDragModel=e},e.prototype.endDrag=function(){this.currentDragModel=null,this.currentDragTarget=null},e.prototype.gridLayoutStartDrag=function(e){this.currentDragTarget=e,this.startDrag(this.currentDragTarget.gridLayoutItemModel)},e.prototype.gridLayoutEndDrag=function(){this.currentDragTarget=null,this.endDrag(),this.activeGridLayout&&(this.activeGridLayout.handleGridLayoutLeave(),this.activeGridLayout=null)},e.prototype.setActiveGridLayout=function(e,t){void 0===t&&(t=!0),this.activeGridLayout!==e&&(this.activeGridLayout&&this.activeGridLayout.handleGridLayoutLeave(),this.activeGridLayout=e,t&&this.activeGridLayout.handleGridLayoutEnter(this.currentDragModel))},e}();i.GridLayoutDndManager=n},{}],31:[function(e,t,i){"use strict";function n(){return{restrict:"A",scope:{draggingDisabled:"="},require:["^^appComponentsGridLayoutItem"],link:{pre:function(e,t,i,n){var r=n[0];e.draggingDisabled||r.setDragHandle(t)}}}}i.gridLayoutItemDragHandleDirective=n},{}],32:[function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:{gridLayoutItemModel:"=",ddGroup:"@",enabled:"=dropzoneEnabled",autoScrollSelector:"@"},controller:r.GridLayoutItem,controllerAs:"vm",bindToController:!0,require:["^^appComponentsContainerGridLayout"],templateUrl:"app/components/container/grid-layout-item.html",replace:!0,transclude:!0,link:function(t,i,n,r){var o=r[0],a=t.vm;a.onDragStart=function(e){o.handleDragStart(e.gridLayoutItem)},a.onDragEnd=function(e){o.handleDragEnd(e.gridLayoutItem)},a.onDragEnter=function(e){o.handleDragEnter(e.gridLayoutItem)},a.onDragLeave=function(e){o.handleDragLeave(e.gridLayoutItem)},a.onInsertBefore=function(e){o.handleInsertBefore(e.gridLayoutItem)},a.onInsertAfter=function(e){o.handleInsertAfter(e.gridLayoutItem)},a.onGridItemRender=function(e){o.handleGridLayoutItemRender(e.gridLayoutItem)},a.onGridItemDestroy=function(e){o.handleGridLayoutItemDestroy(e.gridLayoutItem)},a.onDrop=function(e){o.handleGridLayoutItemDrop(e.gridLayoutItem)},a.link(t,i,n,a),e(function(){return a.createDraggable(t,o.el)})}}}n.$inject=["$timeout"];var r=e("./grid-layout-item");i.gridLayoutItemDirective=n},{"./grid-layout-item":33}],33:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../layout/layout.service"),o=e("../component"),a=function(e){function t(t,i,n){var r=e.call(this)||this;return r.layoutService=t,r.timeoutService=i,r.tabService=n,r.dragHandleEl=$(),r.dropzoneEnabled=!0,r}return n(t,e),t.$inject=["layoutService","$timeout","tabService"],t.prototype.onRenderComponent=function(e){this.el=e,"function"==typeof this.onGridItemRender&&this.onGridItemRender({gridLayoutItem:this})},t.prototype.setDragHandle=function(e){this.dragHandleEl=e||$()},t.prototype.createDraggable=function(e,i){var n=this;if(this.dragHandleEl&&this.enabled){var o,a;this.dragHandleEl.css({"-ms-touch-action":"none","touch-action":"none"});var s=interact(this.dragHandleEl.get(0));this.draggable=s.draggable({inertia:!1,autoScroll:{enabled:!0,container:this.el.closest(this.autoScrollSelector).get(0),velocity:t.DRAG_AUTO_SCROLL_VELOCITY},onstart:function(e){n.el.addClass("draggin"),o=n.tabService.onlyDashboardsActive,o&&(n.el.css("position","fixed"),n.el.css("left",e.pageX-n.el.width()/2),n.el.css("top",e.pageY+40)),n.dragHandleEl.addClass(n.ddGroup),n.dragHandleEl.data("transfer",n.gridLayoutItemModel),n.layoutService.publishDragStart(),n.dropzoneEnabled=!1,n.onDragStart({gridLayoutItem:n})},onmove:function(e){if(a=n.layoutService.channelScrollContainer.subscribe(r.LayoutService.SET_AUTO_SCROLL_CONTAINER,function(e){n.draggable.options.drag.autoScroll.container=e.target}),o)n.el.css("left",e.pageX-n.el.width()/2),n.el.css("top",e.pageY);else{var t=n.el.get(0),i=n.el.closest(n.autoScrollSelector).scrollTop(),s=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,c=(parseFloat(t.getAttribute("data-y"))||0)+e.dy-((parseFloat(t.getAttribute("data-scroll-top"))||i)-i);t.style.webkitTransform=t.style.transform="translate("+s+"px, "+c+"px)",t.setAttribute("data-x",""+s),t.setAttribute("data-y",""+c),t.setAttribute("data-scroll-top",""+i)}},onend:function(){if(a.unsubscribe(),n.el.removeClass("draggin"),n.el.removeClass(n.ddGroup),o)n.el.css("top",0),n.el.css("position","absolute");else{var e=n.el.get(0);e.style.transform="",e.setAttribute("data-x",""),e.setAttribute("data-y",""),e.setAttribute("data-scroll-top","")}n.dragHandleEl.data("transfer",null),n.layoutService.publishDragEnd(),n.dropzoneEnabled=!0,n.onDragEnd({gridLayoutItem:n}),a.unsubscribe()}})}},t.prototype.handleDragEnter=function(e){var t=this.el.closest(this.autoScrollSelector).get(0);this.layoutService.publishScrollContainerMessage({target:t}),this.onDragEnter({gridLayoutItem:this,transfer:e}),this.startInsertTimer()},t.prototype.handleDragLeave=function(){this.timeout&&(this.timeoutService.cancel(this.timeout),this.timeout=null),this.onDragLeave({gridLayoutItem:this})},t.prototype.handleDropMove=function(e,i){this.currentDragPos={x:i.dragEvent.clientX,y:i.dragEvent.clientY},(i.dragEvent.dx>=t.DRAG_MOVE_THRESHOLD||i.dragEvent.dy>=t.DRAG_MOVE_THRESHOLD)&&this.startInsertTimer()},t.prototype.handleDrop=function(e){console.log("grid-layout-item -> handleDrop",e),this.onDrop({gridLayoutItem:this})},t.prototype.destroy=function(){"function"==typeof this.onGridItemDestroy&&this.onGridItemDestroy({gridLayoutItem:this}),this.timeoutService.cancel(this.timeout),this.draggable&&this.draggable.unset()},t.prototype.startInsertTimer=function(){var e=this;this.timeout&&this.timeoutService.cancel(this.timeout),this.timeout=this.timeoutService(function(){e.isInsertBefore(e.currentDragPos)?e.onInsertBefore({gridLayoutItem:e}):e.onInsertAfter({gridLayoutItem:e}),e.timeout=null},t.INSERT_TIMEOUT)},t.prototype.isInsertBefore=function(e){var t=this.el.get(0).getBoundingClientRect(),i=(e.x-(t.left+t.width/2))/(t.width/2),n=(e.y-(t.top+t.height/2))/(t.height/2);return Math.abs(i)>=Math.abs(n)?0>=i:0>=n},t}(o.Component);a.DRAG_MOVE_THRESHOLD=5,a.INSERT_TIMEOUT=500,a.DRAG_AUTO_SCROLL_VELOCITY={x:0,y:700},i.GridLayoutItem=a},{"../../layout/layout.service":189,"../component":28}],34:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.GridLayout,{restrict:"E",transclude:!0,scope:{columnWidth:"=",headerHeight:"=",gutter:"=",onGridUpdateStart:"&",onGridUpdateEnd:"&",onDropItem:"&",onDragStart:"&",onDragEnd:"&",ddGroup:"@",dndManager:"=",gridItems:"=",dropzoneEnabled:"="},templateUrl:"app/components/container/grid-layout.html"})}var r=e("../../components/component"),o=e("./grid-layout");i.gridLayoutDirective=n},{"../../components/component":28,"./grid-layout":35}],35:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../layout/layout.service"),a=function(e){function t(i,n){var r=e.call(this)||this;return r.updateGrid=_.debounce(function(e){void 0===e&&(e=!1),r.el&&r.el.data("masonry")&&(r.width=r.el.width(),e&&r.items.forEach(function(e){return e.el.css(r.getItemSize(e.gridLayoutItemModel))}),r.el.data("masonry").items.forEach(function(e){$(e.element).css({webkitTransform:"",MozTransform:"",msTransform:"",OTransform:"",transform:"",transition:"opacity .7s",opacity:"1"})}),r.onGridUpdateStart(),r.el.masonry({columnWidth:r.getColumnWidth(),isAnimated:!0}))},t.GRID_UPDATE_DEBOUNCE,{leading:!1,trailing:!0}),r.layoutService=i,r.subscriptions=[],r.items=[],r.timeoutService=n,r}return n(t,e),t.$inject=["layoutService","$timeout"],Object.defineProperty(t.prototype,"numColsMin",{get:function(){return this.width>375?4:3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return Math.max(this.numColsMin,Math.floor((this.width+this.gutter)/(this.columnWidth+this.gutter)))},enumerable:!0,configurable:!0}),t.prototype.getColumnWidth=function(){return this.layoutService&&this.layoutService.mobileLayout?(this.width-this.numCols*this.gutter)/this.numCols:this.columnWidth},t.prototype.handleGridLayoutItemRender=function(e){this.items.push(e),e.el.addClass(t.MASONRY_ITEM_CLS),e.el.css(_.merge({},this.getItemSize(e.gridLayoutItemModel),this.getItemMargin())),this.el.masonry("reloadItems"),this.updateGrid()},t.prototype.handleGridLayoutItemDestroy=function(e){var i=this.items.findIndex(function(t){return t===e});i>-1&&(this.items.splice(i,1),e.el.removeClass(t.MASONRY_ITEM_CLS),this.el.masonry("reloadItems"),this.updateGrid())},t.prototype.handleDragStart=function(e){this.dndManager.setActiveGridLayout(this,!1),this.dndManager.gridLayoutStartDrag(e),e.el.removeClass(t.MASONRY_ITEM_CLS),this.draggin=!0,this.placeholderEl.css(_.merge({},this.getItemSize(e.gridLayoutItemModel))),this.placeholderEl.show(),this.placeholderEl.addClass(t.MASONRY_ITEM_CLS),this.handleInsertBefore(e),this.onDragStart({target:e.gridLayoutItemModel})},t.prototype.handleDragEnd=function(e){this.currentDropInsertBefore=!0,this.currentDropTarget=null,this.draggin=!1,e.el.addClass(t.MASONRY_ITEM_CLS),this.placeholderEl.hide(),this.placeholderEl.css({webkitTransform:"",MozTransform:"",msTransform:"",OTransform:"",transform:""}),this.placeholderEl.removeClass(t.MASONRY_ITEM_CLS),this.el.masonry("reloadItems"),this.updateGrid(),this.onDragEnd({target:e.gridLayoutItemModel})},t.prototype.handleDragEnter=function(e){this.dndManager.setActiveGridLayout(this)},t.prototype.handleDragLeave=function(e){},t.prototype.handleDropPlaceholder=function(e){var i=this.dndManager.currentDragTarget;i&&i.el.addClass(t.MASONRY_ITEM_CLS),this.placeholderEl.removeClass(t.MASONRY_ITEM_CLS),this.placeholderEl.hide(),this.placeholderEl.css({webkitTransform:"",MozTransform:"",msTransform:"",OTransform:"",transform:""}),this.el.masonry("reloadItems"),this.draggin=!1,this.onDropItem({target:this.dndManager.currentDragTarget?this.dndManager.currentDragTarget.gridLayoutItemModel:e,dropTarget:this.currentDropTarget?this.currentDropTarget.gridLayoutItemModel:null,insertBefore:this.currentDropInsertBefore,action:t.ACTION_INSERT_WIDGET})},t.prototype.handlePlaceholderDragEnter=function(){this.dndManager.setActiveGridLayout(this)},t.prototype.handleGridLayoutDragEnter=function(e){e&&this.dndManager.startDrag(e),this.dndManager.setActiveGridLayout(this)},t.prototype.handleGridLayoutDropzoneDeactivate=function(){this.dndManager.gridLayoutEndDrag()},t.prototype.handleGridLayoutDragLeave=function(e){},t.prototype.handleGridLayoutDrop=function(e){this.dndManager.gridLayoutEndDrag()},t.prototype.handleGridLayoutLeave=function(){this.placeholderEl.hide(),this.placeholderEl.css({webkitTransform:"",MozTransform:"",msTransform:"",OTransform:"",transform:""}),this.placeholderEl.removeClass(t.MASONRY_ITEM_CLS),this.el.masonry("reloadItems"),this.updateGrid(),this.draggin=!1},t.prototype.handleGridLayoutEnter=function(e){this.draggin=!0,console.log("frid layout enter"),this.placeholderEl.css(this.getItemSize(e)),this.placeholderEl.addClass(t.MASONRY_ITEM_CLS),this.placeholderEl.show(),this.handleInsertAfter()},t.prototype.handleInsertBefore=function(e){this.currentDropTarget=e,this.currentDropInsertBefore=!0,this.placeholderEl.insertBefore(e.el),this.el.masonry("reloadItems"),this.updateGrid()},t.prototype.handleInsertAfter=function(e){this.currentDropTarget=e,this.currentDropInsertBefore=!1,e?this.placeholderEl.insertAfter(e.el):this.placeholderEl.appendTo(this.el),this.el.masonry("reloadItems"),this.updateGrid()},t.prototype.handleGridLayoutItemDrop=function(e){this.dndManager.gridLayoutEndDrag()},t.prototype.getItemSize=function(e){var t=e.colspan;t>this.numCols&&(t=this.numCols);var i=this.columnWidth/(this.columnWidth-this.headerHeight),n=t*(this.getColumnWidth()+this.gutter)-this.gutter,r=e.rowspan*(Math.round(this.getColumnWidth()/i)+this.headerHeight+this.gutter)-this.gutter;return{width:n,height:r}},t.prototype.getItemMargin=function(){return{margin:this.gutter+"px "+this.gutter+"px 0 0"}},t.prototype.onRenderComponent=function(e,i){var n=this;this.el=e,this.placeholderEl=e.find(".gridLayout-placeholder"),this.placeholderEl.css(this.getItemMargin()),this.placeholderEl.hide(),this.el.css({padding:"0 0 "+this.gutter+"px "+this.gutter+"px"}),this.width=e.width(),this.el.masonry({columnWidth:this.columnWidth,gutter:this.gutter,itemSelector:"."+t.MASONRY_ITEM_CLS,resize:!1}),this.el.on("layoutComplete",function(){return i.$apply(n.onGridUpdateEnd.bind(n))}),this.scopeUnSubscriber=i.$on("dashboardRefresh",this.updateGrid.bind(this)),this.subscriptions.push(this.layoutService.channelResize.subscribe(o.LayoutService.TOPIC_RESIZE,this.updateGrid.bind(this,!0))),this.subscriptions.push(this.layoutService.channelResize.subscribe(o.LayoutService.TOPIC_RESPONSIVE_LAYOUT,this.updateGrid.bind(this,!0))),this.subscriptions.push(this.layoutService.channelUpdate.subscribe(o.LayoutService.TOPIC_UPDATE,this.updateGrid.bind(this)))},t.prototype.destroy=function(){this.el.off("layoutComplete"),this.scopeUnSubscriber(),this.el.masonry("destroy"),this.el=null,this.placeholderEl=null,this.layoutService=null,this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=null,this.items=[]},t}(r.Component);a.MASONRY_ITEM_CLS="app-components-container-grid-layout-item-masonry",a.GRID_UPDATE_DEBOUNCE=200,a.ACTION_REMOVE_WIDGET="remove",a.ACTION_INSERT_WIDGET="insert",i.GridLayout=a},{"../../layout/layout.service":189,"../component":28}],36:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.ImageCropper,{restrict:"E",scope:{imgSrc:"=",croppedCanvasData:"="},templateUrl:"app/components/cropper/cropper.html"})}var r=e("../component"),o=e("./cropper");i.cropperDirective=n},{"../component":28,"./cropper":37}],37:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component");i.CROP_IMAGE_HEIGHT=108,i.CROP_IMAGE_WIDTH_1=140,i.CROP_IMAGE_WIDTH_2=294,i.CROP_ASPECT_RATIO_1=+(i.CROP_IMAGE_WIDTH_1/i.CROP_IMAGE_HEIGHT).toFixed(2),i.CROP_ASPECT_RATIO_2=+(i.CROP_IMAGE_WIDTH_2/i.CROP_IMAGE_HEIGHT).toFixed(2);var o=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.onRenderComponent=function(e,t){var n=this,r=e.find("img"),o=r?r.get(0):null;this._scope=t,null!=o&&(this._el=e,r.on("load",function(){n._cropper=new Cropper(o,{aspectRatio:i.CROP_ASPECT_RATIO_1,autoCropArea:.5,dragMode:"move",toggleDragModeOnDblclick:!1,minCropBoxWidth:i.CROP_IMAGE_WIDTH_1,minCropBoxHeight:i.CROP_IMAGE_HEIGHT})}),r.on("cropend",this.setCroppedImageData.bind(this)),r.on("ready",this.setCroppedImageData.bind(this)))},t.prototype.selectCropMode=function(e){var t=1===e?i.CROP_ASPECT_RATIO_1:i.CROP_ASPECT_RATIO_2;this._el.find(".cropMode.active").removeClass("active"),this._cropper.setAspectRatio(t),this._cropper.options.minCropBoxWidth=i.CROP_ASPECT_RATIO_1===t?i.CROP_IMAGE_WIDTH_1:i.CROP_IMAGE_WIDTH_2,this._cropper.options.minCropBoxHeight=i.CROP_IMAGE_HEIGHT,this.croppedCanvasData&&(this.croppedCanvasData.aspectRatio=t)},t.prototype.zoom=function(e){this._cropper.zoom(e?.1:-.1)},t.prototype.destroy=function(e){this._cropper.destroy(),this._cropper=null,this._el=null,this._scope=null},t.prototype.setCroppedImageData=function(){var e=this._cropper.getCroppedCanvas({width:2*(this._cropper.options.aspectRatio===i.CROP_ASPECT_RATIO_1?i.CROP_IMAGE_WIDTH_1:i.CROP_IMAGE_WIDTH_2),height:2*i.CROP_IMAGE_HEIGHT});return e.toBlob?void e.toBlob(this.createCropperData.bind(this)):void this.createCropperData(e.msToBlob())},t.prototype.createCropperData=function(e){_.isUndefined(e)||(this.croppedCanvasData={data:this._cropper.getCroppedCanvas({width:2*(this._cropper.options.aspectRatio===i.CROP_ASPECT_RATIO_1?i.CROP_IMAGE_WIDTH_1:i.CROP_IMAGE_WIDTH_2),height:2*i.CROP_IMAGE_HEIGHT}).toDataURL(),croppedBlob:e,aspectRatio:this._cropper.options.aspectRatio},this._scope.$apply())},t}(r.Component);i.ImageCropper=o},{"../component":28}],38:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.AcceptFavoriteDialog,{restrict:"E",templateUrl:"app/components/dialogs/accept-favorite-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./accept-favorite-dialog");i.acceptFavoriteDirective=n},{"../component":28,"./accept-favorite-dialog":39}],39:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=e("../../../util/description-sorter"),a=function(e){function t(t,i,n,r){var a=e.call(this)||this;return a.dashboardsService=t,a.appsService=i,a.notificationService=n,a.restrictionsService=r,a.dashboardsService.getDashboards().then(function(e){var t=e.filter(function(e){return a.dashboardsService.isOwnDashboard(e)||!!e.system});a.dashboards=t.sort(o.descriptionSorter),a.selectedDashboard=a.dashboards[0]}),a.config=a.resolve().config,a}return n(t,e),t.$inject=["dashboardService","appsService","notificationService","restrictionsService"],Object.defineProperty(t.prototype,"labelTranslationData",{get:function(){return{name:this.config.widget.settings.title?this.config.widget.settings.title:this.config.widget.title}},enumerable:!0,configurable:!0}),t.prototype.ok=function(){var e=this;return this.config.widget&&this.config.widget.customSettings&&this.config.widget.customSettings.app?void this.appsService.getApp(this.config.widget.customSettings.app)["catch"](function(){return e.appsService.fetchSingleApp(e.config.widget.customSettings.app).then(function(t){(t.locked||!e.restrictionsService.isEmpty(t.restrictions))&&e.notificationService.showError("notification.sharing.search.favorite.cannot.be.accepted",{description:t.description})})["catch"](function(e){return console.log("reason",e)})["finally"](function(){return e.dismiss()})})["finally"](function(){return e.close({$value:e.selectedDashboard})}):void this.close({$value:this.selectedDashboard})},t.prototype.updateSelectedDashboard=function(e){this.selectedDashboard=e},t.prototype.destroy=function(e){this.dashboardsService=null,this.appsService=null,this.notificationService=null,this.restrictionsService=null},t}(r.BaseDialog);i.AcceptFavoriteDialog=a},{"../../../util/description-sorter":298,"./base-dialog":46}],40:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.AddDashboardDialog,{restrict:"E",templateUrl:"app/components/dialogs/add-dashboard-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./add-dashboard-dialog");i.addDashboardDirective=n},{"../component":28,"./add-dashboard-dialog":41}],41:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,
new i)},r=e("./form-dialog"),o=function(e){function t(t){var i=e.call(this)||this;return i._translationService=t,i._translationService(["dialogs.dashboard.error.name.required","dialogs.dashboard.error.name.maxlength"]).then(function(e){i.tooltipTranslations.title={required:e["dialogs.dashboard.error.name.required"],maxLength:e["dialogs.dashboard.error.name.maxlength"]}}),i}return n(t,e),t.$inject=["$translate"],t.prototype.showTooltip=function(e){return e.$touched?e.$error.required?!0:e.$error.maxlength?!0:!1:!1},t.prototype.getTooltipText=function(e){return e.$touched?e.$error.required?this.tooltipTranslations[e.$name].required:e.$error.maxlength?this.tooltipTranslations[e.$name].maxLength:"":""},t.prototype.submit=function(e){return e.$invalid?void this.validateBeforeSubmit(e):void this.close({$value:this.title})},t.prototype.destroy=function(e){this._translationService=null},t}(r.FormDialog);i.AddDashboardDialog=o},{"./form-dialog":63}],42:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.AddFavorite,{restrict:"E",templateUrl:"app/components/dialogs/favorite-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./add-favorite");i.addFavoriteDirective=n},{"../component":28,"./add-favorite":43}],43:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./favorite-dialog"),o=function(e){function t(t,i,n,r,o){var a=e.call(this,t,i,n,r,o)||this;return a.dialogTitle="dialogs.favorite.title",a}return n(t,e),t.$inject=["widgetService","dashboardService","$translate","imageService","deviceService"],t.prototype.submit=function(e){return e.$invalid?void this.validateBeforeSubmit(e):(this._widgetDescriptor.customSettings.title=this.title,this._widgetDescriptor.customSettings.url=this.dataUrl,null===this.croppedCanvasData||_.isUndefined(this.croppedCanvasData.croppedBlob)||null===this.croppedCanvasData.croppedBlob?void this.close({$value:this._widgetDescriptor}):void this.saveImgDataAndClose())},t}(r.FavoriteDialog);i.AddFavorite=o},{"./favorite-dialog":62}],44:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.AppDialog,{restrict:"E",templateUrl:"app/components/dialogs/app-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./app-dialog");i.appDialogDirective=n},{"../component":28,"./app-dialog":45}],45:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(t){var i=e.call(this)||this;return i.waitForClose=!1,i.config=i.resolve(),i.frame=i.config.config.frame,i.frame.app.url&&(i.frame.app.url+=(i.frame.app.url.split("?")[1]?"&":"?")+"isMaximized=true"),i.workplaceApiService=t,i}return n(t,e),t.$inject=["workplaceApiService"],t.prototype.onRenderComponent=function(t,i){var n=this;e.prototype.onRenderComponent.call(this,t,i),i.$on("modal.closing",function(e){n.waitForClose||(e.preventDefault(),n.waitForClose=!0,n.workplaceApiService.waitForAppClose(n.frame.id).then(function(){n.workplaceApiService.notifyClose(n.frame.id)}).then(function(){n.frame=null,n.dismiss()})["finally"](function(){n.waitForClose=!1}))})},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.frame=null,this.workplaceApiService=null},t}(r.BaseDialog);i.AppDialog=o},{"./base-dialog":46}],46:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("./dialog-constants.model"),a=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.ok=function(){this.close({$value:o.DialogConstants.OK})},t.prototype.cancel=function(){this.dismiss({$value:o.DialogConstants.CANCEL})},t.prototype.handleKeyUp=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];13===e.keyCode&&this.ok()},t}(r.Component);i.BaseDialog=a},{"../component":28,"./dialog-constants.model":53}],47:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.ConfirmDialog,{restrict:"E",templateUrl:"app/components/dialogs/confirm.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("./confirm"),o=e("../component");i.confirmationDialog=n},{"../component":28,"./confirm":48}],48:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(){var t=e.call(this)||this;return t.config=t.resolve(),t.options=t.config&&t.config.options?t.config.options:null,t}return n(t,e),Object.defineProperty(t.prototype,"okButtonKey",{get:function(){return null!==this.options&&this.options.okButtonKey?this.options.okButtonKey:"notification.popup.button.ok"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelButtonKey",{get:function(){return null!==this.options&&this.options.cancelButtonKey?this.options.cancelButtonKey:"notification.popup.button.cancel"},enumerable:!0,configurable:!0}),t.prototype.showCancel=function(){return _.isUndefined(this.options.hideCancel)||!this.options.hideCancel},t}(r.BaseDialog);i.ConfirmDialog=o},{"./base-dialog":46}],49:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.CordovaDialog,{restrict:"E",templateUrl:"app/components/dialogs/cordova-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./cordova-dialog");i.cordovaDialogDirective=n},{"../component":28,"./cordova-dialog":50}],50:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(){var t=e.call(this)||this;return t.config=t.resolve().config,t}return n(t,e),t.prototype.ok=function(){this.close()},Object.defineProperty(t.prototype,"cameraImageStyle",{get:function(){return{backgroundImage:"url("+this.imgSrc+")"}},enumerable:!0,configurable:!0}),t.prototype.takeImg=function(){navigator.camera.getPicture(function(e){var t=this;console.log("cordova-dialog -> cameraSuccess",e),resolveLocalFileSystemURL(e,function(e){t.imgSrc=e.toInternalURL()})}.bind(this),function(e){console.error("Unable to obtain picture: "+e,"app")},{quality:50,destinationType:Camera.DestinationType.FILE_URI,targetHeight:90,targetWidth:90,sourceType:Camera.PictureSourceType.CAMERA,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE,allowEdit:!0,correctOrientation:!0})},t.prototype.destroy=function(e){},t}(r.BaseDialog);i.CordovaDialog=o},{"./base-dialog":46}],51:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.DeleteDashboardConfirmationDialog,{restrict:"E",templateUrl:"app/components/dialogs/delete-dashboard-confirmation-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./delete-dashboard-confirmation-dialog");i.deleteDashboardConfirmationDialogDirective=n},{"../component":28,"./delete-dashboard-confirmation-dialog":52}],52:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._workplaceApiService=t,n._dashboardService=i,n.config=n.resolve().config,n.dashboardName=n.config.dashboardName,n.options=n.config&&n.config.options?n.config.options:null,n}return n(t,e),t.$inject=["workplaceApiService","dashboardService"],t}(r.BaseDialog);i.DeleteDashboardConfirmationDialog=o},{"./base-dialog":46}],53:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.OK="ok",n.CANCEL="cancel",i.DialogConstants=n},{}],54:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.DialogHeader,{restrict:"E",templateUrl:"app/components/dialogs/dialog-header.html",scope:{closeHandler:"&",dialogTitle:"@",closeable:"="}})}var r=e("../component"),o=e("./dialog-header");i.dialogHeaderDirective=n},{"../component":28,"./dialog-header":55}],55:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){var t=e.call(this)||this;return"undefined"==typeof t.closeable&&(t.closeable=!0),t}return n(t,e),t.prototype.closeButtonHandler=function(){this.closeHandler()},t}(r.Component);i.DialogHeader=o},{"../component":28}],56:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.EditDashboardDialog,{restrict:"E",templateUrl:"app/components/dialogs/edit-dashboard-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./edit-dashboard-dialog");i.renameDialogDirective=n},{"../component":28,"./edit-dashboard-dialog":57}],57:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./form-dialog"),o=function(e){function t(t){var i=e.call(this)||this;return i._translationService=t,i.config=i.resolve().config,i._translationService([i.config.validationFieldRequiredMessageKey,i.config.validationMaxLengthMessageKey]).then(function(e){i.tooltipTranslations.title={required:e[i.config.validationFieldRequiredMessageKey],maxLength:e[i.config.validationMaxLengthMessageKey]}}),i.title=i.config.title,i.dialogTitleKey=i.config.titleKey,i.maxLength=i.config.validationMaxLength,i}return n(t,e),t.$inject=["$translate"],t.prototype.showTooltip=function(e){return e.$touched?e.$error.required?!0:e.$error.maxlength?!0:!1:!1},t.prototype.getTooltipText=function(e){return e.$touched?e.$error.required?this.tooltipTranslations[e.$name].required:e.$error.maxlength?this.tooltipTranslations[e.$name].maxLength:"":""},t.prototype.submit=function(e){return e.$invalid?void this.validateBeforeSubmit(e):void this.close({$value:this.title})},t.prototype.destroy=function(e){this._translationService=null},t}(r.FormDialog);i.EditDashboardDialog=o},{"./form-dialog":63}],58:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.EditFavorite,{restrict:"E",templateUrl:"app/components/dialogs/favorite-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./edit-favorite");i.editFavoriteDirective=n},{"../component":28,"./edit-favorite":59}],59:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./favorite-dialog"),o=e("../../widget/widget.data.interface"),a=function(e){function t(t,i,n,r,o){var a=e.call(this,t,i,n,r,o)||this;return a.dialogTitle="dialogs.favorite.edit.title",a.title=a._widgetDescriptor.settings.title,a.dataUrl=a._widgetDescriptor.settings.url,a.validDataUrl=!0,a}return n(t,e),t.$inject=["widgetService","dashboardService","$translate","imageService","deviceService"],Object.defineProperty(t.prototype,"showUrlField",{get:function(){return!this.cropperVisible&&this._widgetDescriptor&&this._widgetDescriptor.type===o.WidgetDefinitions.TILE},enumerable:!0,configurable:!0}),t.prototype.submit=function(e){return e.$invalid?void this.validateBeforeSubmit(e):(this._widgetDescriptor.customSettings.title=this.title,this._widgetDescriptor.customSettings.url=this.dataUrl,this.deleteMissingOriginalImage(),null===this.croppedCanvasData||_.isUndefined(this.croppedCanvasData.croppedBlob)||null===this.croppedCanvasData.croppedBlob?void this.close({$value:this._widgetDescriptor}):void this.saveImgDataAndClose())},t.prototype.deleteMissingOriginalImage=function(){var e=this._widgetService.getWidget(this._widgetDescriptor.id);e&&(!_.has(e,"settings.imgId")&&!_.has(e,"customSettings.imgId")||_.has(this._widgetDescriptor,"settings.imgId")||_.has(this._widgetDescriptor,"customSettings.imgId")||this._imageService.deleteImage(e.settings.imgId))},t}(r.FavoriteDialog);i.EditFavorite=a},{"../../widget/widget.data.interface":286,"./favorite-dialog":62}],60:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.EditWidgetSizeDialog,{restrict:"E",templateUrl:"app/components/dialogs/edit-widget-size-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./edit-widget-size-dialog");i.editWidgetSiteDirective=n},{"../component":28,"./edit-widget-size-dialog":61}],61:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(t){var i=e.call(this)||this;return i.translateService=t,i.translateService(["dialogs.favorite.edit.size.message"]).then(function(e){i.messageText=e["dialogs.favorite.edit.size.message"]}),i.config=i.resolve().config,i.widgetDef=_.clone(i.config.definition),i.currentSize=i.config.definition.colspan+"x"+i.config.definition.rowspan,i.newSize=" - ",i}return n(t,e),t.$inject=["$translate"],t.prototype.destroy=function(e){this.translateService=null},t.prototype.handleNewSizeSelected=function(e,t){this.widgetDef.rowspan=e,this.widgetDef.colspan=t,this.newSize=t+"x"+e},t.prototype.ok=function(){return this.config.definition.colspan===this.widgetDef.colspan&&this.config.definition.rowspan===this.widgetDef.rowspan?void e.prototype.ok.call(this):void this.close({$value:this.widgetDef})},t}(r.BaseDialog);i.EditWidgetSizeDialog=o},{"./base-dialog":46}],62:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../widget/widget.data.interface"),o=e("./form-dialog"),a=e("../../../util/link-utils/link.type"),s=e("../cropper/cropper"),c=function(e){function t(t,i,n,o,a){var s=e.call(this)||this;return s.dialogTitle="dialogs.favorite.title",s.croppedCanvasData=null,s.loading=!1,s.validDataUrl=!1,s.restrictedTextFocused=!1,s.linkInputModel={maxLength:50,maxLines:2,required:!0,maxLinesErrorText:""},s._widgetService=t,s._dashboardService=i,s._translateService=n,s._imageService=o,s._deviceService=a,s.config=s.resolve().config,s.config&&(s._widgetDescriptor=_.cloneDeep(t.getWidget(s.config.id)),s._widgetDescriptor&&null!==s._widgetDescriptor||(s._widgetDescriptor=Object.assign({},{type:r.WidgetDefinitions.TILE,widgetDefinitionId:r.WidgetDefinitions.TILE,rowspan:1,colspan:1,customSettings:{}})),s.defaultIcon=s.config.defaultIcon?s.config.defaultIcon:"iwp-icon-iwp_weblink"),s._translateService(["dialogs.favorite.error.max.lines","dialogs.favorite.error.name.required","dialogs.favorite.error.name.maxlength","dialogs.favorite.info.address.uri","dialogs.favorite.info.address.nolocaluri","dialogs.favorite.error.address.required","dialogs.favorite.error.address.maxlength","dialogs.favorite.error.address.uri"]).then(function(e){s.linkInputModel.maxLinesErrorText=e["dialogs.favorite.error.max.lines"],s.tooltipTranslations.title={required:e["dialogs.favorite.error.name.required"],maxLength:e["dialogs.favorite.error.name.maxlength"]},s.tooltipTranslations.dataUrl={touched:e["dialogs.favorite.info.address.uri"],required:e["dialogs.favorite.error.address.required"]+"\n\n"+e["dialogs.favorite.info.address.uri"],maxLength:e["dialogs.favorite.error.address.maxlength"],isuri:e["dialogs.favorite.error.address.uri"]+"\n\n"+e["dialogs.favorite.info.address.uri"],isnolocaluriwindows:e["dialogs.favorite.info.address.nolocaluri"]}}),s.validateUrl(),s}return n(t,e),t.$inject=["widgetService","dashboardService","$translate","imageService","deviceService"],t.prototype.handleKeyUp=function(t,i){!this.restrictedTextFocused&&this.isFavoriteValid()&&e.prototype.handleKeyUp.call(this,t,i)},t.prototype.showTooltip=function(e){return e.$touched?e.$error.required?!0:e.$error.maxlength?!0:!1:!1},t.prototype.getTooltipText=function(e){return e?e.$touched?e.$error.required?this.tooltipTranslations[e.$name].required:e.$error.maxlength?this.tooltipTranslations[e.$name].maxLength:"":"":void 0},t.prototype.validateUrl=function(){var e=a.getLinkType(this.dataUrl);this.validDataUrl=e===a.LINK_TYPE.FILE||e===a.LINK_TYPE.URL},t.prototype.showAddressTooltip=function(e){return!e.$touched||e.$error.required||e.$error.maxLength||e.$error.isuri||e.$error.isnolocaluriwindows},t.prototype.getAddressTooltipText=function(e){return e?e.$touched?e.$error.required?this.tooltipTranslations[e.$name].required:e.$error.maxlength?this.tooltipTranslations[e.$name].maxlength:e.$error.isuri?this.tooltipTranslations[e.$name].isuri:e.$error.isnolocaluriwindows?this.tooltipTranslations[e.$name].isnolocaluriwindows:void 0:this.tooltipTranslations[e.$name].touched:void 0},t.prototype.acceptCrop=function(){this.image=null},t.prototype.cancelCrop=function(){this.croppedCanvasData=null,this.image=null},t.prototype.resetToDefaultImage=function(){this._widgetDescriptor&&this._widgetDescriptor.settings&&this._widgetDescriptor.settings.imgId&&(delete this._widgetDescriptor.settings.imgId,delete this._widgetDescriptor.customSettings.imgId,this._widgetDescriptor.rowspan=1,this._widgetDescriptor.colspan=1),this.croppedCanvasData=null,this.image=null},Object.defineProperty(t.prototype,"showEditWidgetBackgroundImage",{get:function(){return this._widgetDescriptor&&this._widgetDescriptor.type===r.WidgetDefinitions.TILE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showUrlField",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cropperVisible",{get:function(){return!_.isUndefined(this.image)&&null!==this.image},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetDescriptor",{get:function(){return this._widgetDescriptor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resetToDefaultVisible",{get:function(){return this.croppedCanvasData&&this.croppedCanvasData.data||this._widgetDescriptor.settings&&this._widgetDescriptor.settings.imgId},enumerable:!0,configurable:!0}),t.prototype.saveImgDataAndClose=function(){var e=this;return this.loading=!0,this._widgetDescriptor.settings&&this._widgetDescriptor.settings.imgId?void this._imageService.deleteImage(this._widgetDescriptor.settings.imgId).then(function(){e._widgetDescriptor.settings.imgId=null,e.saveImgDataAndClose()}):void this._imageService.saveImage(this.croppedCanvasData.croppedBlob).then(function(t){e.loading=!1,e._widgetDescriptor.customSettings.imgId=""+t,e._widgetDescriptor.colspan=e.croppedCanvasData.aspectRatio===s.CROP_ASPECT_RATIO_2?2:1,e.close({$value:e._widgetDescriptor})})},t.prototype.onRestrictedTextFocus=function(e){this.restrictedTextFocused=e},t.prototype.isFavoriteValid=function(){return!0},t.prototype.destroy=function(e){this._widgetService=null,this._dashboardService=null,this._translateService=null,this._imageService=null,this._deviceService=null},t}(o.FormDialog);i.FavoriteDialog=c},{"../../../util/link-utils/link.type":312,"../../widget/widget.data.interface":286,"../cropper/cropper":37,"./form-dialog":63}],63:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(){var t=e.call(this)||this;return t.tooltipTranslations={},t}return n(t,e),t.prototype.handleKeyUp=function(e,t){13===e.keyCode&&this.submit(t)},t.prototype.validateBeforeSubmit=function(e){_.keys(e.$error).forEach(function(t){e.$error[t].forEach(function(e){e.$setTouched(),e.$validate()})})},t}(r.BaseDialog);i.FormDialog=o},{"./base-dialog":46}],64:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.GuidedTourDialog,{restrict:"E",templateUrl:"app/components/dialogs/guidedtour-dialog.html",scope:{close:"&"}})}var r=e("../component"),o=e("./guidedtour-dialog");i.guidedTourDialogDirective=n},{"../component":28,"./guidedtour-dialog":65}],65:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../setting/setting.model.interface"),a=e("../../guidedTour/guidedTour.model.interface"),s=function(e){function t(t,i,n,r){var o=e.call(this)||this;return o._translateService=t,o._settingService=i,o._guidedTourService=n,o._userService=r,o._userService.getUser().then(function(e){o._translateService(["guidedtour.welcome.step.zero.title","guidedtour.welcome.step.zero.description"],{name:e.name}).then(function(e){o.title=e["guidedtour.welcome.step.zero.title"],o.message=e["guidedtour.welcome.step.zero.description"]})}),o}return n(t,e),t.$inject=["$translate","settingService","guidedTourService","userService"],t.prototype.cancel=function(){this._settingService.updateSetting({id:"guidedTourOnStartup",type:o.SettingType.BOOLEAN,value:!1}),this.close()},t.prototype.later=function(){this.close()},t.prototype.start=function(){this.cancel(),this._guidedTourService.startTour(a.GuidedTours.WELCOME)},t}(r.Component);i.GuidedTourDialog=s},{"../../guidedTour/guidedTour.model.interface":184,"../../setting/setting.model.interface":221,"../component":28}],66:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.LogoutConfirmationDialog,{restrict:"E",templateUrl:"app/components/dialogs/logout-confirmation-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./logout-confirmation-dialog");i.logoutConfirmationDialogDirective=n},{"../component":28,"./logout-confirmation-dialog":67}],67:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./confirm"),o=e("../../actionLog/action-constants"),a=function(e){function t(t,i,n,r,o,a,s,c){var l=e.call(this)||this;return l._sessionDataService=t,l._settingService=i,l._windowService=r,l._workplaceApiService=n,l._cookiesService=o,l.checkbox=!1,l.saveState=!1,l._userSettingService=a,l._appBehavior=s,l._actionLogService=c,l._userSettingService.getStartupSettings().then(function(e){if(e){var t=_.findIndex(e.optionsList,function(e){return"savelaststate"===e.description});l.saveState=e.optionsList[t].enabled}}),l}return n(t,e),t.$inject=["sessionDataService","settingService","workplaceApiService","$window","$cookies","userSettingService","appBehavior","actionLogService"],t.prototype.ok=function(){this._actionLogService.logAction({category:o.ActionConstants.CATEGORY_ROLES,action:o.ActionConstants.ACTION_ROLE_MENU,actionInfo:"logout"}),this._appBehavior.isLogout=!0,this._cookiesService.remove("SMSESSION",{domain:"."+this._windowService.location.host.split(".").slice(1).join("."),path:"/"}),this._cookiesService.remove("SMSESSION",{domain:this._windowService.location.host,path:"/"}),this._cookiesService.remove("SMIDENTITY",{domain:"."+this._windowService.location.host.split(".").slice(1).join("."),path:"/"}),this._cookiesService.remove("SMIDENTITY",{domain:this._windowService.location.host,path:"/"}),this._windowService.location.href="/logout.html?r="+Date.now()},t.prototype.destroy=function(e){this._sessionDataService=null,this._settingService=null,this._workplaceApiService=null,this._windowService=null,this._cookiesService=null,this._appBehavior.isLogout=!1,this._appBehavior=null},t}(r.ConfirmDialog);i.LogoutConfirmationDialog=a},{"../../actionLog/action-constants":1,"./confirm":48}],68:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.MaximizeWidgetDialog,{restrict:"E",templateUrl:"app/components/dialogs/maximize-widget-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./maximize-widget-dialog");i.maximizeWidgetDialogDirective=n},{"../component":28,"./maximize-widget-dialog":69}],69:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._dashboardService=t,n._widgetService=i,n.config=n.resolve().config,n.config&&(n.item=n.config.item?n.config.item:null,n.dashboard=n.config.dashboard?n.config.dashboard:null,n.dashboardContext=n.config.dashboardContext?n.config.dashboardContext:null,n.options=n.config.options?n.config.options:null),n}return n(t,e),t.$inject=["dashboardService","widgetService"],t}(r.BaseDialog);i.MaximizeWidgetDialog=o},{"./base-dialog":46}],70:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.RatingCampaignDialog,{restrict:"E",templateUrl:"app/components/dialogs/rating-campaign-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./rating-campaign-dialog");i.ratingCampaignDialogDirective=n},{"../component":28,"./rating-campaign-dialog":71}],71:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(t){var i=e.call(this)||this;return i._ratingCampaignService=t,i.config=i.resolve().config,i.campaignId=i.config.campaignId,i.options=i.config&&i.config.options?i.config.options:null,i}return n(t,e),t.$inject=["ratingCampaignService"],t.prototype.never=function(){this._ratingCampaignService.campaignUnsubscribe(this.campaignId),this.dismiss()},t}(r.BaseDialog);i.RatingCampaignDialog=o},{"./base-dialog":46}],72:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SessionExpiredDialog,{restrict:"E",templateUrl:"app/components/dialogs/logout-confirmation-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./session-expired-dialog");i.sessionExpiredDialogDirective=n},{"../component":28,"./session-expired-dialog":73}],73:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./logout-confirmation-dialog"),o=function(e){function t(t,i,n,r,o,a,s,c,l){var d=e.call(this,t,i,n,r,o,a,s,c)||this;return d.httpService=l,d}return n(t,e),t.$inject=["sessionDataService","settingService","workplaceApiService","$window","$cookies","userSettingService","appBehavior","actionLogService","$http"],t.prototype.ok=function(){var e=this;this.httpService.get(window.location.href)["finally"](function(){e._workplaceApiService.reloadWorkplace()})},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.httpService=null},t}(r.LogoutConfirmationDialog);i.SessionExpiredDialog=o},{"./logout-confirmation-dialog":67}],74:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.ShareDashboardDialog,{restrict:"E",templateUrl:"app/components/dialogs/share-dashboard-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./share-dashboard-dialog");i.shareDashboardDialogDirective=n},{"../component":28,"./share-dashboard-dialog":75}],75:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=e("../../user/user.model"),a=function(e){function t(i,n,r,o,a,s,c,l,d,p){var u=e.call(this)||this;return u.ENDPOINT="./rest/users/deputy",u._employeeService=i,u._groupService=n,u._notificationService=r,u._sharingService=o,u._translateService=a,u.config=u.resolve().config,u.chips=(h={},h[t.SCOPE_EDIT]=[],h[t.SCOPE_VIEW]=[],h),u.searchTerm=(g={},g[t.SCOPE_EDIT]="",g[t.SCOPE_VIEW]="",g),u.searchSources=(m={},m[t.SCOPE_EDIT]=[],m[t.SCOPE_VIEW]=[],m),u.selectedSource={},u._userService=s,u._qService=c,u._translatedDescriptions={},u._timeout=l,u._httpService=d,u._language=p,u._translateService(["omnisearch.employee.external","tooltip.user.account.deleted"]).then(function(e){u._externalText=e["omnisearch.employee.external"],u._accountDeletedText=e["tooltip.user.account.deleted"]}),u._userService.getUser().then(function(e){return u._user=e}),u.searchSources[t.SCOPE_EDIT].push({iconCls:"iwp-icon-gen_user",text:"dialogs.favorite.share.search.for.person.text",placeholder:"dialogs.favorite.share.person.search.placeholder",searchFunction:u.searchUsers.bind(u),createChip:u.createUserChip.bind(u),updateSharedObject:function(e,t,i,n){void 0===i&&(i=!0);var r=t.find(function(e){return e.scope===n});return i?(delete e.id,void(r&&null!==r&&r.users.push(e))):void(r.users=_.pull(r.users,e))},tableConfig:{headers:[{title:"dialogs.favorite.share.search.table.column.header.name",dataField:function(e){return e.name+" "+e.surname},dataIconCls:"iwp-icon-gen_user_add"},{title:"dialogs.favorite.share.search.table.column.header.department",dataField:"department"},{title:"dialogs.favorite.share.search.table.column.header.email",dataField:"email"}],data:[],disableCondition:u.hasQNumber.bind(u),tooManyUsersMessage:"dialogs.favorite.share.search.tooManyResults",nbDisplayedResults:t.MAX_DISPLAYED_EMPLOYEES}},{iconCls:"iwp-icon-groupadmin",text:"dialogs.favorite.share.search.for.team.text",placeholder:"dialogs.favorite.share.team.search.placeholder",searchFunction:u.searchGroups.bind(u),createChip:u.createGroupChip.bind(u),updateSharedObject:function(e,t,i,n){void 0===i&&(i=!0);var r=t.find(function(e){return e.scope===n});return i?void(r&&null!==r&&r.groups.push(e)):void(r.groups=_.pull(r.groups,e))},tableConfig:{headers:[{title:"dialogs.favorite.share.search.table.column.header.name",dataField:"name",dataIconCls:"iwp-icon-groupadmin_group_add"},{title:"dialogs.favorite.share.search.table.column.header.creator",dataField:function(e){return u._translatedDescriptions[e.id]}}],data:[],disableCondition:function(e){return!1},tooManyUsersMessage:"dialogs.favorite.share.search.tooManyResults",nbDisplayedResults:t.MAX_DISPLAYED_GROUPS}}),u.searchSources[t.SCOPE_VIEW].push({iconCls:"iwp-icon-gen_user",text:"dialogs.favorite.share.search.for.person.text",placeholder:"dialogs.favorite.share.person.search.placeholder",searchFunction:u.searchUsers.bind(u),createChip:u.createUserChip.bind(u),updateSharedObject:function(e,t,i,n){void 0===i&&(i=!0);var r=t.find(function(e){return e.scope===n});return i?(delete e.id,void(r&&null!==r&&r.users.push(e))):void(r.users=_.pull(r.users,e))},tableConfig:{headers:[{title:"dialogs.favorite.share.search.table.column.header.name",dataField:function(e){return e.name+" "+e.surname},dataIconCls:"iwp-icon-gen_user_add"},{title:"dialogs.favorite.share.search.table.column.header.department",dataField:"department"},{title:"dialogs.favorite.share.search.table.column.header.email",dataField:"email"}],data:[],disableCondition:u.hasQNumber.bind(u),
tooManyUsersMessage:"dialogs.favorite.share.search.tooManyResults",nbDisplayedResults:t.MAX_DISPLAYED_EMPLOYEES}},{iconCls:"iwp-icon-groupadmin",text:"dialogs.favorite.share.search.for.team.text",placeholder:"dialogs.favorite.share.team.search.placeholder",searchFunction:u.searchGroups.bind(u),createChip:u.createGroupChip.bind(u),updateSharedObject:function(e,t,i,n){void 0===i&&(i=!0);var r=t.find(function(e){return e.scope===n});return i?void(r&&null!==r&&r.groups.push(e)):void(r.groups=_.pull(r.groups,e))},tableConfig:{headers:[{title:"dialogs.favorite.share.search.table.column.header.name",dataField:"name",dataIconCls:"iwp-icon-groupadmin_group_add"},{title:"dialogs.favorite.share.search.table.column.header.creator",dataField:function(e){return u._translatedDescriptions[e.id]}}],data:[],disableCondition:function(){return!1},tooManyUsersMessage:"dialogs.favorite.share.search.tooManyResults",nbDisplayedResults:t.MAX_DISPLAYED_GROUPS}}),u.selectedSource[t.SCOPE_EDIT]=u.searchSources[t.SCOPE_EDIT][0],u.selectedSource[t.SCOPE_VIEW]=u.searchSources[t.SCOPE_VIEW][0],u._sharingService.getSharedUsers(u.config.id,u.config.shareType).then(function(e){u._sharedObject=e,u.configView=e.find(function(e){return e.scope===t.SCOPE_VIEW||null===e.scope}),u.configEdit=e.find(function(e){return e.scope===t.SCOPE_EDIT}),u._sharedObject.forEach(function(e){return e.title=u.config.title}),u._sharedObject&&u._sharedObject.forEach(function(e){_.isArray(e.users)&&e.users.forEach(function(t){return u.createUserChip(t).then(function(t){return u.chips[e.scope].push(t)})}),_.isArray(e.groups)&&e.groups.forEach(function(t){return u.createGroupChip(t).then(function(t){return u.chips[e.scope].push(t)})})})}),u;var h,g,m}return n(t,e),t.$inject=["employeeService","groupService","notificationService","sharingService","$translate","userService","$q","$timeout","$http","language"],t.prototype.removeChip=function(e,t){var i=this;this.chips[t]=_.pull(this.chips[t],e),this.searchSources[t].forEach(function(n){return n.updateSharedObject(e.entry,i._sharedObject,!1,t)})},t.prototype.updateSelectedSource=function(e,t){this.resetSearch(t),this.selectedSource[t]=e,this.doSearch(t)},t.prototype.doSearch=function(e){this.selectedSource[e].searchFunction(this.searchTerm[e],e)},t.prototype.getSearchSuggestions=function(e){var t=this;0===this.searchTerm[e].length&&this._httpService.get(this.ENDPOINT,{params:{lang:this._language.lang,role:this._userService.selectedUserRole.roleId}}).then(function(i){t.selectedSource[e].tableConfig.data=[],i.data.forEach(function(i){return t.selectedSource[e].tableConfig.data.push(i)})})},t.prototype.searchUsers=function(e,t){var i=this;return e&&""!==e?void(e.length<3||this._employeeService.findEmployees(e,function(e){i.selectedSource[t].tableConfig.data=[],e.forEach(function(e){return i.selectedSource[t].tableConfig.data.push(e)})})):void this._timeout(function(){return i.selectedSource[t].tableConfig.data=null},0)},t.prototype.searchGroups=function(e,i){var n=this;this._translatedDescriptions={},this._groupService.findGroups(e,t.MAX_DISPLAYED_GROUPS,function(e){var t=[];e.forEach(function(e){return t.push(n.getUserDescription(e.owner))}),n._qService.all(t).then(function(t){t.forEach(function(t,i){return n._translatedDescriptions[e[i].id]=t}),n.selectedSource[i].tableConfig.data=[],e.forEach(function(e){return n.selectedSource[i].tableConfig.data.push(e)})})})},t.prototype.resetSearch=function(e){this.searchTerm[e]="",this.selectedSource[e].tableConfig.data=null},t.prototype.handleEntryClicked=function(e,t,i){var n=this;this.selectedSource[i].tableConfig.disableCondition(t)||this.selectedSource[i].createChip(t).then(function(e){return e.id===n._user.userId?void n._notificationService.showInfo("dialogs.favorite.share.search.table.add.item.self"):_.isUndefined(n.chips[i].find(function(t){return t.id===e.id}))?(n.chips[i].push(e),void n.selectedSource[i].updateSharedObject(t,n._sharedObject,!0,i)):void n._notificationService.showInfo("dialogs.favorite.share.search.table.add.item.duplicate")})},t.prototype.ok=function(){var e=this;this._sharingService.setSharedUsers(this._sharedObject).then(function(){return e.close({$value:e.chips[t.SCOPE_VIEW].length+e.chips[t.SCOPE_EDIT].length})})},t.prototype.destroy=function(e){this._employeeService=null,this._groupService=null,this._notificationService=null,this._sharingService=null,this._translateService=null,this._userService=null,this._qService=null,this._timeout=null},t.prototype.createUserChip=function(e){var t=this,i=e&&e.deleted?" deleted":"";return this.getUserDescription(e).then(function(n){return{title:e&&e.deleted?t._accountDeletedText:"",text:n,iconCls:"iwp-icon-gen_user"+i,entry:e,id:e.userId}})},t.prototype.createGroupChip=function(e){return this._qService.resolve({text:e.name,iconCls:"iwp-icon-groupadmin",entry:e,id:e.id})},t.prototype.getUserDescription=function(e){return this._translateService(["omnisearch.employee.external","omnisearch.employee.inOrderOf.short"],e).then(function(t){return e.name+" "+e.surname+" | "+(e.external?t["omnisearch.employee.external"]+", "+t["omnisearch.employee.inOrderOf.short"]:e.department)})},t.prototype.hasQNumber=function(e){return!(e&&null!==e&&o.User.prototype.hasQNumber.call(e))},t}(r.BaseDialog);a.MAX_DISPLAYED_GROUPS=10,a.MAX_DISPLAYED_EMPLOYEES=10,a.SCOPE_EDIT="edit",a.SCOPE_VIEW="view",i.ShareDashboardDialog=a},{"../../user/user.model":237,"./base-dialog":46}],76:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.ShareDialog,{restrict:"E",templateUrl:"app/components/dialogs/share-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./share-dialog");i.shareDialogDirective=n},{"../component":28,"./share-dialog":77}],77:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=e("../../user/user.model"),a=function(e){function t(i,n,r,a,s,c,l,d){var p=e.call(this)||this;return p._employeeService=i,p._groupService=n,p._notificationService=r,p._sharingService=a,p._translateService=s,p.config=p.resolve().config,p.chips=[],p.searchSources=[],p._userService=c,p._qService=l,p._translatedDescriptions={},p._timeout=d,p._translateService(["omnisearch.employee.external","tooltip.user.account.deleted"]).then(function(e){p._externalText=e["omnisearch.employee.external"],p._accountDeletedText=e["tooltip.user.account.deleted"]}),p._userService.getUser().then(function(e){p._user=e}),p.searchSources.push({iconCls:"iwp-icon-gen_user",text:"dialogs.favorite.share.search.for.person.text",placeholder:"dialogs.favorite.share.person.search.placeholder",searchFunction:p.searchUsers.bind(p),createChip:p.createUserChip.bind(p),updateSharedObject:function(e,t,i){return void 0===i&&(i=!0),i?(delete e.id,void t[0].users.push(e)):void(t[0].users=_.pull(t[0].users,e))},tableConfig:{headers:[{title:"dialogs.favorite.share.search.table.column.header.name",dataField:function(e){return e.name+" "+e.surname},dataIconCls:"iwp-icon-gen_user_add"},{title:"dialogs.favorite.share.search.table.column.header.department",dataField:"department"},{title:"dialogs.favorite.share.search.table.column.header.email",dataField:"email"}],data:[],disableCondition:function(e){return!(e&&null!==e&&o.User.prototype.hasQNumber.call(e))},tooManyUsersMessage:"dialogs.favorite.share.search.tooManyResults",nbDisplayedResults:t.MAX_DISPLAYED_EMPLOYEES}},{iconCls:"iwp-icon-groupadmin",text:"dialogs.favorite.share.search.for.team.text",placeholder:"dialogs.favorite.share.team.search.placeholder",searchFunction:p.searchGroups.bind(p),createChip:p.createGroupChip.bind(p),updateSharedObject:function(e,t,i){return void 0===i&&(i=!0),i?void t[0].groups.push(e):void(t[0].groups=_.pull(t[0].groups,e))},tableConfig:{headers:[{title:"dialogs.favorite.share.search.table.column.header.name",dataField:"name",dataIconCls:"iwp-icon-groupadmin_group_add"},{title:"dialogs.favorite.share.search.table.column.header.creator",dataField:function(e){return p._translatedDescriptions[e.id]}}],data:[],disableCondition:function(e){return!1},tooManyUsersMessage:"dialogs.favorite.share.search.tooManyResults",nbDisplayedResults:t.MAX_DISPLAYED_GROUPS}}),p.selectedSource=p.searchSources[0],p._sharingService.getSharedUsers(p.config.id,p.config.shareType).then(function(e){p._sharedObject=e,p._sharedObject[0].title=p.config.title,p._sharedObject&&(_.isArray(p._sharedObject[0].users)&&p._sharedObject[0].users.forEach(function(e){p.createUserChip(e).then(function(e){p.chips.push(e)})}),_.isArray(p._sharedObject[0].groups)&&p._sharedObject[0].groups.forEach(function(e){p.createGroupChip(e).then(function(e){p.chips.push(e)})}))}),p}return n(t,e),t.$inject=["employeeService","groupService","notificationService","sharingService","$translate","userService","$q","$timeout"],t.prototype.removeChip=function(e){var t=this;this.chips=_.pull(this.chips,e),this.searchSources.forEach(function(i){i.updateSharedObject(e.entry,t._sharedObject,!1,null)})},t.prototype.updateSelectedSource=function(e){this.resetSearch(),this.selectedSource=e,this.doSearch()},t.prototype.doSearch=function(){this.selectedSource.searchFunction(this.searchTerm)},t.prototype.searchUsers=function(e){var t=this;return e&&""!==e?void(e.length<3||this._employeeService.findEmployees(e,function(e){t.selectedSource.tableConfig.data=[],e.forEach(function(e){t.selectedSource.tableConfig.data.push(e)})})):void this._timeout(function(){t.selectedSource.tableConfig.data=null},0)},t.prototype.searchGroups=function(e){var i=this;this._translatedDescriptions={},this._groupService.findGroups(e,t.MAX_DISPLAYED_GROUPS,function(e){var t=[];e.forEach(function(e){t.push(i.getUserDescription(e.owner))}),i._qService.all(t).then(function(t){t.forEach(function(t,n){i._translatedDescriptions[e[n].id]=t}),i.selectedSource.tableConfig.data=[],e.forEach(function(e){i.selectedSource.tableConfig.data.push(e)})})})},t.prototype.resetSearch=function(){this.searchTerm="",this.selectedSource.tableConfig.data=null},t.prototype.handleEntryClicked=function(e,t){var i=this;this.selectedSource.tableConfig.disableCondition(t)||this.selectedSource.createChip(t).then(function(e){return e.id===i._user.userId?void i._notificationService.showInfo("dialogs.favorite.share.search.table.add.item.self"):_.isUndefined(i.chips.find(function(t){return t.id===e.id}))?(i.chips.push(e),void i.selectedSource.updateSharedObject(t,i._sharedObject,!0,null)):void i._notificationService.showInfo("dialogs.favorite.share.search.table.add.item.duplicate")})},t.prototype.ok=function(){var e=this;this._sharingService.setSharedUsers(this._sharedObject).then(function(){e.close({$value:e.chips.length})})},t.prototype.destroy=function(e){this._employeeService=null,this._groupService=null,this._notificationService=null,this._sharingService=null,this._translateService=null,this._userService=null,this._qService=null,this._timeout=null},t.prototype.createUserChip=function(e){var t=this;return this.getUserDescription(e).then(function(i){var n=e&&e.deleted?" deleted":"";return{title:e&&e.deleted?t._accountDeletedText:"",text:i,iconCls:"iwp-icon-gen_user"+n,entry:e,id:e.userId}})},t.prototype.createGroupChip=function(e){return this._qService.resolve({text:e.name,iconCls:"iwp-icon-groupadmin",entry:e,id:e.id})},t.prototype.getUserDescription=function(e){return this._translateService(["omnisearch.employee.external","omnisearch.employee.inOrderOf.short"],e).then(function(t){return e.name+" "+e.surname+" | "+(e.external?t["omnisearch.employee.external"]+", "+t["omnisearch.employee.inOrderOf.short"]:e.department)})},t}(r.BaseDialog);a.MAX_DISPLAYED_GROUPS=10,a.MAX_DISPLAYED_EMPLOYEES=10,i.ShareDialog=a},{"../../user/user.model":237,"./base-dialog":46}],78:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SurveyCampaignDialog,{restrict:"E",templateUrl:"app/components/dialogs/survey-campaign-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./survey-campaign-dialog");i.surveyCampaignDialogDirective=n},{"../component":28,"./survey-campaign-dialog":79}],79:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(t){var i=e.call(this)||this;return i.canSubmit=!1,i._ratingCampaignService=t,i.config=i.resolve().config,i.campaignId=i.config.campaignId,i.options=i.config&&i.config.options?i.config.options:null,i.questions=i.config&&i.config.questions?i.config.questions:[],i}return n(t,e),t.$inject=["ratingCampaignService"],t.prototype.rateQuestion=function(e,t){e.answerValue=t,this.canSubmit=0===this.questions.filter(function(e){return null===e.answerValue}).length},t}(r.BaseDialog);i.SurveyCampaignDialog=o},{"./base-dialog":46}],80:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.TermsOfUseDialog,{restrict:"E",templateUrl:"app/components/dialogs/terms-of-use-dialog.html",scope:{close:"&",dismiss:"&",resolve:"&"}})}var r=e("../component"),o=e("./terms-of-use-dialog");i.termsOfUseDialogDirective=n},{"../component":28,"./terms-of-use-dialog":81}],81:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./base-dialog"),o=function(e){function t(t,i,n,r,o){var a=e.call(this)||this;return a.accepted=!1,a._httpService=r,a._userSettingService=t,a._popupService=i,a._translateService=n,a.config=a.resolve().config,a._httpService({method:"GET",url:"./rest/users/termsOfUse",params:{lang:o.lang}}).then(function(e){e&&(a.termsContent=e.data.content,a.termsTitle=e.data.title,a.termsVersion=e.data.version,a.accepted=e.data.accepted)})["catch"](function(e){console.log("Terms of use error: ",e)}),a}return n(t,e),t.$inject=["userSettingService","popupService","$translate","$http","language"],t.prototype.toggleTermsOfUse=function(){return this.accepted?void this.close():(this._httpService({method:"PUT",url:"./rest/users/termsOfUse/"+this.termsVersion})["catch"](function(e){console.log("Terms of use error: ",e)}),void this.close())},t}(r.BaseDialog);i.TermsOfUseDialog=o},{"./base-dialog":46}],82:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.DropdownMenuItem,{restrict:"E",scope:{iconCls:"@",key:"@",itemClick:"&"},templateUrl:"app/components/dropdownMenu/dropdown-menu-item.html"})}var r=e("../component"),o=e("./dropdown-menu-item");i.dropdownMenuItemDirective=n},{"../component":28,"./dropdown-menu-item":83}],83:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){return e.call(this)||this}return n(t,e),t}(r.Component);i.DropdownMenuItem=o},{"../component":28}],84:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.DropDownMenu,{restrict:"E",transclude:!0,scope:{ariaLabelledby:"@"},templateUrl:"app/components/dropdownMenu/dropdown-menu.html"})}var r=e("../component"),o=e("./dropdown-menu");i.dropdownMenuDirective=n},{"../component":28,"./dropdown-menu":85}],85:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){return e.call(this)||this}return n(t,e),t}(r.Component);i.DropDownMenu=o},{"../component":28}],86:[function(e,t,i){"use strict";function n(e){return{restrict:"A",link:function(t,i,n){var o=e(n.croppedImageResizer)(t),a=e(n.croppedImageColspan)(t);return o?o.aspectRatio!==r.CROP_ASPECT_RATIO_2?(i.css("width",r.CROP_IMAGE_WIDTH_1),void i.css("height",r.CROP_IMAGE_HEIGHT)):(i.css("width",r.CROP_IMAGE_WIDTH_2),void i.css("height",r.CROP_IMAGE_HEIGHT)):(i.css("width",2===a?r.CROP_IMAGE_WIDTH_2:r.CROP_IMAGE_WIDTH_1),void i.css("height",r.CROP_IMAGE_HEIGHT))}}}n.$inject=["$parse"];var r=e("../cropper/cropper");i.croppedImageResizerDirective=n},{"../cropper/cropper":37}],87:[function(e,t,i){"use strict";function n(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,r){i.bind("change",function(i){var n=i.target,o=n.files[0],a=new FileReader,s=o.size/1048576<=3,c=o.name&&null!==o.name&&(_.endsWith(o.name.toLowerCase(),".png")||_.endsWith(o.name.toLowerCase(),".jpg")||_.endsWith(o.name.toLowerCase(),".jpeg")||_.endsWith(o.name.toLowerCase(),".jpe")||_.endsWith(o.name.toLowerCase(),".jfif")||_.endsWith(o.name.toLowerCase(),".gif"));return s&&c?(a.onloadend=function(e){r.$setViewValue(a.result),t.$apply()},void a.readAsDataURL(o)):void e.showConfirm({messageKey:"dialogs.favorite.popup.file.error.message",titleKey:"dialogs.favorite.popup.file.error.title",hideCancel:!0})})}}}n.$inject=["popupService"],i.fileInputChangeDirective=n},{}],88:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.VariableSrcImage,{restrict:"E",scope:{croppedCanvasData:"=",defaultIcon:"=",widgetDescriptor:"="},templateUrl:"app/components/fileHandling/variable-src-image.html"})}var r=e("../component"),o=e("./variable-src-image");i.variableSrcImageDirective=n},{"../component":28,"./variable-src-image":89}],89:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._widgetService=t,n._imageService=i,n}return n(t,e),t.$inject=["widgetService","imageService"],Object.defineProperty(t.prototype,"croppedImageData",{get:function(){return this.croppedCanvasData&&this.croppedCanvasData.data?this.croppedCanvasData.data:this.widgetDescriptor&&this.widgetDescriptor.settings&&this.widgetDescriptor.settings.imgId?this._imageService.getImage(this.widgetDescriptor.customSettings.imgId):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptorColspan",{get:function(){return this.widgetDescriptor?this.widgetDescriptor.colspan:2},enumerable:!0,configurable:!0}),t.prototype.destroy=function(e){this._widgetService=null,this._imageService=null},t}(r.Component);i.VariableSrcImage=o},{"../component":28}],90:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.Fullscreen,{restrict:"E",templateUrl:"app/components/fullscreen/fullscreen.html"})}var r=e("../component"),o=e("./fullscreen");i.fullscreenToggleDirective=n},{"../component":28,"./fullscreen":91}],91:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../actionLog/action-constants"),a=function(e){function t(t,i,n){var r=e.call(this)||this;return r._tabService=t,r._layoutService=i,r._actionLogService=n,r}return n(t,e),t.$inject=["tabService","layoutService","actionLogService"],t.prototype.showToggle=function(){return!this._layoutService.mobileLayout},t.prototype.isFullscreen=function(){return"undefined"!=typeof document.fullscreenElement&&null!==document.fullscreenElement||"undefined"!=typeof document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||"undefined"!=typeof document.mozFullScreenElement&&null!==document.mozFullScreenElement||"undefined"!=typeof document.msFullscreenElement&&null!==document.msFullscreenElement},t.prototype.toggleFullscreen=function(e){if(!this.isFullscreen()){if(this._actionLogService.logAction({category:o.ActionConstants.CATEGORY_GENERAL,action:o.ActionConstants.ACTION_FULLSCREEN}),document.documentElement.requestFullscreen)return void document.documentElement.requestFullscreen();if(document.documentElement.webkitRequestFullscreen)return void document.documentElement.webkitRequestFullscreen();if(document.documentElement.mozRequestFullScreen)return void document.documentElement.mozRequestFullScreen();if(document.documentElement.msRequestFullscreen)return void document.documentElement.msRequestFullscreen()}return document.exitFullscreen?void document.exitFullscreen():document.webkitExitFullscreen?void document.webkitExitFullscreen():document.mozCancelFullScreen?void document.mozCancelFullScreen():document.msExitFullscreen?void document.msExitFullscreen():void 0},t.prototype.destroy=function(){this._tabService=null,this._layoutService=null},t}(r.Component);i.Fullscreen=a},{"../../actionLog/action-constants":1,"../component":28}],92:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.Help,{restrict:"E",scope:{loading:"="},templateUrl:"app/components/help/help.html"})}var r=e("../component"),o=e("./help");i.helpDirective=n},{"../component":28,"./help":93}],93:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../tab/tab.content.interface"),a=e("../../menu/menu.service"),s=e("../../actionLog/action-constants"),c=e("../../app.icons"),l=e("../../menu/menu.overlay"),d=function(e){function t(t,i,n,r,o,s,c,l,d,p){var u=e.call(this)||this;return u.showLeftArrow=!1,u._subscriptions=[],u._popupService=l,u._tabService=t,u._translateService=i,u._appsService=n,u._menuService=r,u._guidedTour=o,u._actionLogService=s,u._userService=c,u._deviceService=p,u.language=d,u._subscriptions.push(r.channelSubMenu.subscribe(a.MenuService.TOPIC_SUBMENU_HIDE,function(e){"help"===e.menuItem.name&&u.activeMenuScope&&u.activeMenuScope.$destroy()})),u}return n(t,e),t.$inject=["tabService","$translate","appsService","menuService","guidedTourService","actionLogService","userService","popupService","language","deviceService"],t.prototype.hasContextHelp=function(){var e=this._getAppForSelectedTab();return e?!_.isEmpty(e.helpUrl):void 0},Object.defineProperty(t.prototype,"contextApp",{get:function(){var e=this._getAppForSelectedTab();return e?e:void 0},enumerable:!0,configurable:!0}),t.prototype.createTourOverlay=function(e){var t=this;this.activeMenuScope&&this.activeMenuScope.$destroy();var i=$(e.target).closest(".list-group-item");return this.activeMenuItem&&this.activeMenuItem.is(i)?(this.activeMenuItem=null,void i.removeClass("activeMenu")):(i.addClass("activeMenu"),this.activeMenuScope=this.scope.$new(),this.activeMenuItem=i,r.Component.renderComponentTo(this.activeMenuScope,l.MenuOverlay,"app/menu/menu.overlay.html",$(".overlay-container")).then(function(e){e.menuContent=t.getGuidedTourListTemplate(),e.isSubmenu=!0,e.customClass="helpMenu",e.show(i,"top left","top right",!1);var n=e.channel.subscribe(l.MenuOverlay.TOPIC_HEADER_CLICKED,function(){t.activeMenuScope.$destroy()});t.activeMenuScope.$on("$destroy",function(){n.unsubscribe()})}),void e.stopPropagation())},t.prototype.getGuidedTourListTemplate=function(){return{template:"<app-guided-tour-list></app-guided-tour-list>"}},t.prototype.userHasQNumber=function(){var e=this._userService.user;return e&&null!==e?e.hasQNumber():!1},t.prototype.openManual=function(){var e=this,t=this.language.lang;console.log("help -> openManual: ",location.protocol+"//"+location.host+"/docs/manual/workplace_manual_"+t.toUpperCase()+".pdf"),this._translateService("tabs.help.title").then(function(i){e._appsService.openApp({url:location.protocol+"//"+location.host+"/docs/manual/workplace_manual_"+t.toUpperCase()+".pdf",name:"workplace-help",description:i,iconCls:c.Icons.HELP,startMode:"B"}),e._menuService.hideActiveSubMenu()}),this._actionLogService.logAction({category:s.ActionConstants.CATEGORY_HELP,action:s.ActionConstants.ACTION_HELP_MENU,actionInfo:"manual"})},t.prototype.openTermsOfUseDialog=function(){this._popupService.showModalWindow("termsOfUseDialog",{okButtonKey:"dialogs.terms.accept",cancelButtonKey:"dialogs.terms.cancel"},!1,"lg")},t.prototype.openContextHelp=function(){this._appsService.openHelp(this.contextApp),this._menuService.hideActiveSubMenu(),this._actionLogService.logAction({category:s.ActionConstants.CATEGORY_HELP,action:s.ActionConstants.ACTION_HELP_MENU,actionInfo:"context"})},t.prototype.openImprint=function(){this._popupService.showConfirm({titleKey:"dialogs.imprint.title",messageKey:this._deviceService.isIOS?"dialogs.imprint.content.ios":"dialogs.imprint.content.default",hideCancel:!0,okButtonKey:"dialogs.terms.cancel"})},t.prototype.showRoleHelp=function(){var e=this;this._actionLogService.logAction({category:s.ActionConstants.CATEGORY_ROLES,action:s.ActionConstants.ACTION_ROLE_MENU,actionInfo:"help"});var t=this.language.lang;this._translateService("action.item.roles.help.text").then(function(i){e._appsService.openApp({name:"business_role_help",description:i,url:"/docs/manual/request_business_role_"+t+".pdf",iconCls:"iwp-icon-gen_info",startMode:"B"}),e._menuService.hideActiveSubMenu()})},t.prototype.getContextAppIcon=function(){return this.contextApp.iconCls?this.contextApp.iconCls:c.Icons.APP_DEFAULT},t.prototype.onRenderComponent=function(e,t){this.scope=t,this.el=e},t.prototype.onDestroy=function(){this._tabService=null,this._translateService=null,this._menuService=null,this._subscriptions.forEach(function(e){return e.unsubscribe()})},t.prototype._getAppForSelectedTab=function(){var e=this._tabService.getTabManagerDefault().selectedTab;if(e){var t=e.content;if(t.type===o.TabContentType.FRAME_LAYOUT_TEMPLATE)return t.frameLayout}return null},t}(r.Component);i.Help=d},{"../../actionLog/action-constants":1,"../../app.icons":6,"../../menu/menu.overlay":193,"../../menu/menu.service":194,"../../tab/tab.content.interface":227,"../component":28}],94:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.InlineEdit,{restrict:"E",scope:{disable:"=",onChange:"&",val:"=",maxTitleLength:"=",editing:"=",defaultValue:"=",isNew:"="},templateUrl:"app/components/inlineEdit/inline-edit.html"})}var r=e("../component"),o=e("./inline-edit");i.inlineEditDirective=n},{"../component":28,"./inline-edit":95}],95:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(t){var i=e.call(this)||this;return i.dirty=!1,i.timeout=t,i}return n(t,e),t.$inject=["$timeout"],Object.defineProperty(t.prototype,"val",{get:function(){return this._value},set:function(e){e!==this._value&&(this._value=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.registerOnBlur=function(e){var t=this;return this.timeout(function(){t.editing=!1},200),this.dirty&&(""===this._value?(this._value=this.defaultValue,this.onChange({value:this._value}),this.dirty=!1):(this.onChange({value:this._value}),this.dirty=!1)),!1},t.prototype.onRenderComponent=function(e){var t=this;this.el=e,this.editing&&(this.timer=this.timeout(function(){t.focusElement()}))},t.prototype.destroy=function(){this.el=null,this.timer&&this.timeout.cancel(this.timer)},t.prototype.saveWithEnter=function(e){13===e.keyCode&&this.registerOnBlur(),27===e.keyCode&&this.cancelEdit()},t.prototype.cancelEdit=function(){this.editing=!1},t.prototype.edit=function(e){var t=this;if(!this.disable)return this.editing=!0,e.stopPropagation(),this.timer=this.timeout(function(){t.focusElement()}),!1},t.prototype.focusElement=function(){var e=this.el.find("input").focus();this.isNew&&(e.select(),this.isNew=!1)},t}(r.Component);i.InlineEdit=o},{"../component":28}],96:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.Loader,{restrict:"E",scope:{loading:"=",message:"@",containerStretch:"@",spinnerSize:"@",theme:"@",centerContent:"@"},templateUrl:"app/components/loader/loader.html"})}var r=e("../component"),o=e("./loader");i.loaderDirective=n},{"../component":28,"./loader":97}],97:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(r.Component);i.Loader=o},{"../component":28}],98:[function(e,t,i){"use strict";function n(e){return r.Component.createRecursiveDirective(o.MenuItem,{restrict:"E",scope:{data:"=",menuId:"="},templateUrl:"app/components/menu/menu.item.html"},e)}n.$inject=["$compile"];var r=e("../component"),o=e("./menu.item");i.menuItemDirective=n},{"../component":28,"./menu.item":99}],99:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../menu/menu.overlay"),a=function(e){function t(t,i,n,r,o,a){var s=e.call(this)||this;return s._httpService=i,s._templateCache=n,s._compileService=t,s._controllerService=r,s._menuService=o,s._dashboardService=a,s._hideOverlayThrottle=_.throttle(s._hideOverlay,100),s}return n(t,e),t.$inject=["$compile","$http","$templateCache","$controller","menuService","dashboardService"],t.prototype.handleClick=function(e){return this._dashboardService.publishWidgetContextMenuClose(),this.data.action(this.data,this.menuId),e.stopPropagation(),!1},t.prototype.getCls=function(){var e=[this.data.name];return this.data.cls&&this.data.cls[this.menuId]&&e.push(this.data.cls[this.menuId]),this.active&&e.push("active"),e.join(" ")},t.prototype.onRenderComponent=function(e,t){var i=this,n=r.Component.renderComponentTo(t.$new(),o.MenuOverlay,"app/menu/menu.overlay.html",$(".overlay-container"));this._visibleUnsubscribe=t.$watch("vm.data.menuContent.visibleMenuId",function(t){t===i.menuId?(n.then(function(t){t.menuContent=i.data.menuContent,t.customClass=i.data.menuClass;var n="navigationbar"===i.menuId?"top right":"bottom left";i.data.targetAlign&&i.data.targetAlign[i.menuId]&&(n=i.data.targetAlign[i.menuId]);var r=i.data.align&&i.data.align[i.menuId]?i.data.align[i.menuId]:"top left";t.show(e,n,r).then(i._menuService.publishMenuShown.bind(i._menuService))}),i.active=!0):n&&i._hideOverlay(n)}),window.addEventListener("resize",this._hideOverlayThrottle.bind(this,n))},t.prototype.onDestroy=function(){this._el=null,this._scope=null,this._httpService=null,this._templateCache=null,this._compileService=null,this._controllerService=null,this._menuService=null,"function"==typeof this._visibleUnsubscribe&&this._visibleUnsubscribe()},t.prototype._hideOverlay=function(e){this.active&&(e.then(function(e){return e.hide()}),this.active=!1)},t}(r.Component);i.MenuItem=a},{"../../menu/menu.overlay":193,"../component":28}],100:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.Navbarmenu,{restrict:"E",scope:{menuId:"@"},templateUrl:"app/components/navbarmenu/navbarmenu.html"})}var r=e("../component"),o=e("./navbarmenu");i.navbarmenuDirective=n},{"../component":28,"./navbarmenu":101}],101:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._menuService=t,n._layoutService=i,n.items=[],t.getMenuItemsById(n.menuId).then(function(e){n.items=e;

}),n}return n(t,e),t.$inject=["menuService","layoutService"],Object.defineProperty(t.prototype,"visibleItems",{get:function(){return this._menuService.filterVisibleMenuItems(this.menuId,this.items,this._layoutService.responsiveInfo)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._menuService=null},t}(r.Component);i.Navbarmenu=o},{"../component":28}],102:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.OmniSearch,{restrict:"E",templateUrl:"app/components/omnisearch/omnisearch.html"})}var r=e("../component"),o=e("./omnisearch");i.omnisearchDirective=n},{"../component":28,"./omnisearch":103}],103:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../menu/menu.service"),a=function(e){function t(t,i,n){var r=e.call(this)||this;return r._omnisearchService=t,r._searchCards=r._omnisearchService.getSearchCards(),r._menuService=i,r._hoveredListItem=null,r._timeoutService=n,r._subscriptions=[],r._subscriptions.push(r._menuService.channelSubMenu.subscribe(o.MenuService.TOPIC_SUBMENU_HIDE,function(e){e.menuItem&&"search"===e.menuItem.name&&r._omnisearchService.reset()})),r}return n(t,e),t.$inject=["omnisearchService","menuService","$timeout"],Object.defineProperty(t.prototype,"showResults",{get:function(){return this._omnisearchService&&null!==this._omnisearchService&&this._omnisearchService.searchActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchCards",{get:function(){return this._searchCards},enumerable:!0,configurable:!0}),t.prototype.handleKeyUp=function(e){this.quitOnEsc(e),this.navigateSearchResultsOnKey(e),this.openSelectedAppOnEnter(e)},t.prototype.onRenderComponent=function(e,t){var i=this;this._el=e,this._el.delegate(".app-components-omnisearch-searchResultItem","mouseenter",function(){null!==i._hoveredListItem&&i._el.find(i._hoveredListItem).removeClass("simulateHover")})},t.prototype.hideSearchCard=function(e){return this._omnisearchService&&null!==this._omnisearchService&&this._omnisearchService.searchActive&&e&&null!==e&&0===e.items.length},t.prototype.showNoResultsMessage=function(){return this._omnisearchService&&null!==this._omnisearchService&&this._omnisearchService.hasResults()},t.prototype.destroy=function(){this._subscriptions&&(this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._subscriptions=null),this._omnisearchService.reset(),this._omnisearchService=null,this._el=null,this._hoveredListItem=null,this._menuService=null,this._timeoutService=null},t.prototype.quitOnEsc=function(e){27===e.which&&(e.stopPropagation(),this._menuService.hideActiveSubMenu())},t.prototype.navigateSearchResultsOnKey=function(e){var t,i=0;if((40===e.which||38===e.which)&&(t=this._el.find("#mainSection > li.list-group-item"),t&&t.length&&0!==t.length))return 40===e.which?null===this._hoveredListItem?(this._hoveredListItem=t[0],void this._el.find(this._hoveredListItem).addClass("simulateHover")):(this._el.find(this._hoveredListItem).removeClass("simulateHover"),i=_.indexOf(t,this._hoveredListItem)+1,i>=t.length&&(i=0),this._hoveredListItem=t[i],void this._el.find(this._hoveredListItem).addClass("simulateHover")):38===e.which?(i=t.length-1,null===this._hoveredListItem?(this._hoveredListItem=t[i],void this._el.find(this._hoveredListItem).addClass("simulateHover")):(this._el.find(this._hoveredListItem).removeClass("simulateHover"),i=_.indexOf(t,this._hoveredListItem)-1,0>i&&(i=t.length-1),this._hoveredListItem=t[i],void this._el.find(this._hoveredListItem).addClass("simulateHover"))):void(this._hoveredListItem=null)},t.prototype.openSelectedAppOnEnter=function(e){var t=this;13===e.which&&null!==this._hoveredListItem&&(e.stopPropagation(),this._timeoutService(function(){return t._el.find(t._hoveredListItem).trigger("click")},0,!1))},t}(r.Component);i.OmniSearch=a},{"../../menu/menu.service":194,"../component":28}],104:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchCard,{restrict:"E",scope:{maxMainItems:"=",searchCard:"="},templateUrl:"app/components/omnisearch/search-card/search-card.html"})}var r=e("../../component"),o=e("./search-card");i.searchCardDirective=n},{"../../component":28,"./search-card":105}],105:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../component"),o=function(e){function t(t){var i=e.call(this)||this;return i.shownItems=[],i._unbinders=[],i._omnisearchService=t,i}return n(t,e),t.$inject=["omnisearchService"],t.prototype.onRenderComponent=function(e,t){var i=this;this._unbinders.push(t.$watch("vm.searchCard.source.items",function(e){var t=e||[];t.length>i.maxMainItems?(i.showingTopResults=!0,i.shownItems=e.slice(0,i.maxMainItems)):(i.showingTopResults=!1,i.shownItems=t.map(function(e){return e}))}))},t.prototype.noResults=function(){return 0===this.shownItems.length},Object.defineProperty(t.prototype,"translationData",{get:function(){return this.searchCard.source.translationData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this.searchCard.source&&this.searchCard.source.loading},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._omnisearchService=null,this._unbinders.forEach(function(e){return e()})},t}(r.Component);i.SearchCard=o},{"../../component":28}],106:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchResultApp,{restrict:"E",scope:{item:"="},templateUrl:"app/components/omnisearch/search-result-app/search-result-app.html"})}var r=e("../../component"),o=e("./search-result-app");i.searchResultAppDirective=n},{"../../component":28,"./search-result-app":107}],107:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../search-result-item/search-result-item"),o=e("../../../../util/interact/draggable-menu-item"),a=function(e){function t(t,i,n,r,a){var s=e.call(this)||this;s._appsService=t,s._menuService=r,s._userService=a;var c=s.item.data.parentName;return s._draggableMenuItem=new o.DraggableMenuItem(s.item.data,i,n,s._menuService.hideActiveSubMenu.bind(s._menuService)),c&&null!==c&&s._appsService.getApps().then(function(e){return s.assembleParentDescription(c,e)}),s}return n(t,e),t.$inject=["appsService","layoutService","deviceService","menuService","userService"],t.prototype.userHasQNumber=function(){var e=this._userService.user;return e&&e.hasQNumber()},t.prototype.onRenderComponent=function(e){this.userHasQNumber()&&this._draggableMenuItem.initElement($(e))},t.prototype.destroy=function(){this._appsService=null,this._draggableMenuItem.cleanupElement()},Object.defineProperty(t.prototype,"hasParent",{get:function(){return this.parentDescription&&null!==this.parentDescription},enumerable:!0,configurable:!0}),t.prototype.assembleParentDescription=function(e,t){var i=this._appsService.findApp(e,t);i&&(this.parentDescription=i.description+(this.hasParent?" > "+this.parentDescription:""),i.parentName&&null!==i.parentName&&this.assembleParentDescription(i.parentName,t))},t}(r.SearchResultItem);i.SearchResultApp=a},{"../../../../util/interact/draggable-menu-item":300,"../search-result-item/search-result-item":115}],108:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchResultDashboard,{restrict:"E",scope:{item:"="},templateUrl:"app/components/omnisearch/search-result-dashboard/search-result-dashboard.html"})}var r=e("../../component"),o=e("./search-result-dashboard");i.searchResultDashboardDirective=n},{"../../component":28,"./search-result-dashboard":109}],109:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../search-result-item/search-result-item"),o=e("../../../../util/interact/draggable-menu-item"),a=e("../../../widget/widget.data.interface"),s=function(e){function t(t,i,n,r,s){var c=e.call(this)||this,l={name:c.item.data.name,title:c.item.data.description,locked:c.item.data.locked||!1,type:c.item.type,parentName:c.item.data.parentName};return c._omnisearchService=t,c._menuService=i,c._userService=s,c.isOwner=c._userService.user?c.item.data.owner&&c._userService.user.userId===c.item.data.owner.userId:!1,c.tooltipModel={owner:c.isOwner,sharedBy:c.item.data.sharedBy,isDashboard:!0},c._draggableMenuItem=new o.DraggableMenuItem({customSettings:"dashboard"===c.item.type?l:c.item.data,widgetDefinitionId:a.WidgetDefinitions.DASHBOARD_LINK},n,r,c._menuService.hideActiveSubMenu.bind(c._menuService)),c}return n(t,e),t.$inject=["omnisearchService","menuService","layoutService","deviceService","userService"],t.prototype.getSearchCardMainItems=function(){var e=this.searchCard.source;return e&&null!==e?e.items.length>this.maxMainItems?_.slice(e.items,0,this.maxMainItems):e.items:[]},t.prototype.userHasQNumber=function(){var e=this._userService.user;return e&&e.hasQNumber()},t.prototype.onRenderComponent=function(e){this.userHasQNumber()&&this._draggableMenuItem.initElement($(e))},t.prototype.destroy=function(){this._draggableMenuItem.cleanupElement()},t}(r.SearchResultItem);i.SearchResultDashboard=s},{"../../../../util/interact/draggable-menu-item":300,"../../../widget/widget.data.interface":286,"../search-result-item/search-result-item":115}],110:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchResultEmployee,{restrict:"E",scope:{item:"="},templateUrl:"app/components/omnisearch/search-result-employee/search-result-employee.html"})}var r=e("../../component"),o=e("./search-result-employee");i.searchResultEmployeeDirective=n},{"../../component":28,"./search-result-employee":111}],111:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../component"),o=function(e){function t(t){var i=e.call(this)||this;return i._deviceService=t,i}return n(t,e),t.$inject=["deviceService"],t.prototype.emailClient=function(){return this._deviceService.isIOS?"awemailclient://emailcompose?kAWEmailClientEmailTo="+this.item.data.email:"mailto:"+this.item.data.email},t}(r.Component);i.SearchResultEmployee=o},{"../../component":28}],112:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchResultFavorite,{restrict:"E",scope:{item:"="},templateUrl:"app/components/omnisearch/search-result-favorite/search-result-favorite.html"})}var r=e("../../component"),o=e("./search-result-favorite");i.searchResultFavoriteDirective=n},{"../../component":28,"./search-result-favorite":113}],113:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../search-result-item/search-result-item"),o=e("../../../../util/link-utils/link.open"),a=e("../../../../util/link-utils/os.client"),s=function(e){function t(t,i){var n=e.call(this)||this;return n.dashboardService=t,n.userService=i,n.dashboardService.getDashboards().then(function(e){var t,i=e.find(function(e){return t=[],e.categories.forEach(function(e){return t=t.concat(e.widgets)}),-1!==t.indexOf(n.widgetDescriptor.id)});i&&null!==i&&(n.parentDescription=i.description)}),n.userService.getUser().then(function(e){return n.currentUser=e}),n}return n(t,e),t.$inject=["dashboardService","userService"],Object.defineProperty(t.prototype,"widgetDescriptor",{get:function(){return this.item.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){return this._settings||(this._settings=JSON.parse(this.widgetDescriptor.customSettings)),this._settings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileHref",{get:function(){return a.getClientOs()===a.OS_TYPE.IOS||"favorite"===this.widgetDescriptor.type?"#":o.getOsSpecificLink(this.settings.url)||"#"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileTarget",{get:function(){return a.getClientOs()===a.OS_TYPE.IOS||"favorite"===this.widgetDescriptor.type?"_self":o.getLinkTarget(this.settings.url)||"_self"},enumerable:!0,configurable:!0}),t.prototype.belongsToUser=function(e){return this.currentUser&&e?this.currentUser.userId===e.userId:!1},Object.defineProperty(t.prototype,"hasParent",{get:function(){return this.parentDescription&&null!==this.parentDescription},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.dashboardService=null},t}(r.SearchResultItem);i.SearchResultFavorite=s},{"../../../../util/link-utils/link.open":311,"../../../../util/link-utils/os.client":313,"../search-result-item/search-result-item":115}],114:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchResultItem,{restrict:"E",scope:{item:"="},templateUrl:"app/components/omnisearch/search-result-item/search-result-item.html"})}var r=e("../../component"),o=e("./search-result-item");i.searchResultItemDirective=n},{"../../component":28,"./search-result-item":115}],115:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../component"),o=e("../../restrictedText/restrictedText.utils"),a=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"isItemLabelMultiline",{get:function(){return this.item&&this.item.label?o.isNameMultiline(this.item.label):!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multilineItemLabel",{get:function(){return this.item&&this.item.label?o.dbToHtmlLineBreak(this.item.label):""},enumerable:!0,configurable:!0}),t}(r.Component);i.SearchResultItem=a},{"../../component":28,"../../restrictedText/restrictedText.utils":120}],116:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.PaginationComponent,{restrict:"E",templateUrl:"app/components/pagination/pagination.html",scope:{maxSize:"=",currentPage:"=",totalItems:"=",itemsPerPage:"=",pageUpdateHandler:"&"}})}var r=e("../component"),o=e("./pagination");i.paginationDirective=n},{"../component":28,"./pagination":117}],117:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../layout/layout.service"),a=function(e){function t(t,i){var n=e.call(this)||this;return n.hidePages=!1,n.currentPage=1,n.visiblePages=[],n.timourService=t,n.layoutService=i,n.subscriptions=[],n.subscriptions.push(n.layoutService.channelResize.subscribe(o.LayoutService.TOPIC_RESIZE,function(e){n.setHidePages(e.dimensionViewport.width)})),n}return n(t,e),t.$inject=["$timeout","layoutService"],t.prototype.onRenderComponent=function(e,t){var i=this;t.$watch("vm.totalItems",function(){i.setTotalNumberOfPages()}),this.setHidePages(jQuery(window).width())},t.prototype.setTotalNumberOfPages=function(){this.totalNumberOfPages=Math.floor(this.totalItems/this.itemsPerPage)+(this.totalItems%this.itemsPerPage===0?0:1),1!==this.totalNumberOfPages&&this.setVisiblePages()},t.prototype.updateCurrentPage=function(e){(1!==this.currentPage||-1!==e)&&(this.currentPage!==this.totalNumberOfPages||1!==e)&&(this.currentPage+=e,this.updateViewAndNotify())},t.prototype.gotoPage=function(e){this.currentPage=e,this.updateViewAndNotify()},t.prototype.destroy=function(){this.timourService=null,this.layoutService=null,this.subscriptions.forEach(function(e){e.unsubscribe()}),this.subscriptions=[]},t.prototype.setHidePages=function(e){return 475>e?void(this.hidePages=!0):void(this.hidePages=!1)},t.prototype.updateViewAndNotify=function(){var e=this;this.setVisiblePages(),this.timourService(function(){e.pageUpdateHandler()})},t.prototype.setVisiblePages=function(){if(0===this.visiblePages.length||this.currentPage>this.visiblePages[this.visiblePages.length-1]){var e=this.currentPage+this.maxSize-1;this.visiblePages=[];for(var t=this.currentPage;e>=t;t++)this.visiblePages.push(t)}else if(this.currentPage<this.visiblePages[0]){var i=Math.max(this.currentPage-this.maxSize+1,1);this.visiblePages=[];for(var t=i;t<=this.currentPage;t++)this.visiblePages.push(t)}else;},t}(r.Component);i.PaginationComponent=a},{"../../layout/layout.service":189,"../component":28}],118:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.RestrictedTextComponent,{restrict:"E",templateUrl:"app/components/restrictedText/restrictedText.html",scope:{textModel:"=",required:"=",errorText:"@",maxLength:"=",maxLines:"=",onInputFocus:"&"}})}var r=e("../component"),o=e("./restrictedText");i.restrictedTextDirective=n},{"../component":28,"./restrictedText":119}],119:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("./restrictedText.utils"),a=function(e){function t(){var t=e.call(this)||this;return t.dashRegExp=new RegExp(o.DASH_NAME_INPUT_LINE_BREAK_REGEX),t}return n(t,e),t.prototype.updateRestriction=function(e){return e.stopPropagation(),e.key===o.ENTER_KEY_CODE&&this.textModel?(this.isEnterKey=!0,this.numberOfLines=(this.textModel.match(this.dashRegExp)||[]).length+1,this.maxLineLimitReached=this.numberOfLines>=this.maxLines,void(this.maxLineLimitReached&&e.preventDefault())):(this.isEnterKey=!1,void(this.maxLineLimitReached=!1))},t}(r.Component);i.RestrictedTextComponent=a},{"../component":28,"./restrictedText.utils":120}],120:[function(e,t,i){"use strict";function n(e){return e?e.replace(i.DASH_NAME_HTML_LINE_BREAK,i.DASH_NAME_DB_LINE_BREAK):""}function r(e){return e?e.replace(i.DASH_NAME_INPUT_LINE_BREAK_REGEX,i.DASH_NAME_DB_LINE_BREAK):""}function o(e){return e?e.replace(i.DASH_NAME_DB_LINE_BREAK,i.DASH_NAME_HTML_LINE_BREAK):""}function a(e){return new RegExp(/[(\n|\r)]|(<br\/?>)/).test(e)}i.DASH_NAME_DB_LINE_BREAK="\n",i.DASH_NAME_HTML_LINE_BREAK="<br/>",i.DASH_NAME_INPUT_LINE_BREAK_REGEX=/[(\n|\r)]/g,i.ENTER_KEY_CODE="Enter",i.htmlToDbLineBreak=n,i.inputToDbLineBreak=r,i.dbToHtmlLineBreak=o,i.isNameMultiline=a},{}],121:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.RoleContext,{restrict:"E",scope:{role:"=",diffValues:"=",clickHandler:"&?",hint:"@"},templateUrl:"app/components/roleContext/roleContext.html"})}var r=e("../component"),o=e("./roleContext");i.roleContextDirective=n},{"../component":28,"./roleContext":122}],122:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){return e.call(this)||this}return n(t,e),Object.defineProperty(t.prototype,"role",{get:function(){return this._role},set:function(e){this._role=e,this.createDiffTypes()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffValues",{get:function(){return this._diffValues},set:function(e){this._diffValues=e,this.createDiffTypes()},enumerable:!0,configurable:!0}),t.prototype.createDiffTypes=function(){this.diffTypes=Object.assign({},this.role?this.getDiffTypes(this.role.diffValues):{},this.diffValues?this.getDiffTypes(this.diffValues):{})},t.prototype.getDiffTypes=function(e){void 0===e&&(e=[]);var i=0,n=[],r=e.filter(function(e){return n.includes(e.type)?!1:(n.push(e.type),!0)}).map(function(t){var n=e.filter(function(e){return e.type===t.type}).map(function(e){return e.value});return i+=t.type.length,i+=n.join(", ").length,{type:t.type,name:t.name,values:n}});return i>t.DIFF_VALUE_TOTAL_LIMIT&&r.forEach(function(e){e.values.length>t.DIFF_VALUE_MAX&&(e.values=e.values.splice(0,t.DIFF_VALUE_MAX),e.values.push("..."))}),r.sort(function(e,t){return e.name.localeCompare(t.name)}),r},Object.defineProperty(t.prototype,"classes",{get:function(){var e=[];return this.clickable&&this.diffTypes.length&&e.push("clickable"),e.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return"function"==typeof this.clickHandler},enumerable:!0,configurable:!0}),t.prototype.handleClick=function(e){"function"==typeof this.clickHandler&&this.clickHandler({event:e})},t}(r.Component);o.DIFF_VALUE_TOTAL_LIMIT=100,o.DIFF_VALUE_MAX=5,i.RoleContext=o},{"../component":28}],123:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchBar,{restrict:"E",templateUrl:"app/components/searchbar/searchbar.html"})}var r=e("../component"),o=e("./searchbar");i.searchbarDirective=n},{"../component":28,"./searchbar":124}],124:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../../util/url.helper"),a=e("../../menu/menu.service"),s=function(e){function t(t,i,n){var r=e.call(this)||this;return r._subscriptions=[],r._appsService=t,r.searchApps=[],r.suggestionsLoading=!1,r._appsService.getApp("search").then(function(e){return r.searchApps=e.children.map(function(e,t){return{selected:0===t,app:e}})}),r._omniseachService=i,r._menuService=n,r._subscriptions.push(r._menuService.channelSubMenu.subscribe(a.MenuService.TOPIC_SUBMENU_HIDE,function(e){e.menuItem&&"search"===e.menuItem.name&&r.reset()})),r._subscriptions.push(r._menuService.channelSubMenu.subscribe(a.MenuService.TOPIC_SUBMENU_SHOWN,function(e){e.menuItem&&"search"===e.menuItem.name&&r._searchInput.focus()})),r.doThrottledSuggest=_.throttle(r.suggest.bind(r),100,{trailing:!0}),r}return n(t,e),t.$inject=["appsService","omnisearchService","menuService"],t.prototype.search=function(){var e=this;if(this.searchTerm&&this.searchTerm.trim().length>0){var t,i=this.searchApps.filter(function(e){return e.selected}).map(function(i){switch(t=_.clone(i.app),t.multipleWindows=0,t.name){case"q-search":t.url=o.UrlHelper.mergeQueryString(t.url,{subAction:"search",useStemming:1,resetFilter:!0,query:e.searchTerm,indexName:["pqm","tqp"]});break;case"enterprise-search":t.url=o.UrlHelper.mergeQueryString(t.url,{query:e.searchTerm,pageSize:10,offset:1,osgenerated:!0});break;default:t.url=o.UrlHelper.mergeQueryString(t.url,{query:e.searchTerm})}return t});this._appsService.openApps(i)}},t.prototype.suggest=function(){return this.searchTerm?(this._optiscroll&&this._optiscroll.css("display","block"),void this._omniseachService.search(this.searchTerm)):void this.reset()},t.prototype.reset=function(){this.searchTerm="",this._optiscroll&&this._optiscroll.css("display","none"),this._omniseachService.reset()},t.prototype.stopClick=function(e){e.stopPropagation()},t.prototype.onRenderComponent=function(e){var t=this;this._optiscroll=e.parents(".optiscroll").children(".optiscroll-v"),this._searchInput=e.find(".__searchTerm"),this._searchInput&&this._searchInput.on("touchstart",function(){return t._searchInput.focus()})},t.prototype.destroy=function(){this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._appsService=null,this._omniseachService=null,this.doThrottledSuggest=null,this.searchApps=[],this._menuService=null,this._searchInput.unbind("touchstart"),this._searchInput=null},t}(r.Component);i.SearchBar=s},{"../../../util/url.helper":321,"../../menu/menu.service":194,"../component":28}],125:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.SearchField,{restrict:"E",templateUrl:"app/components/searchfield/search-field.html",scope:{placeholder:"@",keyUpHandler:"&",focusHandler:"&",resetHandler:"&",term:"="}})}var r=e("../component"),o=e("./search-field");i.searchFieldDirective=n},{"../component":28,"./search-field":126}],126:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){var t=e.call(this)||this;return t.throttledSearch=_.debounce(t.triggerHandler.bind(t),150,{trailing:!0}),t}return n(t,e),t.prototype.reset=function(){this.term=null,this.resetHandler()},t.prototype.triggerHandler=function(){this.keyUpHandler()},t.prototype.triggerFocusHandler=function(){this.focusHandler()},t}(r.Component);i.SearchField=o},{"../component":28}],127:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.Sidebar,{restrict:"E",scope:{customClass:"@",id:"@",_expanded:"=expanded",_autoClose:"=sidebarAutoClose"},transclude:!0,templateUrl:"app/components/sidebar/sidebar.html"})}var r=e("./sidebar"),o=e("../component");i.sidebarDirective=n},{"../component":28,"./sidebar":128}],128:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../layout/layout.service"),a=function(e){function t(t,i){var n=e.call(this)||this;return n._timeoutService=i,n._layoutService=t,n}return n(t,e),t.$inject=["layoutService","$timeout"],Object.defineProperty(t.prototype,"expanded",{get:function(){return this._layoutService.sidebars[this.id].expanded},set:function(e){this._layoutService&&this._layoutService.mergeSidebarConfig(this.id,{expanded:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClose",{get:function(){return this._autoClose||!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customClass",{get:function(){return(this._customClass+(this.expanded?" expanded":"")).trim()},set:function(e){this._customClass=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),t.prototype.layoutServiceEventBodyClickMessageCallback=function(e){this.autoClose&&this._layoutService.collapseSidebar(this.id)},t.prototype.setupComponent=function(e){var t=this;this._layoutService.addSidebar(this.id,{expanded:!1}),!this._layoutService.mobileLayout&&this._expanded&&this._layoutService.expandSidebar(this.id),this._subscriptionEvent=this._layoutService.channelEvent.subscribe(o.LayoutService.TOPIC_EVENT_BODY_CLICK,function(e){t._timeoutService(t.layoutServiceEventBodyClickMessageCallback.bind(t,e))})},t.prototype.sidebarClickHandler=function(e){e.stopPropagation()},t.prototype.destroy=function(){this._subscriptionEvent.unsubscribe(),this._layoutService=null,this._timeoutService=null},t}(r.Component);i.Sidebar=a},{"../../layout/layout.service":189,"../component":28}],129:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.WidgetSizeGrid,{restrict:"E",templateUrl:"app/components/sizeGrid/size-grid.html",scope:{minRows:"=",minColumns:"=",maxRows:"=",maxColumns:"=",currentRow:"=",currentColumn:"=",selectSize:"&"}})}var r=e("../component"),o=e("./size-grid");i.widgetSizeGridDirective=n},{"../component":28,"./size-grid":130}],130:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){var t=e.call(this)||this;return t.rows=[1,2,3,4,5],t.columns=[1,2,3,4,5,6,7,8,9],t.throttledUpdate=_.throttle(t.updatePosition,20),t}return n(t,e),t.prototype.onRenderComponent=function(e,t){this.el=e},t.prototype.handleCellClick=function(){this.isValid(this.attemptRow,this.attemptColumn)&&(this.currentRow=this.attemptRow,this.currentColumn=this.attemptColumn,this.selectSize({row:this.currentRow,column:this.currentColumn}))},t.prototype.handleMouseLeave=function(){this.updatePosition(this.currentRow,this.currentColumn)},t.prototype.showBackgroundClass=function(e,t){return this.currentRow>=e&&this.currentColumn>=t},t.prototype.updatePosition=function(e,t){this.attemptRow=e,this.attemptColumn=t;var i,n,r=this.el.find(".col-md-1"),o=this.isValid(e,t);for(r.removeClass("selectionTopMarker selectionLeftMarker selectionBottomMarker selectionRightMarker"),r.removeClass("selectionTopMarkerInvalid selectionLeftMarkerInvalid selectionBottomMarkerInvalid selectionRightMarkerInvalid"),i=0;t>i;i++)jQuery(r.get(i)).addClass(o?"selectionTopMarker":"selectionTopMarkerInvalid");for(i=9*(e-1),n=9*(e-1)+t;n>i;i++)jQuery(r.get(i)).addClass(o?"selectionBottomMarker":"selectionBottomMarkerInvalid");for(i=0,n=9*e;n>i;i+=9)jQuery(r.get(i)).addClass(o?"selectionLeftMarker":"selectionLeftMarkerInvalid");for(i=t-1,n=9*(e-1)+t;n>i;i+=9)jQuery(r.get(i)).addClass(o?"selectionRightMarker":"selectionRightMarkerInvalid")},t.prototype.isValid=function(e,t){var i=this.minRows?this.minRows:1,n=this.maxRows?this.maxRows:5,r=this.minColumns?this.minColumns:1,o=this.maxColumns?this.maxColumns:9;return e>=i&&t>=r&&n>=e&&o>=t},t.prototype.isInBounds=function(e,t){var i=this.maxRows?this.maxRows:5,n=this.maxColumns?this.maxColumns:9;return i>=e&&n>=t},t}(r.Component);i.WidgetSizeGrid=o},{"../component":28}],131:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.Table,{restrict:"E",templateUrl:"app/components/table/table.html",scope:{tableConfig:"=",entryClickHandler:"&"}})}var r=e("../component"),o=e("./table");i.tableDirective=n},{"../component":28,"./table":132}],132:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){return e.call(this)||this}return n(t,e),Object.defineProperty(t.prototype,"tableData",{get:function(){return _.isArray(this.tableConfig.data)?!this.tableConfig.nbDisplayedResults||this.tableConfig.nbDisplayedResults>this.tableConfig.data.length?this.tableConfig.data:this.tableConfig.data.slice(0,this.tableConfig.nbDisplayedResults):[]},enumerable:!0,configurable:!0}),t.prototype.getCellValue=function(e,t){return"function"==typeof t.dataField?t.dataField(e):e[t.dataField]},t.prototype.handleEntryClick=function(e,t){this.entryClickHandler({idx:e,entry:t})},t}(r.Component);i.Table=o},{"../component":28}],133:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.TabviewContent,{restrict:"E",scope:{content:"="},templateUrl:"app/components/tabview/tabview.content.html"})}var r=e("../component"),o=e("./tabview.content");i.tabviewContentDirective=n},{"../component":28,"./tabview.content":134}],134:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../tab/tab.content.interface"),a=e("../../tab/tab.service"),s=e("../../support/support-overlay"),c=function(e){function t(t,i,n){var r=e.call(this)||this;if(r._templateCache=t,r._tabService=i,r._timeoutService=n,r.hasTemplate){var o=r.content.content;t.put(r.content.id,o.template);

}return r}return n(t,e),t.$inject=["$templateCache","tabService","$timeout"],Object.defineProperty(t.prototype,"hasTemplate",{get:function(){return this.content.content.type===o.TabContentType.TEMPLATE||this.content.content.type===o.TabContentType.FRAME_LAYOUT_TEMPLATE?"undefined"!=typeof this.content.content.template:!1},enumerable:!0,configurable:!0}),t.prototype.onRenderComponent=function(e,t){var i=this;this._subscriptionAppSupport=this._tabService.channelAppSupport.subscribe(a.TabService.TOPIC_APP_SUPPORT,function(n){if(n.tabId===i.content.id&&!i._supportOverlay){var o=t.$new();i._timeoutService.cancel(i._timeout),r.Component.renderComponentTo(o,s.SupportOverlay,"app/support/support-overlay.html",e.find(".__overlayContainer").first()).then(function(e){i._supportOverlay=e,e.supportConfig=n.supportConfig,e.show();var t=e.channel.subscribe(s.SupportOverlay.TOPIC_HIDE,function(){t.unsubscribe(),e&&(e.el.off("mouseenter.timer"),e.el.off("mouseleave.timer"),o.$destroy(),i._supportOverlay=null)});e.el.on("mouseenter.timer",function(){i._timeoutService.cancel(i._timeout)}),e.el.on("mouseleave.timer",function(){i.createSupportOverlayTimer(n.timeout)}),i.createSupportOverlayTimer(n.timeout)})}})},t.prototype.destroy=function(e){this._templateCache.remove(this.content.id),this.content=null,this._templateCache=null,this._subscriptionAppSupport.unsubscribe(),this._supportOverlay&&this._supportOverlay.destroy()},t.prototype.createSupportOverlayTimer=function(e){var t=this;e&&(this._timeout=this._timeoutService(function(){t._supportOverlay&&t._supportOverlay.hide()},1e3*e))},t}(r.Component);i.TabviewContent=c},{"../../support/support-overlay":226,"../../tab/tab.content.interface":227,"../../tab/tab.service":231,"../component":28}],135:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.Tabview,{restrict:"E",scope:{id:"=tabviewId",minTabWidth:"@",maxTabs:"@",leftTitlebarVisible:"=",rightTitlebarVisible:"="},transclude:!0,templateUrl:"app/components/tabview/tabview.html"})}var r=e("./tabview"),o=e("../component");i.tabviewDirective=n},{"../component":28,"./tabview":136}],136:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../tab/tab.service"),o=e("../component"),a=e("../../layout/layout.service"),s=e("../../tab/tab.content.interface"),c=e("../../menu/menu.service"),l=e("../../dashboard/dashboard.service"),d=e("../../app.icons"),p=e("../../apps/application.model.interface"),u=e("../../tab/tab.manager"),h=e("../../dashboard/dashboard.model.interface"),g=e("../../actionLog/action-constants"),m=function(e){function t(t,i,n,r,o,a,s,c,l,d,g,m,v,f,b,y,S,_){var w=e.call(this)||this;return w.ADD_FAVORITE=h.DashboardControlOptions.ADD_FAVORITE,w.ADD_CATEGORY=h.DashboardControlOptions.ADD_CATEGORY,w.SHARE=h.DashboardControlOptions.SHARE,w.RENAME=h.DashboardControlOptions.RENAME,w.DELETE=h.DashboardControlOptions.DELETE,w.RESET=h.DashboardControlOptions.RESET,w.SETTINGS=h.DashboardControls.SETTINGS,w.OPEN_NEW_WINDOW=p.ApplicationControlOptions.OPEN_NEW_WINDOW,w.SHOW_CONTEXT_HELP=p.ApplicationControlOptions.SHOW_CONTEXT_HELP,w.APP_SETTINGS=p.ApplicationControls.APP_SETTINGS,w.maxTabs=u.TabManager.MAX_TABS,w.minTabWidth=324,w.splitDirection="row",w._isTabDragging=!1,w._tabService=t,w._timeoutService=n,w._layoutService=i,w._deviceService=r,w._appsService=o,w._animateService=a,w._userService=c,w._$=s,w._menuService=l,w._popupService=d,w._widgetService=g,w._dashboardService=m,w._notificationService=v,w._workplaceApiService=b,w._translateService=y,w._translateService("dashboard.category.title").then(function(e){return w._newCategoryTitle=e}),w._workplaceContextService=S,w._actionLogService=_,w._subscriptions=[],w}return n(t,e),t.$inject=["tabService","layoutService","$timeout","deviceService","appsService","$animate","jQuery","userService","menuService","popupService","widgetService","dashboardService","notificationService","guidedTourService","workplaceApiService","$translate","workplaceContextService","actionLogService"],Object.defineProperty(t.prototype,"tabs",{get:function(){return this._tabService&&this._tabService.getTabManager(this.id)?this._tabService.getTabManager(this.id).tabs:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invisibleTabs",{get:function(){return this.tabs.filter(function(e){return!e.visible})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleTabs",{get:function(){return this.tabs.filter(function(e){return e.visible})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customClass",{get:function(){return{"tabview-dd-visible":this.invisibleTabs.length>0,"tabview-dragging":this.isTabDragging}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTabDragging",{set:function(e){this._layoutService.setDragActive(e),this._isTabDragging=e},enumerable:!0,configurable:!0}),t.prototype.isDefaultDashboardTab=function(e){return this._tabService.isDefaultDashboardTab(e)},t.prototype.isDragAllowedForTab=function(e){return!this._layoutService.responsiveInfo.xs&&!e.waitForClose},t.prototype.isDashboardTab=function(e){var t=e.content;return t.type===s.TabContentType.TEMPLATE||t.containsDashboard},t.prototype.isAppTab=function(e){var t=e.content;return!t.containsDashboard},t.prototype.hasSettingsOption=function(e,t,i){return this.isDashboardTab(e)?this._dashboardService.hasControlAndOption(e.content.dashboardName,t,i):this.isAppTab(e)?this._appsService.hasControlAndOption(e.content.app.name,t,i):!1},t.prototype.hasMenu=function(e){return this._dashboardService.hasControlAndOption(e.content.dashboardName,this.SETTINGS)||e.content.app&&this._appsService.hasControlAndOption(e.content.app.name,this.APP_SETTINGS)},t.prototype.hasRefresh=function(e){return e.active&&(e.refreshable||this._dashboardService.hasControlAndOption(e.content.dashboardName,h.DashboardControls.REFRESH)||e.content.app&&this._appsService.hasControlAndOption(e.content.app.name,p.ApplicationControls.REFRESH))&&!e.waitForClose},t.prototype.iconClsForTab=function(e){return e.iconCls?e.iconCls:d.Icons.APP_DEFAULT},t.prototype.refreshTab=function(e,t){var i=$(t.target);this._tabService.refreshTab(e.id),this._animateService.addClass(i,"app-animation-refresh").then(function(){return i.removeClass("app-animation-refresh")})},t.prototype.openInBrowser=function(e){var t=this,i=e.id;this._appsService.getAppWithUpdatedContext(e.content.app).then(function(n){var r=t.doOpenInNewBrowserWindow.bind(t,t._appsService,t._workplaceApiService,e,n);return t._workplaceApiService.hasConnection(i)?void t._workplaceApiService.getConnection(i).then(function(i){i.onClose(function(){t._timeoutService(r)}),t.closeTab(e)}):(t.closeTab(e),void r())})},t.prototype.openAppContextHelp=function(e){this._appsService.openHelp(e.content.app),this._actionLogService.logAction({category:g.ActionConstants.CATEGORY_HELP,action:g.ActionConstants.ACTION_HELP_MENU,actionInfo:"context"})},t.prototype.createNewCategory=function(e){var t={id:null,title:this._newCategoryTitle,widgets:[],sortPos:0};this._dashboardService.addDashboardCategory(e.id,t)},t.prototype.openShareDialog=function(e,t){var i=this,n=e.title;this._popupService.showModalWindow("shareDashboardDialog",{titleKey:"dialogs.dashboard.share.title",okButtonKey:"dialogs.share.buttons.ok.label",cancelButtonKey:"dialogs.share.buttons.cancel.label",id:e.id,title:n,shareType:"dashboard"}).then(function(t){t>0?i._notificationService.showInfo("dialogs.share.success",{name:n}):i._notificationService.showWarn("dialogs.share.unshare",{name:n}),i._dashboardService.refreshDashboard(e.id)})},t.prototype.openDashboardSettingsDialog=function(e,t){var i=this;this._popupService.showModalWindow("appModalsAddFavorite",{id:e.id}).then(function(t){return i._widgetService.createWidget(t,e.id)}).then(function(t){return i._dashboardService.addDashboardWidget(e.id,t)})},t.prototype.openDashboardNameDialog=function(e,t){var i=this;this._popupService.showModalWindow("renameDialog",{title:e.title,titleKey:"dialogs.dashboard.edit.title",validationMaxLength:30,validationMaxLengthMessageKey:"dialogs.dashboard.error.name.maxlength",validationFieldRequiredMessageKey:"dialogs.dashboard.error.name.required"}).then(function(t){return i._dashboardService.editDashboardName(e.id,t)})},t.prototype.openDashboardDeleteDialog=function(e){var t=this;this._popupService.showModalWindow("deleteDashboardConfirmationDialog",{options:{titleKey:"dialogs.dashboard.delete.title",messageKey:"dialogs.dashboard.delete.message",messageParams:{name:e.title},okButtonKey:"dialogs.dashboard.buttons.delete.accept",cancelButtonKey:"dialogs.dashboard.buttons.delete.cancel"}}).then(function(){return t._dashboardService.deleteDashboard(e.id)})},t.prototype.openDashboardResetDialog=function(e){var t=this;this._popupService.showModalWindow("deleteDashboardConfirmationDialog",{options:{titleKey:"dialogs.dashboard.reset.title",messageKey:"dialogs.dashboard.reset.message",messageParams:{name:e.title},okButtonKey:"dialogs.dashboard.buttons.reset.accept",cancelButtonKey:"dialogs.dashboard.buttons.reset.cancel"}}).then(function(){return t._dashboardService.resetDashboard(e.id)})},t.prototype.closeTab=function(e){this._tabService.closeTab(e.id)},t.prototype.canSplit=function(e){return this.tabs.length>1&&!this._layoutService.mobileLayout&&this._layoutService.layout.leaves().length<=1},t.prototype.splitTab=function(e,t){this._tabService.splitTabview({tabviewId:this.id,tabId:e.id,direction:this.splitDirection,index:t})},t.prototype.holdSplit=function(){this.splitDirection="row"===this.splitDirection?"column":"row"},t.prototype.showTab=function(e){this._tabService.moveTabToBack(e.id),this._tabService.selectTab(e.id)},t.prototype.canJoin=function(e){return Object.keys(this._tabService.tabManagers).length>1},t.prototype.joinTab=function(e){var t=this._tabService.findTabManagerForTabId(e.id),i=this._layoutService.layout.findChildById(t.id),n=_.first(i.parent.children.filter(function(e){return e!==i}));n&&this._tabService.moveAllTabsFromTo(t.id,n.id)},t.prototype.updateVisibleTabs=function(e){var t=this;this._promiseUpdate&&this._timeoutService.cancel(this._promiseUpdate),this._promiseUpdate=this._timeoutService(function(){var i=e.width(),n=Math.floor(i/t.minTabWidth)||1,r=t.tabs.length-n;t.tabs.forEach(function(e,i){return e.visible=n>1?t.isDefaultDashboardTab(e)||i>r:i>=r}),t._promiseUpdate=null})},t.prototype.hasHelp=function(e){if(e.content.type===s.TabContentType.IFRAME){var t=e.content.app.helpUrl;return!_.isEmpty(t)}},t.prototype.openHelp=function(e,t){this._appsService.openHelp(e.content.app),t.stopPropagation()},t.prototype.tabServiceMessageCallback=function(e,t,i){t.tabviewId===this.id&&this.updateVisibleTabs(e)},t.prototype.layoutServiceResizeMessageCallback=function(e,t){this.updateVisibleTabs(e)},t.prototype.layoutServiceResponsiveMessageCallback=function(e,t){},t.prototype.layoutServiceUpdateMessageCallback=function(e,t){this.updateVisibleTabs(e)},t.prototype.handleTabClick=function(e){this._tabService.selectTab(e.id)},t.prototype.onTabSort=function(e,t){var i=this,n=this.invisibleTabs.length,r=n+t+(this.isDefaultDashboardTab(this.tabs[0])?1:0);e.tabview!==this.id?this._timeoutService(function(){return i._tabService.moveTabToIndex(e.tab.id,r,i.id)}):this._tabService.moveTabToIndex(e.tab.id,r)},t.prototype.onTabSortStart=function(e){this._layoutService.publishDragStart(),this.isTabDragging=!0},t.prototype.onTabSortEnd=function(e){this._layoutService.publishDragEnd(),this.isTabDragging=!1},t.prototype.onSplitMaskDrop=function(e,t){this._tabService.splitTabview({tabviewId:this.id,tabId:e.tab.id,direction:t.direction,index:t.index})},t.prototype.onRenderComponent=function(e,t){var i=this;this.updateVisibleTabs(e),this._subscriptions.push(this._tabService.channel.subscribe(r.TabService.TOPIC_TAB_ADD,this.tabServiceMessageCallback.bind(this,e))),this._subscriptions.push(this._tabService.channel.subscribe(r.TabService.TOPIC_TAB_REMOVE,this.tabServiceMessageCallback.bind(this,e))),this._subscriptions.push(this._tabService.channel.subscribe(r.TabService.TOPIC_TAB_SELECT,function(e){var t=i._tabService.getTabById(e.tabId);t&&!t.visible&&i._tabService.moveTabToBack(t.id)})),this._subscriptions.push(this._tabService.channel.subscribe(r.TabService.TOPIC_TAB_MOVE,this.tabServiceMessageCallback.bind(this,e))),this._subscriptions.push(this._layoutService.channelResize.subscribe(a.LayoutService.TOPIC_RESIZE,this.layoutServiceResizeMessageCallback.bind(this,e))),this._subscriptions.push(this._layoutService.channelResize.subscribe(a.LayoutService.TOPIC_RESPONSIVE_LAYOUT,this.layoutServiceResponsiveMessageCallback.bind(this,e))),this._subscriptions.push(this._layoutService.channelUpdate.subscribe(a.LayoutService.TOPIC_UPDATE,this.layoutServiceUpdateMessageCallback.bind(this,e))),this._subscriptions.push(this._menuService.channelSubMenu.subscribe(c.MenuService.TOPIC_SUBMENU_SHOW,this.closeSettingsOverlay.bind(this))),this._subscriptions.push(this._layoutService.channelSidebar.subscribe(a.LayoutService.TOPIC_SIDEBAR,this.closeOnSidebarOpen.bind(this))),this._subscriptions.push(this._layoutService.channelEvent.subscribe(a.LayoutService.TOPIC_EVENT_BODY_CLICK,this.closeSettingsOverlay.bind(this))),this._subscriptions.push(this._dashboardService.channel.subscribe(l.DashboardService.TOPIC_DASHBOARD_CONTEXT_MENU_OPEN,this.closeSettingsOverlay.bind(this)))},t.prototype.toggleContextMenu=function(e,t){this.contextMenuClicked=!0,t.contextMenuExpanded=!t.contextMenuExpanded,this._layoutService.collapseAll(),jQuery(window).focus()},t.prototype.setupComponent=function(e){this._tabService.registerTabview(this.id,{maxTabs:this.maxTabs})},t.prototype.getTabTitle=function(e){return _.escape(e)},t.prototype.destroy=function(){this._promiseUpdate&&(this._timeoutService.cancel(this._promiseUpdate),this._promiseUpdate=null),this._subscriptions.forEach(function(e){return e.unsubscribe()}),this.tabs.forEach(function(e){e.visible=!0,e.contextMenuExpanded=!1}),this._layoutService=null,this._tabService=null,this._timeoutService=null,this._appsService=null,this._animateService=null,this._deviceService=null,this._userService=null,this._$=null,this._popupService=null,this._workplaceContextService=null,this._actionLogService=null},t.prototype.doOpenInNewBrowserWindow=function(e,t,i,n){if(n){var r=e.openAppInWindow(n,i.id);t.createConnectionToWindow(i,r,i.id)}},t.prototype.closeSettingsOverlay=function(){return this.contextMenuClicked?void(this.contextMenuClicked=!1):void this.tabs.forEach(function(e){return e.contextMenuExpanded=!1})},t.prototype.closeOnSidebarOpen=function(e){e.config&&e.config.expanded===!0&&this.tabs.forEach(function(e){return e.contextMenuExpanded=!1})},t}(o.Component);i.Tabview=m},{"../../actionLog/action-constants":1,"../../app.icons":6,"../../apps/application.model.interface":14,"../../dashboard/dashboard.model.interface":158,"../../dashboard/dashboard.service":159,"../../layout/layout.service":189,"../../menu/menu.service":194,"../../tab/tab.content.interface":227,"../../tab/tab.manager":230,"../../tab/tab.service":231,"../component":28}],137:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.TaskInfoItem,{restrict:"E",scope:{},templateUrl:"app/components/task/task.info.item.html"})}var r=e("../component"),o=e("./task.info.item");i.taskInfoItemDirective=n},{"../component":28,"./task.info.item":138}],138:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(t,i,n){var r=e.call(this)||this;return r._tasksService=t,r._postal=i,r.appLocale=n.locale,r}return n(t,e),t.$inject=["tasksService","postal","language"],Object.defineProperty(t.prototype,"tasks",{get:function(){return this._tasksService?this._tasksService.tasks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showNbTasks",{get:function(){return this._tasksService.tasksLoaded&&!this._tasksService.comError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showUserTasksError",{get:function(){return this._tasksService.comError},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._tasksService=null},t}(r.Component);i.TaskInfoItem=o},{"../component":28}],139:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.Tasks,{restrict:"E",templateUrl:"app/components/task/tasks.html"})}var r=e("./tasks"),o=e("../component");i.usertasksDirective=n},{"../component":28,"./tasks":140}],140:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component");i.TASK_SYSTEMS={GAMS:"gams",PQM:"pqm",DBKR:"dbkr",QMT:"qmt",NEXTONE:"workplace"};var o=function(e){function t(t,i,n,r,o,a){var s=e.call(this)||this;return s._tasksService=t,s._appsService=i,s._menuService=n,s._postal=o,s._deviceService=r,s.appLocale=a.locale,s}return n(t,e),t.$inject=["tasksService","appsService","menuService","deviceService","postal","language"],Object.defineProperty(t.prototype,"tasks",{get:function(){return this._tasksService?this._tasksService.tasks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emptyTasksPanelMessage",{get:function(){return this._tasksService?this._tasksService.comError?"tasks.tasksServiceUnavailable":"tasks.noTasks":"tasks.tasksServiceUnavailable"},enumerable:!0,configurable:!0}),t.prototype.openTask=function(e){this._tasksService.openTask(e,{assignedToMe:1}),this._menuService.hideActiveSubMenu()},t.prototype.showTaskDateExceeded=function(e){if(e.taskDue){var t=(new Date).getTime()-e.taskDue;if(t>0)return"dateExceeded"}return""},t.prototype.destroy=function(){this._tasksService=null,this._appsService=null,this._menuService=null,this._deviceService=null},t}(r.Component);i.Tasks=o},{"../component":28}],141:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.TitlebarSplit,{restrict:"E",scope:{menuId:"@"},templateUrl:"app/components/titlebar/titlebar.split.html"})}var r=e("../component"),o=e("./titlebar.split");i.titlebarSplitDirective=n},{"../component":28,"./titlebar.split":142}],142:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(t,i,n,r,o,a,s){var c=e.call(this)||this;return c.env="",c._stateService=t,c._layoutService=r,c._translateService=i,c._menuService=o,c._dashboardService=a,c.items=[],c.isMobile=s.isMobile(),n.getProperty("workplace.environment").then(function(e){return c.env=e.value}),o.getMenuItemsById(c.menuId).then(function(e){return c.items=e}),c}return n(t,e),t.$inject=["$state","$translate","workplaceContextService","layoutService","menuService","dashboardService","deviceService"],Object.defineProperty(t.prototype,"style",{get:function(){return{display:"flex"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"navbarExpanded",{get:function(){return this._layoutService.hasSidebarConfig("navigationbar")?this._layoutService.getSidebarConfig("navigationbar").expanded:!1},enumerable:!0,configurable:!0}),t.prototype.togglePrimary=function(e){this._layoutService.toggleSidebar("navigationbar"),this._dashboardService.publishWidgetContextMenuClose(),e.stopPropagation()},t.prototype.destroy=function(){this._stateService=null,this._layoutService=null,this._menuService=null},t}(r.Component);i.TitlebarSplit=o},{"../component":28}],143:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.ActionItem,{restrict:"E",templateUrl:"app/components/userinfo/action.item.html",scope:{iconCls:"@",textKey:"@",htmlContent:"@",href:"@"}})}var r=e("../component"),o=e("./action.item");i.actionItemDirective=n},{"../component":28,"./action.item":144}],144:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(r.Component);i.ActionItem=o},{"../component":28}],145:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.UserInfoItem,{restrict:"E",scope:{},templateUrl:"app/components/userinfo/user.info.item.html"})}var r=e("../component"),o=e("./user.info.item");i.userInfoItemDirective=n},{"../component":28,"./user.info.item":146}],146:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../userSetting/user-setting.service"),a=function(e){function t(t,i){var n=e.call(this)||this;return n.image="",n._userService=t,n._userSettingService=i,n._userService.getUser().then(function(e){n.user=e,n.user.roles.sort(function(e,t){return e.roleDescription.localeCompare(t.roleDescription)})}),n.setUserImg(),n._userSettingService.channel.subscribe(o.UserSettingService.USER_SETTINGS_REFRESHED,n.setUserImg.bind(n)),n}return n(t,e),t.$inject=["userService","userSettingService"],t.prototype.destroy=function(){this.user=null,this._userService=null},t.prototype.setUserImg=function(){var e=this;this._userSettingService.getSettingByDescription("profileImage").then(function(t){if(t&&null!==t){var i=t.optionsList.find(function(e){return"profileImageSet"===e.description?!0:void 0});e.image=i.values[0]}})},t}(r.Component);i.UserInfoItem=a},{"../../userSetting/user-setting.service":240,"../component":28}],147:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.Userinfo,{restrict:"E",scope:{},templateUrl:"app/components/userinfo/userinfo.html"})}var r=e("../component"),o=e("./userinfo");i.userinfoDirective=n},{"../component":28,"./userinfo":148}],148:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../../actionLog/action-constants"),a=function(e){function t(t,i,n,r,o,a,s,c,l){var d=e.call(this)||this;return d._userService=t,d._layoutService=c,d._menuService=i,d._popupService=n,d._deviceService=r,d._appsService=o,d._translateService=a,d._actionLogService=s,d._userService.getUser().then(function(e){return d.user=e}),d._dashboardService=l,d._appsService.getApp("role-manager").then(function(e){d.roleManager=e}),d._appsService.getApp("user-settings").then(function(e){d.settingsApp=e}),d}return n(t,e),t.$inject=["userService","menuService","popupService","deviceService","appsService","$translate","actionLogService","layoutService","dashboardService"],t.prototype.selectedRole=function(){return this.user?this.user.getSelectedRole():null},t.prototype.hasRoles=function(){if(this.user.roles.length>0)return!0;for(var e=this.user.substitutedUsers,t=0,i=e;t<i.length;t++){var n=i[t];if(n.substitutedRoles.length>0)return!0}return!1},t.prototype.selectRole=function(e){this._actionLogService.logAction({category:o.ActionConstants.CATEGORY_ROLES,action:o.ActionConstants.ACTION_ROLE_MENU,actionInfo:"select role"}),this._userService.selectRole(e)},t.prototype.showLogoutConfirmation=function(){this._popupService.showLogoutConfirmationDialog()},t.prototype.showRoleManagerApp=function(){var e=this;this._appsService.openAppByName("role-manager").then(function(){e._menuService.hideActiveSubMenu(),e._layoutService.collapseSidebar("navigationbar")})},t.prototype.openUserSettings=function(){var e=this;this._appsService.openAppByName("user-settings").then(function(){e._menuService.hideActiveSubMenu(),e._layoutService.collapseSidebar("navigationbar")})},t.prototype.isUserDeleted=function(e){return e&&e.deleted},t.prototype.stopClick=function(e){return e.stopPropagation(),!1},t.prototype.destroy=function(){this._userService=null,this._menuService=null,this._popupService=null,this._deviceService=null,this._appsService=null,this._translateService=null},t}(r.Component);i.Userinfo=a},{"../../actionLog/action-constants":1,"../component":28}],149:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.ViewToggle,{restrict:"E",templateUrl:"app/components/viewToggle/view.toggle.html"})}var r=e("../component"),o=e("./view.toggle");i.viewToggleDirective=n},{"../component":28,"./view.toggle":150}],150:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._tabService=t,n._layoutService=i,n}return n(t,e),t.$inject=["tabService","layoutService"],t.prototype.canSplit=function(){return this._tabService.getTabManagerDefault().tabs.length>1&&!this._layoutService.mobileLayout&&this._layoutService.layout.leaves().length<=1},t.prototype.canJoin=function(){return this._layoutService.isSplitLayout()},t.prototype.splitRight=function(){this._tabService.splitTabview({tabviewId:this._tabService.tabManagerDefault,tabId:this._tabService.getTabManagerDefault().selectedTab.id,direction:"row",index:1})},t.prototype.splitBottom=function(){this._tabService.splitTabview({tabviewId:this._tabService.tabManagerDefault,tabId:this._tabService.getTabManagerDefault().selectedTab.id,direction:"column",index:1})},t.prototype.join=function(){var e=this._layoutService.layout.leaves();e.length>1&&(this._tabService.moveAllTabsFromTo(e[1].id,e[0].id),this._tabService.unregisterTabview(e[1].id),this._tabService.getTabManagerDefault().selectDefault())},t.prototype.destroy=function(){this._tabService=null,this._layoutService=null},t}(r.Component);i.ViewToggle=o},{"../component":28}],151:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.WidgetContext,{restrict:"E",scope:{diffValues:"=",clickHandler:"&?",hint:"@"},templateUrl:"app/components/roleContext/roleContext.html"})}var r=e("../component"),o=e("./widget-context");i.widgetContextDirective=n},{"../component":28,"./widget-context":152}],152:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=e("../roleContext/roleContext"),a=function(e){function t(){var t=e.call(this)||this;return t.diffTypes=[],t}return n(t,e),Object.defineProperty(t.prototype,"diffValue",{get:function(){return this._diffValues},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffValues",{set:function(e){this._diffValues=e,this.createDiffTypes||(this.createDiffTypes=_.throttle(this._createDiffTypes,100,{leading:!0,trailing:!0})),this.createDiffTypes(this._diffValues)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){var e=[];return this.clickable&&this.diffTypes.length&&e.push("clickable"),e.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return"function"==typeof this.clickHandler},enumerable:!0,configurable:!0}),t.prototype.handleClick=function(e){if("function"==typeof this.clickHandler){var t;_.isArray(this.diffTypes)&&(t={},this.diffTypes.forEach(function(e){t[e.type]=e.values})),this.clickHandler({event:t})}},t.prototype._createDiffTypes=function(e){var t=0,i=_.keys(e).sort().map(function(i){var n=_.isArray(e[i])&&e[i].length>0?{name:e[i][0].name,type:e[i][0].type,values:e[i].map(function(e){return e.value})}:{name:"",values:[]};return n.values&&n.values.length>0&&(t+=n.type.length+n.values.join(", ").length),n});t>o.RoleContext.DIFF_VALUE_TOTAL_LIMIT&&i.forEach(function(e){e.values.length>o.RoleContext.DIFF_VALUE_MAX&&(e.values=e.values.splice(0,o.RoleContext.DIFF_VALUE_MAX),e.values.push("..."))}),this.diffTypes=i},t}(r.Component);i.WidgetContext=a},{"../component":28,"../roleContext/roleContext":122}],153:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.WidgetTable,{restrict:"E",templateUrl:"app/components/widgetTable/widget-table.html",scope:{data:"=",columns:"=",currentPage:"=",itemsPerPage:"@",itemClickHandler:"&",maximized:"="}})}var r=e("../component"),o=e("./widget-table");i.widgetTableDirective=n},{"../component":28,"./widget-table":154}],154:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../component"),o=function(e){function t(){var t=e.call(this)||this;return t.itemsPerPage=5,t.currentPage=1,t}return n(t,e),Object.defineProperty(t.prototype,"visibleItems",{get:function(){return _.isArray(this.data)&&0!==this.data.length?this.maximized?this.data:this.data.slice((this.currentPage-1)*this.itemsPerPage,this.currentPage*this.itemsPerPage):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalItems",{get:function(){return _.isArray(this.data)?this.data.length:0},enumerable:!0,configurable:!0}),t.prototype.handleRowClick=function(e,t,i){i.stopPropagation(),this.itemClickHandler({role:e,d:t})},t.prototype.getColumnForRole=function(e){return this.columns.find(function(t){return t.role===e})},t}(r.Component);i.WidgetTable=o},{"../component":28}],155:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.DashboardCategory,{restrict:"E",scope:{showTitle:"=",cat:"=",dashboardId:"=",onCategoryToggle:"&",onBeforeCategoryHide:"&",onBeforeCategoryShow:"&",onTitleChange:"&",onDelete:"&",autoScrollSelector:"@",sharedDashboard:"="},templateUrl:"app/dashboard/category.html",transclude:!0})}var r=e("../components/component"),o=e("./category");i.dashboardCategoryDirective=n},{"../components/component":28,"./category":156}],156:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("../layout/layout.service"),a=e("./dashboard.service"),s=e("../menu/menu.service"),c=e("../tab/tab.service"),l=function(e){function t(t,i,n,r,l,d,p,u,h){var g=e.call(this)||this;return g.isMobile=!1,g.contextMenuExpanded=!1,g._subscriptions=[],g.generatedId=Math.random().toString(36).substring(7),g._layoutService=i,g.isMobile=n.isMobile(),g._layoutService=i,g._dashboardService=r,g._menuService=l,g._tabService=d,g._popupService=p,g._widgetService=u,g._userService=h,g._subscriptions.push(g._tabService.channel.subscribe(c.TabService.TOPIC_TAB_ADD,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._dashboardService.channel.subscribe(a.DashboardService.DASHBOARD_DRAG_START,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._tabService.channel.subscribe(c.TabService.TOPIC_TAB_REMOVE,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._tabService.channel.subscribe(c.TabService.TOPIC_TAB_SELECT,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._tabService.channel.subscribe(c.TabService.TOPIC_TAB_MOVE,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._menuService.channelSubMenu.subscribe(s.MenuService.TOPIC_SUBMENU_SHOW,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._layoutService.channelResize.subscribe(o.LayoutService.TOPIC_RESIZE,g.closeContextualMenu.bind(g))),
g._subscriptions.push(g._layoutService.channelResize.subscribe(o.LayoutService.TOPIC_RESPONSIVE_LAYOUT,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._layoutService.channelUpdate.subscribe(o.LayoutService.TOPIC_UPDATE,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._layoutService.channelEvent.subscribe(o.LayoutService.TOPIC_EVENT_BODY_CLICK,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._layoutService.channelSidebar.subscribe(o.LayoutService.TOPIC_EVENT_HIDE_POPOVERS,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._layoutService.channelSidebar.subscribe(o.LayoutService.TOPIC_SIDEBAR,g.closeContextualMenu.bind(g))),g._subscriptions.push(g._dashboardService.channel.subscribe(a.DashboardService.TOPIC_DASHBOARD_CONTEXT_MENU_OPEN,g.contextMenuOpen.bind(g))),g}return n(t,e),t.$inject=["postal","layoutService","deviceService","dashboardService","menuService","tabService","popupService","widgetService","userService"],Object.defineProperty(t.prototype,"isExpanded",{get:function(){return"undefined"!=typeof this.cat.expanded?this.cat.initialized&&this.cat.expanded:!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emptyCategory",{get:function(){return!this.cat||!this.cat.widgets||null===this.cat.widgets.length||0===this.cat.widgets.length},enumerable:!0,configurable:!0}),t.prototype.handleInlineEditChange=function(e){this.onTitleChange({value:e})},t.prototype.stopCollapse=function(e){e.stopPropagation()},t.prototype.contextMenuOpen=function(e){e.categoryId!==this.generatedId&&(this.contextMenuExpanded=!1)},t.prototype.onRenderComponent=function(e,t){var i=this,n=e.find(".categoryContent").first();if(n&&(n.on("shown.bs.collapse",function(){i.arrowClass="iwp-icon-gen_nav_arrow_up",i.cat.expanded=!0,i.onCategoryToggle({category:i.cat}),t.$apply()}),n.on("hidden.bs.collapse",function(){i.arrowClass="iwp-icon-gen_nav_arrow_down",i.cat.expanded=!1,i.onCategoryToggle({category:i.cat}),t.$apply()}),n.on("hide.bs.collapse",function(e){return i.cat.editing?!1:(i.onBeforeCategoryHide({category:i.cat}),void t.$apply())}),n.on("show.bs.collapse",function(e){return i.cat.editing?!1:(i.onBeforeCategoryShow({category:i.cat}),void t.$apply())})),this.cat.editing===!0){var r=e.offset(),o=e.closest(this.autoScrollSelector);o.animate({scrollTop:r.top+o.scrollTop()},{duration:1e3})}},t.prototype.closeContextualMenu=function(){this.contextMenuExpanded=!1},t.prototype.toggleContextMenu=function(e){e.stopPropagation(),this.contextMenuExpanded=!this.contextMenuExpanded,this.contextMenuExpanded&&(this._dashboardService.publishContextualMenuOpen(this.generatedId),this._dashboardService.publishWidgetContextMenuClose(),this._layoutService.collapseAll(),this._menuService.hideActiveSubMenu())},t.prototype.createLink=function(e){var t=this;e.stopPropagation(),this._popupService.showModalWindow("appModalsAddFavorite",{id:this.dashboardId}).then(function(e){t._widgetService.createWidget(e,t.dashboardId).then(function(e){t._dashboardService.addDashboardWidget(t.dashboardId,e,t.cat.id)})})},t.prototype.renameCategory=function(e){e.stopPropagation(),this.cat.editing=!0,this.closeContextualMenu()},t.prototype.deleteCategory=function(e){e.stopPropagation(),this.closeContextualMenu(),this.onDelete({category:this.cat})},t.prototype.userHasQNumber=function(){var e=this._userService.user;return e&&e.hasQNumber()},t.prototype.destroy=function(){this._subscriptions&&(this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._subscriptions=null)},t}(r.Component);i.DashboardCategory=l},{"../components/component":28,"../layout/layout.service":189,"../menu/menu.service":194,"../tab/tab.service":231,"./dashboard.service":159}],157:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.Dashboard,{restrict:"E",scope:{dashboardName:"@",dashboardParams:"="},templateUrl:"app/dashboard/dashboard.html"})}var r=e("./dashboard"),o=e("../components/component");i.dashboardDirective=n},{"../components/component":28,"./dashboard":161}],158:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.SETTINGS="settings",n.REFRESH="refresh",i.DashboardControls=n;var r=function(){function e(){}return e}();r.ADD_FAVORITE="add_favorite",r.ADD_CATEGORY="add_category",r.SHARE="share",r.RENAME="rename",r.DELETE="delete",r.RESET="reset",i.DashboardControlOptions=r},{}],159:[function(e,t,i){"use strict";var n=e("../tab/tab.content.interface"),r=e("../app.icons"),o=e("../../util/url.helper"),a=e("../sharing/sharing.service"),s=function(){function e(t,i,n,r,o,s,c,l,d,p,u,h){var g=this;this._tabService=t,this._qService=i,this._postal=n,this._store=r,this.channel=this._postal.channel(e.CHANNEL),this._deviceService=o,this._notificationService=s,this._userService=c,this._dashboardFrameMap={},this._frameDashboardMap={},this._workplaceContextService=l,this._userSettingsService=d,this._sharingService=h,this._httpService=p,this._language=u,this._dashboardQueryParams={lang:this._language.lang,deviceType:this._deviceService.device,demoMode:this._workplaceContextService.demoMode},this._dashboardControlsMap={},this._sharingService.channel.subscribe(a.SharingService.DASHBOARD_ACCEPTED,function(e){return g.addDashboardToStore(e)?void g._notificationService.showSuccess("notification.sharing.dashboard.accepted",{title:e.description}):void g._notificationService.showWarn("notification.sharing.dashboard.available",{title:e.description})})}return e.$inject=["tabService","$q","postal","dashboardStore","deviceService","notificationService","userService","workplaceContextService","userSettingService","$http","language","sharingService"],e.prototype.getDashboards=function(e){void 0===e&&(e=!1);var t=this._qService.defer(),i=this._store.getAll();return e||!i||0===i.length?this._store.findAll(this._dashboardQueryParams,{bypassCache:e}).then(function(e){return t.resolve(e)}):t.resolve(this._store.getAll()),t.promise},e.prototype.getDashboard=function(e){var t=this._qService.defer();return this.getDashboards().then(function(i){var n=i.find(function(t){return t.name===e});n?t.resolve(n):t.reject()}),t.promise},e.prototype.openDashboard=function(t,i,n){var r=this;return t?this._userService.getUser().then(function(o){return!t.strongAuth||o.strongAuth||n?t.multipleWindows&&0!==t.multipleWindows||!r._tabService.getTabById(t.name)?r.getTabServiceObject(t,i).then(function(e){return r._dashboardControlsMap[t.name]?void r._tabService.openTab(e):r.getDashboardControls(t.name).then(function(){return r._tabService.openTab(e)})["catch"](function(){return r._tabService.openTab(e)})}):(r.channel.publish(e.TOPIC_DASHBOARD_CONTEXT_UPDATE,{dashboard:t,context:i}),r._tabService.selectTab(t.name)):r.openDashboardInStrongAuthContext(t,i)}):void console.warn("DashboarService: openDashboard -> The given dashboard is undefined")},e.prototype.refreshDashboard=function(t){var i=this,n=this._qService.defer();return this._store.refresh(t,{params:this._dashboardQueryParams}).then(function(t){n.resolve(t),i.channel.publish(e.DASHBOARD_SHARE_INFO_UPDATED)})["catch"](function(){return n.reject()}),n.promise},e.prototype.addDashboardWidget=function(t,i,n){var r=this;return void 0===n&&(n=null),this.getDashboard(t).then(function(t){return r.findWidget(t,i.id)?(r._notificationService.showWarn("widget.favorite.dragDrop.duplicateEntry"),t):t.categories&&0!==t.categories.length?(n?_.find(t.categories,function(e){return e.id===n}).widgets.push(i.id):_.last(t.categories).widgets.push(i.id),r.updateDashboard(t.name,t).then(function(o){var a=t.name===o.name?e.TOPIC_WIDGET_ADDED:e.DASHBOARD_REPLACED;r.channel.publish(a,{dashboard:o,widgetId:i.id,categoryId:n});var s=i.settings&&i.settings.title?i.settings.title:i.title;return r._notificationService.showSuccess("dialogs.favorite.add.success",{name:s}),o})):t})},e.prototype.addDashboardCategory=function(t,i){var n=this,r=this.findDashboardInCache(t);return r?void this._httpService.post(""+e.ENDPOINT_CATEGORIES,i).then(function(o){o.data.title=i.title,r.categories.push(o.data),n.updateDashboard(t,r).then(function(i){t===i.name&&n.channel.publish(e.CATEGORY_CREATED,{dashboard:i,categoryId:o.data.id}),n._notificationService.showSuccess("dialogs.category.add.success")})}):void console.log("DashboardService -> addCategory error: dashboard "+t+" not found")},e.prototype.removeDashboardWidget=function(e,t,i){var n=this;return this.getDashboard(e).then(function(e){var r=n.findWidget(e,t.id);return r?(_.remove(r.widgets,function(e){return t.id===e}),n.updateDashboard(e.name,e).then(function(e){return i||(i=t.settings&&t.settings.title?t.settings.title:t.title),n._notificationService.showSuccess("dialogs.favorite.remove.success",{name:i}),e})):e})},e.prototype.removeDashboardCategory=function(t,i){var n=this;return this.getDashboard(t).then(function(t){return t.categories=t.categories.filter(function(e){return i.id!==e.id}),n.updateDashboard(t.name,t).then(function(t){return n.channel.publish(e.CATEGORY_DELETED,{dashboard:t,categoryId:i.id}),t})})},e.prototype.editDashboardName=function(t,i){var n=this;this.getDashboard(t).then(function(t){t.description=i,n.updateDashboard(t.name,t).then(function(t){return n.channel.publish(e.DASHBOARD_EDITED,{dashboard:t})})})},e.prototype.deleteDashboard=function(t){var i=this;this.getDashboard(t).then(function(n){return i._store.destroy(t).then(function(){i.channel.publish(e.DASHBOARD_DELETED,{dashboard:n}),i._notificationService.showSuccess("dialogs.dashboard.delete.success",{name:n.description})})})},e.prototype.resetDashboard=function(t){var i=this,n=this.findDashboardInCache(t);n&&this._store.destroy(t).then(function(){Promise.all([i._httpService.get("./rest/dashboards/"+n.parentName,{params:i._dashboardQueryParams}),i.renewDashboardControls(n.name,n.parentName)]).then(function(t){var r=t[0].data;i._store.inject(r),i.getTabServiceObject(r).then(function(t){i._tabService.replaceTab(n.name,t),i.channel.publish(e.TOPIC_DASHBOARD_RESET),i._notificationService.showSuccess("dialogs.dashboard.reset.success",{name:n.description})})})})["catch"](function(e){return console.error("error reseting dashboard",e)})},e.prototype.updateDashboard=function(e,t){var i=this;return this._store.update(e,t).then(function(t){return e!==t.name?i.replaceDashboard(e,t).then(function(){return t}):t})["catch"](function(){return t})},e.prototype.openDashboardByName=function(e,t,i){var n=this;return this.getDashboard(e).then(function(e){return n.openDashboard(e,t,i).then(function(){return e})})},e.prototype.openDeepLinkDashoard=function(e,t){var i=this;return this.openDashboardByName(e,t)["catch"](function(){return i.getDashboards().then(function(n){var r=n.find(function(t){return t.parentName===e});return r?(i.openDashboard(r,t),r):void console.log("DashboardService -> openDeepLinkDashoard: the given dashboard "+e+" is not a dashboard of the user or it doesn't exist")})})},e.prototype.getStartDashboardName=function(){return this._userSettingsService.getStartupSettings().then(function(e){var t=e.optionsList.find(function(e){return"startdashboard"===e.description});return t.values[0]})},e.prototype.createDashboard=function(e){return this._store.create({description:e}).then(function(e){return e})},e.prototype.addDashboardToStore=function(t){return this._store.get(t.name)?!1:(this._store.inject(t),this.channel.publish(e.DASHBOARD_CREATED,{dashboard:t}),!0)},e.prototype.findSystemDashboardClone=function(e){return this.getDashboards().then(function(t){return t.find(function(t){return t.parentName===e})})},e.prototype.hasControlAndOption=function(e,t,i){var n=""+e+t+(i?i:"");if(this.hasControlAndOption[n])return!!this.hasControlAndOption[n].result;var r=this._dashboardControlsMap[e],o=r&&r.length?r.find(function(e){return e.control===t}):null,a=o&&(!i||o.options&&-1!==o.options.indexOf(i));return this.hasControlAndOption[n]={result:a},a},e.prototype.isOwnDashboard=function(e){var t=this.findDashboardInCache(e);return t&&t.owner&&this._userService.user&&this._userService.user.userId&&this._userService.user.userId===t.owner.userId},e.prototype.isSharedDashboard=function(e){var t=this.findDashboardInCache(e);return t&&t.sharedBy&&this._userService.user&&this._userService.user.userId!==t.sharedBy.userId},e.prototype.createFrame=function(e,t,i){return this._dashboardFrameMap[i]||(this._dashboardFrameMap[i]={}),this._dashboardFrameMap[i][e]||(this._dashboardFrameMap[i][e]={id:e,connectionGroupId:i,app:t,visible:!1,relativePosition:!0,boundingBox:{top:0,left:0,right:0,bottom:0}},this._frameDashboardMap[e]=i),this._dashboardFrameMap[i][e]},e.prototype.getFrames=function(e){return this._dashboardFrameMap[e]?Object.values(this._dashboardFrameMap[e]):[]},e.prototype.getDashboardForFrame=function(e){return this._frameDashboardMap[e]?this._store.get(this._frameDashboardMap[e]):void 0},e.prototype.removeFrame=function(e,t){this._tabService.getTabById(t)||this.destroyFrame(e,t)},e.prototype.destroyFrame=function(e,t){this._dashboardFrameMap[t]&&(this._dashboardFrameMap[t][e]=null,delete this._dashboardFrameMap[t][e]),this._frameDashboardMap[e]=null,delete this._frameDashboardMap[e]},e.prototype.updateFrames=function(e,t,i){var n=this;void 0===i&&(i=!1);var r=this._tabService.getTabById(e.name);r&&t.forEach(function(t){var o=n._dashboardFrameMap[e.name][t.getId()];if(o){var a=r.active?i?!1:!o.hidden:!1;if(a){var s=t.el.get(0).getBoundingClientRect();o.boundingBox={left:s.left,right:"auto",top:s.top,bottom:"auto",width:s.width,height:s.height,"margin-left":0,"margin-top":0}}o.visible=a}})},e.prototype.hideFrames=function(e,t,i){var n,r=this;t.forEach(function(t){n=r._dashboardFrameMap[e.name][t.getId()],n&&(n.hidden=i)}),this.updateFrames(e,t)},e.prototype.findWidget=function(e,t){return e.categories.find(function(e){return e.widgets&&0!==e.widgets.length?-1!==e.widgets.indexOf(t):!1})},e.prototype.dashboardDragStart=function(t,i){this.channel.publish(e.DASHBOARD_DRAG_START,{dashboard:t,widget:i})},e.prototype.dashboardDragEnd=function(t){this.channel.publish(e.DASHBOARD_DRAG_END,{dashboard:t})},e.prototype.insertOrUpdate=function(t){this.addDashboardToStore(t)||(this.replaceDashboard(t.name,t),this.channel.publish(e.DASHBOARD_EDITED,{dashboard:t}))},e.prototype.getDashboardControls=function(e){var t=this;return this._httpService.get("rest/dashboards/"+e+"/controls").then(function(i){return t._dashboardControlsMap[e]=i.data})},e.prototype.publishContextualMenuOpen=function(t){var i={dashboard:null,categoryId:t};this.channel.publish(e.TOPIC_DASHBOARD_CONTEXT_MENU_OPEN,i)},e.prototype.publishWidgetContextMenuClose=function(){this.channel.publish(e.TOPIC_DASHBOARD_CLOSE_WIDGET_CONTEXT_MENU)},e.prototype.getDashboardContextItems=function(){return this._httpService.get(""+e.ENDPOINT_CONTEXT_ITEMS,{params:{lang:this._language.lang}}).then(function(e){return e.data})},e.prototype.findDashboardInCache=function(e){return _.isString(e)?this._store.getAll().find(function(t){return t.name===e}):e},e.prototype.getTabServiceObject=function(e,t){var i=this._qService.defer();return this._userSettingsService.autoStartDashboard(e.name).then(function(o){i.resolve({id:e.name,title:e.description,iconCls:null===e.iconCls?r.Icons.DASHBOARD_DEFAULT:e.iconCls,refreshable:!1,closeable:!o,content:{type:n.TabContentType.TEMPLATE,dashboardName:e.name,dashboardSharedBy:e.sharedBy,dashboardParentName:e.parentName,dashboardContext:t,template:'<app-dashboard dashboard-name="'+e.name+'" dashboard-params="$parent.$parent.vm.content.content.dashboardContext"></app-dashboard>',containsDashboard:!0}})})["catch"](function(){return i.reject()}),i.promise},e.prototype.openDashboardInStrongAuthContext=function(e,t){var i=this;this._workplaceContextService.getProperty("workplace.origin").then(function(n){if(n){var r="workplace.strong.authentification."+n.value+".url";i._workplaceContextService.getProperty(r).then(function(n){if(n){var r=_.uniqueId(""+(new Date).getTime()),a=o.UrlHelper.getOriginFromUrl(n.value)+"/iwp/#/dashboard/"+e.name;t&&(a+="/"+o.UrlHelper.toQueryString(t)),window.open(o.UrlHelper.appendQueryString(a,{c:r,lang:i._language.lang}),"workplace_strong_auth_"+r)}})}})},e.prototype.replaceDashboard=function(e,t){var i=this;return this._store.get(e)?this.renewDashboardControls(e,t.name).then(function(){return i._store.eject(e),i._store.inject(t),i.getTabServiceObject(t)}).then(function(t){try{i._tabService.replaceTab(e,t)}catch(n){console.warn(n)}}):void console.log("The dashboard with id: "+e+" doesn't exist")},e.prototype.renewDashboardControls=function(e,t){var i=this,n=Object.keys(this.hasControlAndOption);return n&&n.forEach(function(n){(-1!==n.indexOf(e)||-1!==n.indexOf(t))&&delete i.hasControlAndOption[n]}),delete this._dashboardControlsMap[e],delete this._dashboardControlsMap[t],this.getDashboardControls(t)},e}();s.CHANNEL="DashboardServiceChannel",s.TOPIC_DASHBOARD_RESET="DashboardServiceTopicRefresh",s.TOPIC_WIDGET_ADDED="DashboardServiceWidgetAdded",s.CATEGORY_CREATED="DashboardServiceCategoryCreated",s.DASHBOARD_CREATED="DashboardServiceDashboardCreated",s.DASHBOARD_EDITED="DashboardServiceDashboardEdited",s.DASHBOARD_DELETED="DashboardServiceDashboardDeleted",s.DASHBOARD_SHARE_INFO_UPDATED="DashboardServiceDashboardShareInfoUpdated",s.DASHBOARD_REPLACED="DashboardServiceDashboardReplaced",s.TOPIC_DASHBOARD_CONTEXT_UPDATE="DashboardServiceTopicContextUpdate",s.TOPIC_DASHBOARD_CONTEXT_MENU_OPEN="DashboardServiceTopicContextMenuOpen",s.TOPIC_DASHBOARD_CLOSE_WIDGET_CONTEXT_MENU="DashboardCloseWidgetContextMenu",s.CATEGORY_DELETED="DashboardServiceCategoryDeleted",s.DASHBOARD_DRAG_START="DashboardServiceDashboardDragStart",s.DASHBOARD_DRAG_END="DashboardServiceDashboardDragEnd",s.ENDPOINT_CATEGORIES="rest/dashboards/categories",s.ENDPOINT_CONTEXT_ITEMS="rest/dashboards/context",i.DashboardService=s},{"../../util/url.helper":321,"../app.icons":6,"../sharing/sharing.service":224,"../tab/tab.content.interface":227}],160:[function(e,t,i){"use strict";function n(e){var t=e.defineResource({name:"dashboard",idAttribute:"name",endpoint:"./rest/dashboards",watchChanges:!1,afterInject:function(e,t){[].concat(t).forEach(function(e){[].concat(e.categories).forEach(function(e){_.isArray(e.widgets)||(e.widgets=[])})})}});return t}n.$inject=["DS"],i.dashboardStoreFactory=n},{}],161:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("./dashboard.service"),a=e("../layout/layout.service"),s=e("../tab/tab.service"),c=e("../widget/widget.service"),l=e("../user/user.service"),d=e("../../util/device.service"),p=e("../actionLog/action-constants"),u=e("../components/dialogs/dialog-constants.model"),h=e("../widget/widget.data.interface"),g=e("../components/restrictedText/restrictedText.utils"),m=e("../../util/link-utils/os.client"),v=e("../../util/link-utils/link.open"),f=function(e){function t(i,n,r,o,a,s,c,l,d,p,u,h,g,m,v,f,b,y,S,w){var C=e.call(this)||this;return C.loading=!1,C.draggin=!1,C.dropzoneEnabled=!0,C.isShared=!1,C.isMobile=!1,C.ddGroup=t.DD_GROUP_DASHBOARD,C.isStartDashboard=!1,C.categoryDragging=!1,C.gridLayouts={},C._dashboardService=i,C._tabService=r,C._layoutService=n,C._widgetService=o,C._userService=a,C._deviceService=c,C._qService=s,C._$=p,C._animateService=l,C._popupService=d,C._popupService=d,C._actionLogService=u,C._notificationService=h,C._workplaceApiService=g,C._workplaceContextService=y,C._log=m,C._subscriptions=[],C._menuService=w,C.categories=[],C.settingService=f,C.appsService=S,C.isShared=C._dashboardService.isSharedDashboard(C.dashboardName),C.isMobile=C._deviceService.isMobile(),C.updateFrames=_.throttle(C._updateFrames,10),C.dropzoneMessageKey="layout.dropzone.cancel.drop",v.autoStartDashboard(C.dashboardName).then(function(e){return C.isStartDashboard=e}),C.dndManager=b(),C.setupDashboard(),C}return n(t,e),t.$inject=["dashboardService","layoutService","tabService","widgetService","userService","$q","deviceService","$animate","popupService","jQuery","actionLogService","notificationService","workplaceApiService","$log","userSettingService","settingService","gridLayoutDndManagerFactory","workplaceContextService","appsService","menuService"],Object.defineProperty(t.prototype,"gutter",{get:function(){return this.isMobile?8:14},enumerable:!0,configurable:!0}),t.prototype.handleCategoryTitleChange=function(e,t){this.dashboard.categories.forEach(function(i){e===i.id&&(i.title=t,i.titles=null)}),this._dashboardService.updateDashboard(this.dashboard.name,this.dashboard)},t.prototype.handleCategoryDelete=function(e){var t=this;this._popupService.showConfirm({messageKey:"dashboard.category.delete.confirmation.message",messageParams:{name:e.title},titleKey:"dashboard.category.delete.confirmation.title",okButtonKey:"dashboard.category.delete.confirmation.button.label"}).then(function(i){i===u.DialogConstants.OK&&t._dashboardService.removeDashboardCategory(t.dashboard.name,e).then(function(e){1===e.categories.length&&(t.firstCategoryExpanded=$("#widgetsContainer-"+t.categories[0].id).attr("aria-expanded"))})})},t.prototype.setDashboardContext=function(e){var t=this;this._workplaceContextService.getDashboardContext(this.dashboard,e).then(function(e){return t.dashboardContext=e})},t.prototype.findWidgetById=function(e,t){if(!this.items)return null;var i=t?this.items[t]:_.flatten(Object.values(this.items));return i.find(function(t){return t.definition.id===e})},t.prototype.handleDropItem=function(e,t,i,n){e&&this.insertWidgetBefore(e,t,i?"before":"after",n)},t.prototype.handleDragStart=function(e,t){this.dropzoneMessageKey=e.id?"layout.dropzone.remove.widget":"layout.dropzone.cancel.drop",this.sourceCategory=t,this._deviceService.device!==d.Devices.MOBILE&&(this.draggin=!0,this._dashboardService.dashboardDragStart(this.dashboard,e))},t.prototype.handleIt=function(){this.draggin=!0},t.prototype.handleDragEnd=function(){this.draggin=!1,this.dropzoneMessageKey="layout.dropzone.cancel.drop",this._dashboardService.dashboardDragEnd(this.dashboard)},t.prototype.handleGridLayoutRender=function(e,t){this.gridLayouts[t.id]=e},t.prototype.handleDropDelete=function(e){if(this.draggin=!1,e&&e.id){var t=this.findWidgetById(e.id);this.removeWidget(t,this.sourceCategory.id)}},t.prototype.handleWidgetControlClick=function(e,t,i,n){var r=this,o=this.getWidgetTitle(t).multiLineTitle.length>0?this.getWidgetTitle(t).multiLineTitle.join(""):this.getWidgetTitle(t).title;switch(e){case"refresh":this.refreshWidget(t.definition.id,i);var a=$(n.target);this._animateService.addClass(a,"app-animation-refresh").then(function(){return a.removeClass("app-animation-refresh")});break;case"editWidget":this._popupService.showModalWindow("appModalsEditFavorite",{id:t.definition.id,defaultIcon:t.widget.getDefaultIcon()}).then(function(e){return r._widgetService.updateWidget(e.id,e,r.dashboardName)});break;case"shareWidget":this._popupService.showModalWindow("shareDialog",{titleKey:"dialogs.favorite.share.title",okButtonKey:"dialogs.share.buttons.ok.label",cancelButtonKey:"dialogs.share.buttons.cancel.label",id:t.definition.id,title:o,shareType:"widget"}).then(function(e){e>0?r._notificationService.showInfo("dialogs.share.success",{name:o}):r._notificationService.showWarn("dialogs.share.unshare",{name:o}),r._widgetService.refreshWidget(t.definition.id,r.dashboardName)});break;case"deleteWidget":this.removeWidget(t,i);break;case"editWidgetSize":this._popupService.showModalWindow("widgetSizeDialog",{titleKey:"dialogs.favorite.edit.size.title",okButtonKey:"dialogs.favorite.edit.size.buttons.ok.label",cancelButtonKey:"dialogs.favorite.edit.size.buttons.cancel.label",definition:t.definition}).then(function(e){return r._widgetService.updateWidget(e.id,e,r.dashboardName)});break;case"renameWidget":this._popupService.showModalWindow("renameDialog",{title:o,titleKey:"dialogs.favorite.rename.title",validationMaxLength:50,validationMaxLengthMessageKey:"dialogs.favorite.error.name.maxlength",validationFieldRequiredMessageKey:"ddialogs.favorite.error.name.required"}).then(function(e){t.definition.customSettings.title=e,r._widgetService.updateWidget(t.definition.id,t.definition,r.dashboardName)});break;case"maximizeWidget":if("iframe"===t.definition.type){var s={id:"modal-"+t.definition.title,app:{name:t.definition.title,iconCls:t.definition.iconCls,description:t.definition.title,url:t.definition.settings&&t.definition.settings.url},visible:!0,boundingBox:{top:0,bottom:0,left:0,right:0}};this._popupService.createModalWindow("appDialog",{title:o,frame:s},!0)}else this._popupService.showModalWindow("maximizeWidgetDialog",{options:{titleKey:o},item:t,dashboardContext:this.dashboardContext,dashboard:this.dashboard});break;case"copy_link":if("tile"===t.definition.type){var c=m.getClientOs()===m.OS_TYPE.MAC?"open.favorite.copyUrl.success.mac":"open.favorite.copyUrl.success.win";v.copyLink(t.definition.settings.url),this._notificationService.showSuccess(c)}}},t.prototype.refreshWidget=function(e,t){var i=this.findWidgetById(e,t);i&&i.widget&&i.widget.refresh()},t.prototype.removeWidget=function(e,t){var i=this;this._popupService.showConfirm({messageKey:"widget.delete.confirmation.message",messageParams:{name:this.getWidgetTitle(e).multiLineTitle.length>0?this.getWidgetTitle(e).multiLineTitle.join(""):this.getWidgetTitle(e).title},titleKey:"widget.delete.confirmation.title",okButtonKey:"widget.delete.confirmation.button.label"}).then(function(n){n===u.DialogConstants.OK&&i._dashboardService.removeDashboardWidget(i.dashboardName,e.widget.definition,e.widget.title).then(function(n){return i.handleWidgetDeleted(e.widget.definition.id,n,t)})})},t.prototype.onRenderWidgetCallback=function(e,t,i){var n=this.findWidgetById(e,i);n&&(n.widget=t,n.definition&&"iframe"===n.definition.type&&this.updateFrames(!1))},t.prototype.onDestroyWidgetCallback=function(e,t,i){if(this.items[i]){var n=this.items[i].find(function(e){return e.widget===t});n&&(n.widget=null,delete n.widget,_.pull(this.items[i],n))}},t.prototype.hasControl=function(e,t){return t.widget&&t.widget.hasControl(e)},t.prototype.hasNoControls=function(e){return!e.widget||!e.widget.hasControls()},t.prototype.belongsToUser=function(e){return e.widget&&e.widget.belongsToUser()},t.prototype.hasQNumber=function(){var e=this._userService.user;return e&&e.hasQNumber()},t.prototype.hasOption=function(e,t,i){return i.widget&&i.widget.hasOption(e,t)},t.prototype.hasLongTitle=function(e,t){if(!_.isUndefined(this.hasLongTitle[t]))return!!this.hasLongTitle[t];var i=14,n=this.hasControl("refresh",e)||this.hasControl("legend",e)||this.hasControl("settings",e)||this.hasControl("shared",e)?2:0,r=t&&e.definition.colspan?t.length>(i-n)*e.definition.colspan:!1;return this.hasLongTitle[t]=r,r},t.prototype.controlHasOptions=function(e,t){return t.widget&&this.hasControl(e,t)?t.widget.hasOptions(e):!1},t.prototype.logControl=function(e,t){this._actionLogService.logAction({category:p.ActionConstants.CATEGORY_DASHBOARD,action:p.ActionConstants.ACTION_WIDGET_CONTROL,actionInfo:e})},t.prototype.populateDashboard=function(e){var t=this;if(this.loading=!0,this.dashboard=e,this.setDashboardContext(this.dashboardParams),this.dashboard.backgroundImageUrl&&(this.dashboardBgImage="url("+this.dashboard.backgroundImageUrl+") no-repeat center / cover"),this.categories=this.dashboard.categories.map(function(e){return _.clone(e)}).sort(function(e,t){return e.sortPos-t.sortPos}),this.settingService.getSetting("dashboardState").then(function(i){var n=i.value[e.name]||{};t.categories.forEach(function(e){"undefined"!=typeof n[e.id]&&t.categories.length>1?(e.expanded=n[e.id],e.initialized=n[e.id]):(e.expanded=!0,e.initialized=!0)})}),this.restricted)return void(this.loading=!1);var i=_.flatten(this.categories.map(function(e){return e.widgets}));return this._widgetService.getWidgetDefinitions(i,this.dashboardName).then(function(e){t.items={},t.categories.forEach(function(i){return t.populateCategory(i,e)}),t.loading=!1})},t.prototype.populateCategory=function(e,t){var i=this;this.items[e.id]=[];var n=[];e.widgets.forEach(function(e){var i=t.find(function(t){return t.id===e})||null;i&&n.push(i)}),n.forEach(function(t){return i.items[e.id].push({definition:Object.assign({},t)})})},t.prototype.handleCategoryToggle=function(e){e.expanded&&(e.initialized=!0,this.hideFrames(!1,e.id)),this.updateDashboardState(),this.updateFrames(!1)},t.prototype.handleBeforeCategoryHide=function(e){this.hideFrames(!0,e.id),this.updateFrames(!0)},t.prototype.handleBeforeCategoryShow=function(e){this.updateFrames(!0)},t.prototype.resize=function(){this.items&&_.flatten(Object.values(this.items)).forEach(function(e){e.widget&&e.widget.resize()})},t.prototype.refreshWidgets=function(){this.items&&_.flatten(Object.values(this.items)).forEach(function(e){e.widget&&e.widget.refresh()})},t.prototype.setupDashboard=function(){var e=this;this._userService.getUser().then(function(t){e._dashboardService.getDashboard(e.dashboardName).then(function(i){e.setRestricted(i,t.getSelectedRole()),e.strongAuthMismatch=1===i.strongAuth&&1!==t.strongAuth,e.populateDashboard(i),i.contextBased&&e._dashboardService.getDashboardContextItems().then(function(t){e.contextDropdownItems=t,e.currentDataContext=e.contextDropdownItems[0]})}).then(function(){return e._scope.$broadcast("dashboardRefresh")})})},t.prototype.onRenderComponent=function(e,t){var i=this;this._el=e,this._scope=t,this._subscriptions.push(this._layoutService.channelSidebar.subscribe(a.LayoutService.TOPIC_EVENT_HIDE_POPOVERS,this.closeAllContextualMenus.bind(this))),this._subscriptions.push(this._layoutService.channelEvent.subscribe(a.LayoutService.TOPIC_EVENT_BODY_CLICK,this.closeAllContextualMenus.bind(this))),this._subscriptions.push(this._dashboardService.channel.subscribe(o.DashboardService.TOPIC_DASHBOARD_CLOSE_WIDGET_CONTEXT_MENU,this.closeAllContextualMenus.bind(this))),this._subscriptions.push(this._layoutService.channelUpdate.subscribe(a.LayoutService.TOPIC_DRAG_START,this.closeAllContextualMenus.bind(this))),this._subscriptions.push(this._layoutService.channelUpdate.subscribe(a.LayoutService.TOPIC_EVENT_BODY_CLICK,this.closeAllContextualMenus.bind(this))),this._subscriptions.push(this._layoutService.channelUpdate.subscribe(a.LayoutService.TOPIC_UPDATE,this.updateFrames.bind(this,[!1]))),this._subscriptions.push(this._tabService.channel.subscribe(s.TabService.TOPIC_TAB_SELECT,function(){i.updateFrames(!1),i.setDropZoneState()})),this._subscriptions.push(this._tabService.channel.subscribe(s.TabService.TOPIC_TAB_REFRESH,function(e){e.tabId===i.dashboardName&&i.refreshWidgets()})),this._subscriptions.push(this._tabService.channel.subscribe(s.TabService.TOPIC_TAB_CLOSE,function(e){if(e.tabId===i.dashboardName){var t=i._tabService.getTabById(e.tabId);t.waitForClose=!0,i.beforeTabClose().then(function(){i._tabService.removeTab(i.dashboardName),t.waitForClose=!1})["catch"](function(e){return i._log.info("dashboard.ts -> beforeTabClose: beforeClose rejected because: "+e.message)})}})),this._subscriptions.push(this._userService.channel.subscribe(l.UserService.TOPIC_SELECTED_ROLE_CHANGED,function(){return i._dashboardService.refreshDashboard(i.dashboardName).then(i.setupDashboard.bind(i))})),this._subscriptions.push(this._dashboardService.channel.subscribe(o.DashboardService.TOPIC_WIDGET_ADDED,this.handleWidgetAdded.bind(this))),this._subscriptions.push(this._userService.channel.subscribe(l.UserService.TOPIC_ROLES_UPDATED,this.setDashboardContext.bind(this,this.dashboardParams))),this._subscriptions.push(this._dashboardService.channel.subscribe(o.DashboardService.CATEGORY_CREATED,this.handleCategoryCreated.bind(this))),this._subscriptions.push(this._dashboardService.channel.subscribe(o.DashboardService.TOPIC_DASHBOARD_CONTEXT_UPDATE,function(e){i.dashboardName===e.dashboard.name&&i.setDashboardContext(e.context)})),this._subscriptions.push(this._dashboardService.channel.subscribe(o.DashboardService.CATEGORY_DELETED,function(e){
i.dashboardName===e.dashboard.name&&(i.categories=i.categories.filter(function(t){return e.categoryId!==t.id}),1===i.categories.length&&i.categories.forEach(function(e){return e.expanded=!0}),i.updateDashboardState())})),this._subscriptions.push(this._dashboardService.channel.subscribe(o.DashboardService.DASHBOARD_DRAG_START,this.setDropZoneState.bind(this))),this._subscriptions.push(this._dashboardService.channel.subscribe(o.DashboardService.DASHBOARD_DRAG_END,this.setDropZoneState.bind(this))),this._subscriptions.push(this._widgetService.channel.subscribe(c.WidgetService.WIDGET_UPDATED,this.updateParentGridLayout.bind(this))),this._el.on("scroll",function(){return t.$apply(function(){return i.updateFrames(!1)})})},t.prototype.updateDashboardState=function(){var e=this;this.settingService.getSetting("dashboardState").then(function(t){t.value[e.dashboardName]||(t.value[e.dashboardName]={}),e.categories.forEach(function(i){return t.value[e.dashboardName][i.id]=i.expanded}),e.settingService.updateSetting(t)})},t.prototype.getWidgetTitle=function(e){var t=e.widget,i=e.definition,n=t&&t.multiLineTitle&&t.multiLineTitle.length,r=i.customSettings&&i.customSettings.title&&i.customSettings.title.length;return{multiLineTitle:n&&!r?t.multiLineTitle:[],title:t?t.title:i.settings&&i.settings.title?i.settings.title:i.title}},t.prototype.dbToHtmlLineBreak=function(e){return g.dbToHtmlLineBreak(e)},t.prototype.getWidgetIcon=function(e){return"dashboard-link"===e.definition.type?"":e.widget?e.widget.iconCls:e.definition.iconCls},t.prototype.insertWidgetBefore=function(e,t,i,n){var r=this;void 0===i&&(i="before");var o=_.flatten(this.dashboard.categories.map(function(e){return e.widgets})),a=o.find(function(t){return t===e.id});if(!a&&"locked"===e.type)return void this._notificationService.showError("error.cannot.add.locked.widget");if(!e.id)return void this._widgetService.createWidget(e,this.dashboardName).then(function(e){return r.insertWidgetBefore(e,t,i,n)});if(n=this.dashboard.categories.find(function(e){return e.id===n.id})||_.last(this.dashboard.categories),e!==t&&!_.isUndefined(n)){var s=this.dashboard.categories.find(function(t){return t.widgets.indexOf(e.id)>-1});if(s){var c=s.widgets.indexOf(e.id);s.widgets.splice(c,1),this.categories.find(function(e){return e.id===s.id}).widgets=s.widgets}var l=n.widgets.length;t&&(l=n.widgets.indexOf(t.id)),n.widgets.splice("before"===i?l:l+1,0,e.id),this.categories.find(function(e){return e.id===n.id}).widgets=n.widgets,s&&(this.items[s.id]=this.items[s.id].filter(function(t){return t.definition.id!==e.id}));var d=this.items[n.id].length;t&&(d=this.items[n.id].findIndex(function(e){return e.definition.id===t.id})),this.items[n.id].splice("before"===i?d:d+1,0,{definition:Object.assign({},e)}),this.items[n.id].sort(function(e,t){return n.widgets.indexOf(e.definition.id)-n.widgets.indexOf(t.definition.id)}),this._dashboardService.updateDashboard(this.dashboard.name,this.dashboard)}},t.prototype.closeAllContextualMenus=function(){if(this.items){var e=_.map(this.items,function(e){return e});_.each(_.flatten(e),function(e){e.definition.widgetContextMenuOpen=!1})}},t.prototype.toggleContextMenu=function(e,t){e.stopPropagation();var i=t.definition.widgetContextMenuOpen;this.closeAllContextualMenus(),this._dashboardService.publishContextualMenuOpen(null),this._layoutService.publishHidePopovers(),this._layoutService.collapseAll(),this._menuService.hideActiveSubMenu(),t.definition.widgetContextMenuOpen=!i},t.prototype.showCategoryTitles=function(){return this.categories&&this.categories.length>1},t.prototype.onCategorySort=function(e,t){var i=this.categories.findIndex(function(t){return t.id===e.id});if(i>-1){var n=this.categories.splice(i,1)[0];this.dashboard.categories.splice(i,1),this.categories.splice(t,0,n),this.dashboard.categories.splice(t,0,n),this.dashboard.categories.forEach(function(e,t){return e.sortPos=t}),this._dashboardService.updateDashboard(this.dashboardName,this.dashboard)}},t.prototype.onCategorySortStart=function(e){this.closeAllContextualMenus(),this._dashboardService.publishContextualMenuOpen(null),this._layoutService.publishDragStart(),this.categoryDragging=!0},t.prototype.onCategorySortEnd=function(e){this._layoutService.publishDragEnd(),this.categoryDragging=!1},t.prototype.destroy=function(){this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._dashboardService=null,this._notificationService=null,this._userService=null,this._animateService=null,this._qService=null,this._popupService=null,this._tabService=null,this._actionLogService=null,this._$=null,this.dashboard=null,this.items={},this._workplaceApiService=null,this._log=null,this.appsService=null},t.prototype.handleGridUpdateStart=function(){this.resize(),this.updateFrames(!0)},t.prototype.handleGridUpdateEnd=function(){this.updateFrames(!1)},t.prototype.handleGridItemDrop=function(){console.log("dashboard -> handleGridItemDrop",arguments)},t.prototype.handleKeyDown=function(e){},t.prototype.handleMismatchTextClick=function(){this._dashboardService.openDashboard(this.dashboard)},t.prototype.selectContext=function(e){this.currentDataContext=e,this.setDashboardContext({reportPeriod:e.value})},t.prototype._updateFrames=function(e,t){void 0===e&&(e=!1),this.dashboard&&this._dashboardService.updateFrames(this.dashboard,this.getIframeWidgets(t).map(function(e){return e.widget}).filter(function(e){return!!e}),e)},t.prototype.hideFrames=function(e,t){this.dashboard&&this._dashboardService.hideFrames(this.dashboard,this.getIframeWidgets(t).map(function(e){return e.widget}).filter(function(e){return!!e}),e)},t.prototype.handleWidgetAdded=function(e){var t=this._widgetService.getWidget(e.widgetId);if(t&&this.dashboard.name===e.dashboard.name){this.dashboard=e.dashboard;var i=_.last(this.categories);e.categoryId&&(i=this.dashboard.categories.find(function(t){return t.id===e.categoryId})),-1===i.widgets.indexOf(t.id)&&i.widgets.push(t.id),this.items[i.id]=this.items[i.id].concat({definition:Object.assign({},t)})}},t.prototype.handleCategoryCreated=function(e){var t=this;e.dashboard.name===this.dashboard.name&&(this.dashboard=e.dashboard,e.dashboard.categories.forEach(function(i){i.editing=!1,i.id===e.categoryId&&(i.sortPos=t.categories.length-1,i.editing=!0,i.isNew=!0,i.expanded=!0,i.initialized=!0,t.categories.push(i),t.items[i.id]=[])})),2===this.categories.length&&"false"===this.firstCategoryExpanded&&$("#widgetsContainer-"+this.categories[0].id).removeClass("in")},t.prototype.handleWidgetDeleted=function(e,t,i){this.dashboard=t;var n,r=this.categories.find(function(e){return e.id===i});t&&t.categories&&t.categories.length>0&&i&&(n=t.categories.find(function(e){return e.id===i})),r&&n&&(r.widgets=n.widgets),this.items[i]=this.items[i].filter(function(t){return t.definition.id!==e})},t.prototype.getIframeWidgets=function(e){var t=[];if(!this.items)return t;var i=e?this.items[e]:_.flatten(Object.values(this.items));return i?(i.forEach(function(e){e.definition.widgetContextMenuOpen=!1,"iframe"===e.definition.type&&t.push(e)}),t):t},t.prototype.beforeTabClose=function(){var e,t=this,i=this._qService.defer(),n=this.getIframeWidgets();return 0===n.length?(i.resolve(),i.promise):(e=[],n.forEach(function(i){t._workplaceApiService.hasConnection(i.widget.instanceId,t.dashboardName)&&e.push(t._workplaceApiService.wrapPromise(t._workplaceApiService,t._workplaceApiService.getConnection,i.widget.instanceId,t.dashboardName))}),this._log.info("dashboard.ts -> beforeTabClose: aquiring all workplace api connections. This should be followed by a beforeClose api call log."),this._qService.all(e).then(function(e){return t.callApi(e,"beforeClose")})["finally"](function(){return i.resolve()}),i.promise)},t.prototype.callApi=function(e,t){var i=this,n=[];return e.forEach(function(e){return n.push(i._workplaceApiService.wrapPromise(e,e.callApi,t)["catch"](function(e){return i._log.info("dashboard.ts -> beforeTabClose: error on invoking "+t+": "+e.message)}))}),this._log.info("dashboard.ts -> beforeTabClose: calling "+t+" on every available connection."),this._qService.all(n)},t.prototype.setDropZoneState=function(e){this.closeAllContextualMenus();var t=this._tabService.getTabById(this.dashboardName);if(!t||!t.active)return void(this.dropzoneEnabled=!1);if(e&&e.widget){var i=_.flatten(this.dashboard.categories.map(function(e){return e.widgets}));return void(this.dropzoneEnabled=i&&null!==i&&e.widget.type===h.WidgetDefinitions.LOCKED?-1!==i.indexOf(e.widget.id):!0)}this.dropzoneEnabled=!0},t.prototype.updateParentGridLayout=function(e){var t=this;e.dashboardId===this.dashboardName&&Object.keys(this.gridLayouts).forEach(function(i){t.findWidgetById(e.widget.id,i)&&t.gridLayouts[i].updateGrid(!0)})},t.prototype.setRestricted=function(e,t){this.restricted=!!e.roleAware&&_.isArray(e.businessRoles)&&t&&-1===e.businessRoles.indexOf(t.roleId)},t}(r.Component);f.DD_GROUP_DASHBOARD="ddGroupDashboard",i.Dashboard=f},{"../../util/device.service":299,"../../util/link-utils/link.open":311,"../../util/link-utils/os.client":313,"../actionLog/action-constants":1,"../components/component":28,"../components/dialogs/dialog-constants.model":53,"../components/restrictedText/restrictedText.utils":120,"../layout/layout.service":189,"../tab/tab.service":231,"../user/user.service":238,"../widget/widget.data.interface":286,"../widget/widget.service":288,"./dashboard.service":159}],162:[function(e,t,i){"use strict";var n=function(){function e(e,t,i,n){this.employees=[],this._employeeStore=e,this._qService=t,this._notificationService=n,this.findEmployees=i(this._findEmployees,500,!1,!0)}return e.$inject=["employeeStore","$q","debounce","notificationService"],e.prototype._findEmployees=function(e,t){var i=this;this._employeeStore.ejectAll({}),this._employeeStore.findAll({searchTerm:e},{bypassCache:!0,noCache:!0,errorNotification:{400:!1}}).then(function(e){i.employees=e,t(i.employees)})},e}();i.EmployeeService=n},{}],163:[function(e,t,i){"use strict";function n(e){var t=0,i=function(){return t++,""+t},n=e.defineResource({name:"employees",endpoint:"./rest/users/employees",watchChanges:!1,computed:{id:["name","surname",function(e,t){return i()}]}});return n}n.$inject=["DS"],i.employeeStoreFactory=n},{}],164:[function(e,t,i){"use strict";var n=e("./user.input.error"),r=function(){function e(e){this._translate=e}return e.$inject=["$translate"],e.handleError=function(e,t,i){i instanceof n.UserInputError?t.warning(i.message,i.notificationType):(e.error(i.message),e.debug("error name: "+i.name),e.debug("error stack: "+i.stack))},e.exceptionHandlerFactory=function(t,i){return e.handleError.bind(this,t,i)},e.exceptionHandlerFactory.$inject=["$log","toastr"],e.prototype.throwUserInputError=function(t,i){return this._translate([t.message,e.NOTIFICATION_TYPE_WARNING],i).then(function(i){throw new n.UserInputError(t,i[t.message],i[e.NOTIFICATION_TYPE_WARNING])})},e}();r.NOTIFICATION_TYPE_WARNING="notification.type.warning",i.ErrorService=r},{"./user.input.error":165}],165:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(i,n,r){var o=e.call(this,n)||this;return o.name=t.NAME,o.message=n,o.stack=i.stack,o.notificationType=r,o}return n(t,e),t.$inject=["error","message","notificationType"],t.prototype.toString=function(){return this.name+": "+this.message},t}(Error);r.NAME="UserInputError",i.UserInputError=r},{}],166:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(i,n){var r=e.call(this,i.message)||this;return r.name=t.NAME,r.message=i.message,r.stack=i.stack,r.code=n,r}return n(t,e),t.$inject=["error","code"],t.prototype.toString=function(){return this.name+": "+this.message},t}(Error);r.NAME="WorkplaceApiError",i.WorkplaceApiError=r},{}],167:[function(e,t,i){"use strict";var n=function(){function e(e,t){this._httpService=e,this._qService=t}return e.$inject=["$http","$q"],e.prototype.saveImage=function(t){var i=this._qService.defer(),n=new FormData;return n.append(e.FORM_DATA_FILE_PROPERTY,t),this._httpService.post(""+e.ENDPOINT,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return i.resolve(e.data)})["catch"](function(){return i.reject()}),i.promise},e.prototype.getImage=function(t){return e.ENDPOINT+"/"+t},e.prototype.deleteImage=function(t){return this._httpService["delete"](e.ENDPOINT+"/"+t,{}).then(function(){})},e}();n.ENDPOINT="./rest/widgets/images",n.FORM_DATA_FILE_PROPERTY="fileUpload",i.ImageService=n},{}],168:[function(e,t,i){"use strict";function n(){var e=/^(file):(\/\/|\\\\)(\w+:{0,1}\w*@)?(\S*?)[a-z,A-Z]+:(\\|\/)\S+$/;return{require:"ngModel",link:function(t,i,n,r){_.set(r.$validators,"isnolocaluriwindows",function(t,i){return r.$isEmpty(t)?!0:e.test(i)?!1:!0})}}}i.isNoLocalUriWindows=n},{}],169:[function(e,t,i){"use strict";function n(){var e=/^(ftp|http|https|file):(\/\/|\\\\)(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;return{require:"ngModel",link:function(t,i,n,r){_.set(r.$validators,"isuri",function(t,i){return r.$isEmpty(t)?!0:e.test(i)?!0:!1})}}}i.isuri=n},{}],170:[function(e,t,i){"use strict";var n=e("./frame-layout"),r=function(){function e(e,t,i,r){var o=this;this.parentEl=e,this.frameLayoutService=t,this.qService=r,this.layout=i,this.splitters=[{limits:[0,this.parentEl.width()],axis:"x",cls:n.FrameLayout.VERTICAL_SPLITTER_CLASS,draggable:!1,getSplitterStyle:function(e){var t={display:e?"none":"block"};return o.boundingBoxes&&4===o.boundingBoxes.length&&(t.left=0!==o.splitters[0].pos?o.splitters[0].pos:o.boundingBoxes[1].left-3),t},pos:0,posPercent:0,splitterEndDrag:function(e,t){o.splitters[0].draggable&&(o.isSplitterDragging=!1,o.handleDividerEndDrag(t))},splitterDragMove:function(e){if(o.splitters[0].draggable){var t=o.parentEl.offset();e.pageX<t.left||e.pageX<o.splitters[0].limits[0]||e.pageX>o.splitters[0].limits[1]||(o.splitters[0].pos=e.pageX-t.left,o.splitters[0].posPercent=(e.pageX-t.left)/o.parentEl.width())}},splitterDragDown:function(e,t){o.splitters[0].draggable&&(o.isSplitterDragging=!0,o.setXSplitterLimits(t))},splitterDragUp:function(){o.isSplitterDragging=!1}},{limits:[44,this.parentEl.height()],axis:"y",cls:n.FrameLayout.HORIZONTAL_SPLITTER_CLASS,draggable:!1,getSplitterStyle:function(e){var t={display:e?"none":"block"};return o.boundingBoxes&&4===o.boundingBoxes.length&&(t.top=0!==o.splitters[1].pos?o.splitters[1].pos:o.boundingBoxes[3].top-41),t},pos:0,posPercent:0,splitterEndDrag:function(e,t){o.splitters[1].draggable&&(o.isSplitterDragging=!1,o.handleDividerEndDrag(t))},splitterDragMove:function(e){if(o.splitters[1].draggable){var t=o.parentEl.offset();e.pageY<t.top||e.pageY<o.splitters[1].limits[0]||e.pageY>o.splitters[1].limits[1]||(o.splitters[1].pos=e.pageY-t.top,o.splitters[1].posPercent=o.splitters[1].pos/o.parentEl.height())}},splitterDragDown:function(e,t){o.splitters[1].draggable&&(o.isSplitterDragging=!0,o.setYSplitterLimits(t))},splitterDragUp:function(){o.isSplitterDragging=!1}}]}return e.$inject=["parentEl","frameLayoutService","layout","q"],Object.defineProperty(e.prototype,"boundingBoxes",{get:function(){return this.frameStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullScreenStyle",{get:function(){var e=this.parentEl.offset();return{top:44,bottom:0,left:e.left,right:0}},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.splitters.forEach(function(e){e.pos=0,e.posPercent=0})},e.prototype.resizeHandler=function(e,t){null===t&&(this.splitHandler(),this.handleDividerEndDrag(e))},e.prototype.splitHandler=function(){this.splitters[0].draggable&&(this.splitters[0].pos=this.splitters[0].posPercent*this.parentEl.width()),this.splitters[1].draggable&&(this.splitters[1].pos=this.splitters[1].posPercent*this.parentEl.height())},e.prototype.buildFrameStyles=function(){if(this.layout.frames&&4===this.layout.frames.length){var e=this.parentEl.width(),t=this.parentEl.height(),i=this.layout.frames[0],n=this.layout.frames[1],r=i.minWidth<=1?Math.round(i.minWidth*e):i.minWidth,o=n.minWidth<=1?Math.round(n.minWidth*e):n.minWidth,a=i.width<=1?Math.round(i.width*e):i.width,s=n.width<=1?Math.round(n.width*e):n.width,c=this.layout.frames[0],l=this.layout.frames[2],d=c.minHeight<=1?Math.round(c.minHeight*t):c.minHeight,p=l.minHeight<=1?Math.round(l.minHeight*t):l.minHeight,u=c.height<=1?Math.round(c.height*t):c.height,h=l.height<=1?Math.round(l.height*t):l.height;this.splitters[0].draggable=(a>=r||s>=o)&&!(r+o>=e),a=r>a?r:a,s=o>s?o:s,this.splitters[1].draggable=(u>=r||h>=o)&&!(r+o>=t),u=d>u?d:u,h=p>h?p:h,this.assembleOriginalStyles(0!==a?a:e-s,0!==u?u:t-h)}},e.prototype.resizeIFrames=function(e,t,i){var n,r=this,o=this.qService.defer(),a=this.parentEl.offset().left,s=this.parentEl.offset().top;if(_.isNumber(t.width)&&this.splitters[0].draggable){(1===i||3===i)&&(t.width=this.parentEl.width()-t.width),this.setXSplitterLimits(this.layout.frames);var c=t.width<=1?t.width*this.parentEl.width():t.width,l=c>=this.splitters[0].limits[0]-a?c<=this.splitters[0].limits[1]-a?c+a:this.splitters[0].limits[1]:this.splitters[0].limits[0];n=Object.assign({left:l-a})}if(_.isNumber(t.height)&&this.splitters[1].draggable){(2===i||3===i)&&(t.height=this.parentEl.height()-t.height),this.setYSplitterLimits(this.layout.frames);var d=t.height<=1?t.height*this.parentEl.height():t.height,p=d>=this.splitters[1].limits[0]-s?d<=this.splitters[1].limits[1]-s?d+s:this.splitters[1].limits[1]:this.splitters[1].limits[0];n=n?Object.assign({},n,{top:p-s}):Object.assign({top:p-s})}if(n){var u=[];jQuery(".splitter").each(function(e,t){if(n.left&&0===e){var i=r.qService.defer();u.push(i.promise),jQuery(t).animate({left:n.left},250,function(){r.splitters[0].pos=n.left-3,r.splitters[0].posPercent=(n.left-3)/r.parentEl.width(),i.resolve()})}if(n.top&&1===e){var o=r.qService.defer();u.push(o.promise),jQuery(t).animate({top:n.top},250,function(){r.splitters[1].pos=n.top-3,r.splitters[1].posPercent=(n.top-3)/r.parentEl.height(),o.resolve()})}}),Promise.all(u).then(function(){r.handleDividerEndDrag(e),o.resolve()})}else o.reject();return o.promise},e.prototype.handleDividerEndDrag=function(e){var t=this,i=this.parentEl.offset(),n=this.parentEl.width(),r=this.parentEl.height();return e.forEach(function(e,o){switch(o){case 0:e.boundingBox=Object.assign({},e.boundingBox,{left:i.left,width:t.splitters[0].pos,top:i.top,height:t.splitters[1].pos});break;case 1:e.boundingBox=Object.assign({},e.boundingBox,{left:i.left+t.splitters[0].pos+3,width:n-t.splitters[0].pos,top:i.top,height:t.splitters[1].pos});break;case 2:e.boundingBox=Object.assign({},e.boundingBox,{left:i.left,width:t.splitters[0].pos,top:i.top+t.splitters[1].pos-3,height:r-t.splitters[1].pos});break;case 3:e.boundingBox=Object.assign({},e.boundingBox,{left:i.left+t.splitters[0].pos+3,width:n-t.splitters[0].pos,top:i.top+t.splitters[1].pos-3,height:r-t.splitters[1].pos})}t.boundingBoxes&&t.boundingBoxes.length>=o&&(t.boundingBoxes[o]=Object.assign({},t.boundingBoxes[o],e.boundingBox));var a=t.layout.frames.find(function(t){return t.widget.id===e.id});a&&(a.width=+e.boundingBox.width/n,a.height=+e.boundingBox.height/r)}),this.frameLayoutService.cacheLayout(),this.layout},e.prototype.assembleOriginalStyles=function(e,t){var i=this.parentEl.offset(),n=this.parentEl.width(),r=this.parentEl.height();this.frameStyles=[{top:i.top,left:i.left,width:e,height:t},{top:i.top,left:i.left+e,width:n-e,height:t},{top:i.top+t,bottom:0,left:i.left,width:e,height:r-t},{top:i.top+t,bottom:0,left:i.left+e,width:n-e,height:r-t}],this.splitters[0].pos=e-3,this.splitters[0].posPercent=(e-3)/n,this.splitters[1].pos=t,this.splitters[1].posPercent=t/r},e.prototype.setXSplitterLimits=function(e){var t=this.parentEl.offset(),i=this.parentEl.width(),n=e[0].minWidth<=1?Math.round(e[0].minWidth*i):e[0].minWidth,r=e[1].minWidth<=1?Math.round(e[1].minWidth*i):e[1].minWidth;this.splitters[0].limits=[t.left+n,t.left+i-r]},e.prototype.setYSplitterLimits=function(e){var t=this.parentEl.offset(),i=this.parentEl.height(),n=e[0].minHeight<=1?Math.round(e[0].minHeight*i):e[0].minHeight,r=e[2].minHeight<=1?Math.round(e[2].minHeight*i):e[2].minHeight;this.splitters[1].limits=[t.top+n,i-r+t.top]},e}();i.CrossSplitAdapter=r},{"./frame-layout":178}],171:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.FrameLayoutMenuItem,{restrict:"E",scope:{layout:"="},templateUrl:"app/frameLayout/frame-layout-menu-item.html"})}var r=e("../components/component"),o=e("./frame-layout-menu-item");i.frameLayoutMenuItemDirective=n},{"../components/component":28,"./frame-layout-menu-item":172}],172:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("../../util/interact/draggable-menu-item"),a=e("../widget/widget.data.interface"),s=function(e){function t(t,i,n,r){var s=e.call(this)||this;s.frameLayoutService=t,s.layoutService=i,s._userService=r;var c=Object.assign({},s.layout,{type:a.WidgetDefinitions.FRAME_LAYOUT,title:s.layout.description});return s.draggableMenuItem=new o.DraggableMenuItem({customSettings:c,widgetDefinitionId:a.WidgetDefinitions.DASHBOARD_LINK},i,n,s.layoutService.collapseSidebar.bind(s.layoutService,"navigationbar")),s}return n(t,e),t.$inject=["frameLayoutService","layoutService","deviceService","userService"],t.prototype.userHasQNumber=function(){var e=this._userService.user;return e&&e.hasQNumber()},t.prototype.onRenderComponent=function(e){this.userHasQNumber()&&this.draggableMenuItem.initElement($(e))},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.draggableMenuItem.cleanupElement(),this.frameLayoutService=null,this.layoutService=null},t.prototype.handleClick=function(){this.frameLayoutService.openAppsLayoutTab(this.layout),this.layoutService.collapseSidebar("navigationbar")},t}(r.Component);i.FrameLayoutMenuItem=s},{"../../util/interact/draggable-menu-item":300,"../components/component":28,"../widget/widget.data.interface":286}],173:[function(e,t,i){"use strict";var n=e("./frame-layout"),r=function(){function e(e,t,i,r){var o=this;this.parentEl=e,this.frameLayoutService=t,this.qService=r,this.layout=i,this.splitters=[{limits:[0,this.parentEl.width()],axis:"x",cls:n.FrameLayout.VERTICAL_SPLITTER_CLASS,getSplitterStyle:this.getSplitterStyle.bind(this),pos:0,posPercent:0,draggable:!1,splitterEndDrag:function(e,t){o.splitters[0].draggable&&(o.isSplitterDragging=!1,o.handleDividerEndDrag(t))},splitterDragMove:function(e){if(o.splitters[0].draggable){var t=o.parentEl.offset();e.pageX<t.left||e.pageX<o.splitters[0].limits[0]||e.pageX>o.splitters[0].limits[1]||(o.splitters[0].pos=e.pageX-t.left,o.splitters[0].posPercent=(e.pageX-t.left)/o.parentEl.width())}},splitterDragDown:function(e,t){o.splitters[0].draggable&&(o.isSplitterDragging=!0,o.setSplitterLimits(t))},splitterDragUp:function(){o.isSplitterDragging=!1}}]}return e.$inject=["parentEl","frameLayoutService","layout","q"],Object.defineProperty(e.prototype,"boundingBoxes",{get:function(){return this.frameStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullScreenStyle",{get:function(){var e=this.parentEl.offset();return{top:44,bottom:0,left:e.left,right:0}},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.splitters[0].pos=0,this.splitters[0].posPercent=0},e.prototype.resizeHandler=function(e,t){this.splitters[0].draggable&&null===t&&(this.splitHandler(),this.handleDividerEndDrag(e))},e.prototype.splitHandler=function(){this.splitters[0].pos=this.splitters[0].posPercent*this.parentEl.width()},e.prototype.buildFrameStyles=function(){if(this.layout.frames&&2===this.layout.frames.length){var e=this.parentEl.width(),t=this.layout.frames[0],i=this.layout.frames[1],n=t.minWidth<=1?Math.round(t.minWidth*e):t.minWidth,r=i.minWidth<=1?Math.round(i.minWidth*e):i.minWidth,o=t.width<=1?Math.round(t.width*e):t.width,a=i.width<=1?Math.round(i.width*e):i.width;this.splitters[0].draggable=(o>=n||a>=r)&&!(n+r>=e),o=n>o?n:o,a=r>a?r:a,this.assembleOriginalStyles(0!==o?o:e-a)}},e.prototype.resizeIFrames=function(e,t,i){var n=this,r=this.qService.defer();if(!_.isNumber(t.width))return console.log("Given target dimensions are not valid. Please specify a width"),r.reject(),r.promise;if(!this.splitters[0].draggable)return console.log("The layout is not resizable."),r.reject(),r.promise;1===i&&(t.width=this.parentEl.width()-t.width),this.setSplitterLimits(this.layout.frames);var o=t.width<=1?t.width*this.parentEl.width():t.width,a=this.parentEl.offset().left,s=o>=this.splitters[0].limits[0]-a?o<=this.splitters[0].limits[1]-a?o+a:this.splitters[0].limits[1]:this.splitters[0].limits[0];return jQuery(".splitter").animate({left:s-3-a},250,function(){n.splitters[0].pos=s-3,n.splitters[0].posPercent=(s-3)/n.parentEl.width(),n.handleDividerEndDrag(e),r.resolve()}),r.promise},e.prototype.handleDividerEndDrag=function(e){var t=this,i=this.parentEl.offset(),n=this.parentEl.width();return e.forEach(function(e,r){e.boundingBox=0===r?Object.assign({},e.boundingBox,{left:i.left,width:t.splitters[0].pos}):Object.assign({},e.boundingBox,{left:i.left+t.splitters[0].pos+3,width:n-t.splitters[0].pos}),t.boundingBoxes&&t.boundingBoxes.length>=r&&(t.boundingBoxes[r]=Object.assign({},t.boundingBoxes[r],e.boundingBox));var o=t.layout.frames.find(function(t){return t.widget.id===e.id});o&&(o.width=+e.boundingBox.width/n)}),this.frameLayoutService.cacheLayout(),this.layout},e.prototype.getSplitterStyle=function(e){var t={display:e?"none":"block"};return this.boundingBoxes&&2===this.boundingBoxes.length&&(t.left=0!==this.splitters[0].pos?this.splitters[0].pos:this.boundingBoxes[1].left-3),t},e.prototype.assembleOriginalStyles=function(e){var t=this.parentEl.offset(),i=this.parentEl.width();this.frameStyles=[{top:t.top,bottom:0,left:t.left,width:e},{top:t.top,bottom:0,left:t.left+e,width:i-e}],this.splitters[0].pos=e-3,this.splitters[0].posPercent=(e-3)/i},e.prototype.setSplitterLimits=function(e){var t=this.parentEl.offset(),i=this.parentEl.width(),n=e[0].minWidth<=1?Math.round(e[0].minWidth*i):e[0].minWidth,r=e[1].minWidth<=1?Math.round(e[1].minWidth*i):e[1].minWidth;this.splitters[0].limits=[t.left+n,t.left+i-r]},e}();i.SimpleXAxisAdapter=r},{"./frame-layout":178}],174:[function(e,t,i){"use strict";var n=e("./frame-layout"),r=function(){function e(e,t,i,r){var o=this;this.parentEl=e,this.frameLayoutService=t,this.layout=i,this.qService=r,this.splitters=[{limits:[44,this.parentEl.height()],axis:"y",cls:n.FrameLayout.HORIZONTAL_SPLITTER_CLASS,getSplitterStyle:this.getSplitterStyle.bind(this),pos:0,posPercent:0,draggable:!1,splitterEndDrag:function(e,t){o.splitters[0].draggable&&(o.isSplitterDragging=!1,o.handleDividerEndDrag(t))},splitterDragMove:function(e){if(o.splitters[0].draggable){var t=o.parentEl.offset();e.pageY<t.top||e.pageY<o.splitters[0].limits[0]||e.pageY>o.splitters[0].limits[1]||(o.splitters[0].pos=e.pageY-t.top,o.splitters[0].posPercent=o.splitters[0].pos/o.parentEl.height())}},splitterDragDown:function(e,t){o.splitters[0].draggable&&(o.isSplitterDragging=!0,o.setSplitterLimits(t))},splitterDragUp:function(){o.isSplitterDragging=!1}}]}return e.$inject=["parentEl","frameLayoutService","layout","q"],Object.defineProperty(e.prototype,"boundingBoxes",{get:function(){return this.frameStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullScreenStyle",{get:function(){var e=this.parentEl.offset();return{top:e.top>44?e.top:44,bottom:0,left:e.left,right:0}},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.splitters[0]=Object.assign({},this.splitters[0],{pos:0,posPercent:0}),this.splitters[0].pos=0,this.splitters[0].posPercent=0},e.prototype.resizeHandler=function(e,t){this.splitters[0].draggable&&null===t&&(this.splitHandler(),this.handleDividerEndDrag(e))},e.prototype.splitHandler=function(){this.splitters[0].pos=this.splitters[0].posPercent*this.parentEl.height()},e.prototype.buildFrameStyles=function(){if(this.layout.frames&&2===this.layout.frames.length){var e=this.parentEl.height(),t=this.layout.frames[0],i=this.layout.frames[1],n=t.minHeight<=1?Math.round(t.minHeight*e):t.minHeight,r=i.minHeight<=1?Math.round(i.minHeight*e):i.minHeight,o=t.height<=1?Math.round(t.height*e):t.height,a=i.height<=1?Math.round(i.height*e):i.height;this.splitters[0].draggable=(o>=n||a>=r)&&!(n+r>=e),o=n>o?n:o,a=r>a?r:a,this.assembleOriginalStyles(0!==o?o:e-a)}},e.prototype.resizeIFrames=function(e,t,i){var n=this,r=this.qService.defer();if(!_.isNumber(t.height))return console.log("Given target dimensions are not valid. Please specify a height"),r.reject(),r.promise;if(!this.splitters[0].draggable)return console.log("The layout is not resizable."),r.reject(),r.promise;1===i&&(t.height=this.parentEl.height()-t.height),this.setSplitterLimits(this.layout.frames);var o=t.height<=1?t.height*this.parentEl.height():t.height,a=this.parentEl.offset().top,s=o>=this.splitters[0].limits[0]-a?o<=this.splitters[0].limits[1]-a?o+a:this.splitters[0].limits[1]:this.splitters[0].limits[0];return jQuery(".splitter").animate({top:s-3-a},250,function(){n.splitters[0].pos=s-3,n.splitters[0].posPercent=(s-3)/n.parentEl.height(),n.handleDividerEndDrag(e)}),r.promise},e.prototype.handleDividerEndDrag=function(e){var t=this,i=this.parentEl.offset(),n=this.parentEl.height();return e.forEach(function(e,r){e.boundingBox=0===r?Object.assign({},e.boundingBox,{top:i.top,height:t.splitters[0].pos}):Object.assign({},e.boundingBox,{top:i.top+t.splitters[0].pos-3,height:n-t.splitters[0].pos}),t.boundingBoxes&&t.boundingBoxes.length>=r&&(t.boundingBoxes[r]=Object.assign({},t.boundingBoxes[r],e.boundingBox));var o=t.layout.frames.find(function(t){return t.widget.id===e.id});o&&(o.height=+e.boundingBox.height/n)}),this.frameLayoutService.cacheLayout(),this.layout},e.prototype.getSplitterStyle=function(e){var t={display:e?"none":"block"};return this.boundingBoxes&&2===this.boundingBoxes.length&&(t.top=0!==this.splitters[0].pos?this.splitters[0].pos:this.boundingBoxes[1].top-41),t},e.prototype.assembleOriginalStyles=function(e){var t=this.parentEl.offset(),i=this.parentEl.height();this.frameStyles=[{left:t.left,right:0,top:t.top,height:e},{left:t.left,right:0,top:t.top+e,height:i-e}],this.splitters[0].pos=e,this.splitters[0].posPercent=e/i},e.prototype.setSplitterLimits=function(e){var t=this.parentEl.offset(),i=this.parentEl.height(),n=e[0].minHeight<=1?Math.round(e[0].minHeight*i):e[0].minHeight,r=e[1].minHeight<=1?Math.round(e[1].minHeight*i):e[1].minHeight;this.splitters[0].limits=[t.top+n,i-r+t.top]},e}();i.SimpleYAxisAdapter=r},{"./frame-layout":178}],175:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.FrameLayout,{restrict:"E",scope:{layout:"=",contextParams:"=",widgetContext:"="},templateUrl:"app/frameLayout/frame-layout.html"})}var r=e("../components/component"),o=e("./frame-layout");i.frameLayoutDirective=n},{"../components/component":28,"./frame-layout":178}],176:[function(e,t,i){"use strict";var n=e("../app.icons"),r=e("../tab/tab.content.interface"),o=e("../../util/url.helper"),a=function(){function e(t,i,n,r,o,a,s,c){this.store=t,this.tabService=i,this.userService=o,this.workplaceContextService=a,this.deviceService=s,this.logService=n,this.language=c,this.channel=r.channel(e.CHANNEL_FRAME_LAYOUT)}return e.$inject=["frameLayoutsStore","tabService","$log","postal","userService","workplaceContextService","deviceService","language"],e.prototype.getLayouts=function(e){return this.store.findAll({lang:this.language.lang,deviceType:this.deviceService.device,
demoMode:this.workplaceContextService.demoMode},Object.assign({},e))},e.prototype.getLayoutById=function(e){return this.store.get(e)},e.prototype.openAppsLayoutTab=function(t,i,o){var a=this;this.userService.getUser().then(function(s){return t.strongAuth&&!s.strongAuth?void a.openLayoutInStrongAuthContext(t,i,o):a.tabService.getTabById(t.id)?(a.tabService.selectTab(t.id),void((i||o)&&a.channel.publish(e.TOPIC_FRAME_LAYOUT_CONTEXT_UPDATE,{layout:t,context:i,widgetContext:o}))):void a.tabService.openTab({id:t.id,title:t.description,iconCls:null===t.iconCls?n.Icons.DASHBOARD_DEFAULT:t.iconCls,refreshable:t.refreshEnabled,neverSelected:!0,closeable:!0,content:{type:r.TabContentType.FRAME_LAYOUT_TEMPLATE,frameContext:i,widgetContext:o,frameLayout:t,template:'<frame-layout layout="$parent.$parent.vm.content.content.frameLayout" context-params="$parent.$parent.vm.content.content.frameContext" widget-context="$parent.$parent.vm.content.content.widgetContext"></frame-layout>'}})})},e.prototype.openLayoutById=function(e,t,i){var n=this;return this.getLayouts().then(function(){var r=n.store.get(e);return r?(n.openAppsLayoutTab(r,t,i),r):void n.logService.log("Opening frame layout with id of "+e+" through a deep link failed because the layout was not found.")})},e.prototype.openLayoutInStrongAuthContext=function(e,t,i){var n=this;this.workplaceContextService.getProperty("workplace.origin").then(function(r){if(r){var a="workplace.strong.authentification."+r.value+".url";n.workplaceContextService.getProperty(a).then(function(r){if(r){var a=_.uniqueId(""+(new Date).getTime()),s=o.UrlHelper.getOriginFromUrl(r.value)+"/iwp/#/layout/"+e.id;if(i){var c=i.path?encodeURIComponent(encodeURIComponent(i.path)):"",l=o.UrlHelper.toQueryString(i.params)||"-",d=i.hash?encodeURIComponent(encodeURIComponent(i.hash)):"";s+="/widget/"+i.widgetId+c+"/"+l+(d?"/"+d:"")}else t&&(s+="/"+o.UrlHelper.toQueryString(t));window.open(o.UrlHelper.appendQueryString(s,{c:a,lang:n.language.lang}),"workplace_strong_auth_"+a)}})}})},e.prototype.frameFullScreenToggle=function(t,i){var n=this.findLayoutByChildId(t);n&&this.channel.publish(e.SHOW_FULLSCREEN_FRAME,{layoutId:n.id,widgetId:t,toggle:i})},e.prototype.setLayoutIFrameSize=function(t,i){var n=this.findLayoutByChildId(t);n&&this.channel.publish(e.SET_IFRAME_SIZE,{layoutId:n.id,widgetId:t,options:i})},e.prototype.getSyncedLayout=function(e){var t=this.getLayoutById(e.id);return t&&null!==t?(e.strongAuth=t.strongAuth,e):e},e.prototype.cacheLayout=function(){this.channel.publish(e.CACHE_LAYOUTS)},e.prototype.findLayoutByChildId=function(e){return this.store.getAll().find(function(t){return-1!==t.frames.findIndex(function(t){return t.widget&&t.widget.id===e})})},e}();a.CHANNEL_FRAME_LAYOUT="CHANNEL_FRAME_LAYOUT",a.SHOW_FULLSCREEN_FRAME="SHOW_FULLSCREEN_FRAME",a.SET_IFRAME_SIZE="SET_IFRAME_SIZE",a.CACHE_LAYOUTS="CACHE_LAYOUTS",a.TOPIC_FRAME_LAYOUT_CONTEXT_UPDATE="TOPIC_FRAME_LAYOUT_CONTEXT_UPDATE",i.FrameLayoutService=a},{"../../util/url.helper":321,"../app.icons":6,"../tab/tab.content.interface":227}],177:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"appsLayouts",endpoint:"./rest/layouts",watchChanges:!1})}n.$inject=["DS"],i.frameLayoutStoreFactory=n},{}],178:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("./frame-layout.service"),a=e("../tab/tab.service"),s=e("../../util/url.helper"),c=e("../layout/layout.service"),l=e("../user/user.service"),d=e("./frame-layout-xaxis.adapter"),p=e("./frame-layout-yaxis.adapter"),u=e("./frame-layout-cross-split.adapter"),h=function(e){function t(t,i,n,r,o,a,s,c){var l=e.call(this)||this;return l.frameLayoutService=t,l.tabService=i,l.workplaceApiService=n,l.workplaceContextService=r,l.layoutService=o,l.timeoutService=s,l.userService=a,l.qService=c,l.frames=[],l.isSplitterDragging=!1,l.restricted=!1,l.fullScreenFrame=null,l.throttleResize=_.throttle(l._throttleResize.bind(l),5,{trailing:!0,leading:!1}),l}return n(t,e),t.$inject=["frameLayoutService","tabService","workplaceApiService","workplaceContextService","layoutService","userService","$timeout","$q"],t.prototype.onRenderComponent=function(e,t){var i=this;switch(this.parentEl=e,this.scope=t,this.subscriptions=[],this.subscriptions.push(this.tabService.channel.subscribe(a.TabService.TOPIC_TAB_CLOSE,function(e){i.layout.id===e.tabId&&i.tabService.removeTab(i.layout.id)})),this.subscriptions.push(this.tabService.channel.subscribe(a.TabService.TOPIC_TAB_SELECT,this.updateFramesVisibility.bind(this))),this.subscriptions.push(this.tabService.channel.subscribe(a.TabService.TOPIC_TAB_REFRESH,function(){i.fullScreenFrame=null,i.adapter.reset(),i.buildFrames()})),this.subscriptions.push(this.frameLayoutService.channel.subscribe(o.FrameLayoutService.SHOW_FULLSCREEN_FRAME,this.showFullScreenFrame.bind(this))),this.subscriptions.push(this.frameLayoutService.channel.subscribe(o.FrameLayoutService.SET_IFRAME_SIZE,this.setIFrameSize.bind(this))),this.subscriptions.push(this.userService.channel.subscribe(l.UserService.TOPIC_SELECTED_ROLE_CHANGED,function(){return i.fullScreenFrame=null})),this.subscriptions.push(this.frameLayoutService.channel.subscribe(o.FrameLayoutService.TOPIC_FRAME_LAYOUT_CONTEXT_UPDATE,function(e){e.layout.id===i.layout.id&&i.frames.forEach(function(t){var n=i.layout.frames.find(function(e){return e.widget.id===t.id});if(n&&n.widget&&(!e.widgetContext||!e.widgetContext.widgetId||n.widget.id===e.widgetContext.widgetId)){var r=n&&n.widget&&n.widget.customSettings?JSON.parse(n.widget.customSettings):null;if(r&&null!==r){(o=i.workplaceContextService).getAppContext.apply(o,n.widget.dataUrlContextParams).then(function(o){return t.app.url=i.createURLForIFrameWidget(n.widget.id,r,o,e.context,e.widgetContext)});var o}}})})),this.subscriptions.push(this.layoutService.channelUpdate.subscribe(c.LayoutService.TOPIC_UPDATE,this.timeoutService.bind(this.timeoutService,function(){return i.adapter.resizeHandler(i.frames,i.fullScreenFrame)}))),this.layout.type){case 0:this.adapter=new d.SimpleXAxisAdapter(e,this.frameLayoutService,this.layout,this.qService);break;case 1:this.adapter=new p.SimpleYAxisAdapter(e,this.frameLayoutService,this.layout,this.qService);break;case 2:this.adapter=new u.CrossSplitAdapter(e,this.frameLayoutService,this.layout,this.qService);break;default:this.adapter=new d.SimpleXAxisAdapter(e,this.frameLayoutService,this.layout,this.qService)}this.buildFrames(),window.addEventListener("resize",this.throttleResize.bind(this))},t.prototype.destroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.frameLayoutService=null,this.tabService=null,this.workplaceApiService=null,this.workplaceContextService=null,this.userService=null,this.timeoutService=null,this.qService=null},t.prototype.buildFrames=function(){var e=this;if(this.userService.getUser().then(function(t){return e.restricted=e.layout.strongAuth&&!t.strongAuth}),this.layout=this.frameLayoutService.getSyncedLayout(this.layout),this.layout&&this.layout.frames&&null!==this.layout.frames){var t=[],i=this.tabService.getTabById(this.layout.id),n=i?i.active:!1;this.layout.frames.sort(function(e,t){return e.sortPos-t.sortPos}),this.adapter.buildFrameStyles(),this.layout.frames.forEach(function(i,r){return t.push(e.createFrame(i,r,n))}),Promise.all(t).then(function(t){return e.frames=t})}},t.prototype.createFrame=function(e,t,i){var n=this;if(e.widget&&null!==e.widget){var r=e.widget.customSettings?JSON.parse(e.widget.customSettings):null;if(r&&null!==r){return(o=this.workplaceContextService).getAppContext.apply(o,e.widget.dataUrlContextParams).then(function(o){var a=n.createURLForIFrameWidget(e.widget.id,r,o,n.contextParams,n.widgetContext);return{id:e.widget.id,connectionGroupId:n.layout.id,app:{name:r.title,iconCls:null,description:null,url:a},visible:i,relativePosition:!0,boundingBox:n.adapter&&n.adapter.boundingBoxes&&n.adapter.boundingBoxes.length>=t?n.adapter.boundingBoxes[t]:{}}});var o}}},t.prototype.createURLForIFrameWidget=function(e,t,i,n,r){if(r&&e===r.widgetId){var o=t.url;return console.log("frame-layout -> createURLForIFrameWidget: ",r),r.path&&(o=(s.UrlHelper.getOriginFromUrl(o)||"/")+r.path),o=s.UrlHelper.appendQueryString(o,Object.assign({},i,n,r.params)),r.hash&&(o=s.UrlHelper.replaceHash(o,r.hash)),o}return s.UrlHelper.appendQueryString(t.url,Object.assign({},i,n))},t.prototype.showFullScreenFrame=function(e){var t=this;if(this.layout.id===e.layoutId){if(e.toggle)this.frames.forEach(function(i){return i.id===e.widgetId?(i.boundingBox=t.adapter.fullScreenStyle,void(t.fullScreenFrame=i)):void(i.visible=!1)});else{var i;this.fullScreenFrame=null,this.frames.forEach(function(e,n){i=t.layout.frames.find(function(t){return t.widget.id===e.id}),i&&(e.boundingBox=t.adapter&&t.adapter.boundingBoxes&&t.adapter.boundingBoxes.length>=n?t.adapter.boundingBoxes[n]:{}),e.visible=!0})}this.scope.$apply()}},t.prototype.setIFrameSize=function(e){var t=this;if(this.layout.id===e.layoutId){if(!e.options)return void console.log("Invalid message.options");this.fullScreenFrame=null;var i=this.layout.frames.findIndex(function(t){return t.widget.id===e.widgetId});if(-1===i)return void console.log("There is no iFrame with id "+e.widgetId+" on this layout");this.frames.forEach(function(e){return e.visible=!1}),this.scope.$apply(),this.adapter.resizeIFrames(this.frames,e.options,i).then(function(){return t.frames.forEach(function(e){return e.visible=!0})})}},t.prototype.updateFramesVisibility=function(e){var t=this.tabService.findTabManagerForTabId(this.layout.id);if(!t||t.id===e.tabviewId)return e.tabId!==this.layout.id?void this.frames.forEach(function(e){return e.visible=!1}):null!==this.fullScreenFrame?void(this.fullScreenFrame.visible=!0):void this.frames.forEach(function(e){return e.visible=!0})},t.prototype._throttleResize=function(){this.adapter.resizeHandler(this.frames,this.fullScreenFrame)},t}(r.Component);h.VERTICAL_SPLITTER_CLASS="verticalSplitter",h.HORIZONTAL_SPLITTER_CLASS="horizontalSplitter",i.FrameLayout=h},{"../../util/url.helper":321,"../components/component":28,"../layout/layout.service":189,"../tab/tab.service":231,"../user/user.service":238,"./frame-layout-cross-split.adapter":170,"./frame-layout-xaxis.adapter":173,"./frame-layout-yaxis.adapter":174,"./frame-layout.service":176}],179:[function(e,t,i){"use strict";var n=function(){function e(e,t,i,n){this._groups=[],this._qService=t,this._notificationService=n,this._groupStore=e,this.findGroups=i(this._findGroups,500,!1,!0)}return e.$inject=["groupStore","$q","debounce","notificationService"],Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),e.prototype._findGroups=function(e,t,i){var n=this;this._groupStore.ejectAll({}),this._groupStore.findAll({filterTerm:e,maxSize:t},{bypassCache:!0,noCache:!0,errorNotification:{400:!1}}).then(function(e){n._groups=e,i(n._groups)})["catch"](function(e){400===e.status&&n._notificationService.showInfo("error.http.status.400")})},e}();i.GroupService=n},{}],180:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"groups",endpoint:"./rest/groups",watchChanges:!1})}n.$inject=["DS"],i.groupStoreFactory=n},{}],181:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.GuidedTourList,{restrict:"E",scope:{},templateUrl:"app/guidedTour/guidedTour-list.html"})}var r=e("../components/component"),o=e("./guidedTour-list");i.guidedTourListDirective=n},{"../components/component":28,"./guidedTour-list":182}],182:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../actionLog/action-constants"),o=e("../components/component"),a=function(e){function t(t,i,n){var r=e.call(this)||this;return r.tours=[],r.guidedTourService=t,r.actionLogService=i,r.menuService=n,r.guidedTourService.getTours().then(function(e){r.tours=e}),r}return n(t,e),t.$inject=["guidedTourService","actionLogService","menuService"],t.prototype.handleTourClick=function(e){this.guidedTourService.startTour(e),this.actionLogService.logAction({category:r.ActionConstants.CATEGORY_HELP,action:r.ActionConstants.ACTION_GUIDED_TOUR,actionInfo:e}),this.menuService.hideActiveSubMenu()},t}(o.Component);i.GuidedTourList=a},{"../actionLog/action-constants":1,"../components/component":28}],183:[function(e,t,i){"use strict";function n(e,t,i,n,r){return{onStartup:function(){t.getUser().then(function(t){t&&null!==t&&t.hasQNumber()&&n(function(){i.getSetting("guidedTourOnStartup").then(function(t){t.value===!0&&"error"!==r.current.name&&e.showConfirm({},"appComponentsGuidedTourDialog")})},5e3)})}}}n.$inject=["popupService","userService","settingService","$timeout","$state"],i.guidedTourStartup=n},{}],184:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.WELCOME="welcome",i.GuidedTours=n},{}],185:[function(e,t,i){"use strict";var n=function(){function e(t,i,n,r,o,a){var s=this;this._translateService=t,this._q=i,this.channel=n.channel(e.STEP_BEFORE_SHOW),this._timeoutService=r,this._http=o,this._notificationService=a,this.getTours().then(function(e){s.tours=e,e.length&&(s._tour=s.getTour("welcome"),s._shepherdTour=new Shepherd.Tour({defaults:s._tour.defaults}))})}return e.$inject=["$translate","$q","postal","$timeout","$http","notificationService"],e.prototype.getTour=function(e){var t=_.find(this.tours,function(t){return t.id===e});return t},e.prototype.getTours=function(){return this._http.get("./assets/guidedTourDefinition/guidedTour.definitions.json").then(function(e){return e.data})},e.prototype.buildTour=function(t){var i=this,n=this.getTour(t),r=[];n.steps.forEach(function(e,t){r.push(e.options.title,e.options.text,e.options.imageUrl)}),this._translateService(["guidedtour.config.step.button.next","guidedtour.config.step.button.previous","guidedtour.config.step.button.end"]).then(function(t){i._translateService(r).then(function(r){n.steps.forEach(function(e,o){var a=o===n.steps.length-1;i.addStep(e,i.buildStepButtons(e.id,a,t),r,n)}),i._shepherdTour.on("complete",i.destroy.bind(i)),i._shepherdTour.on("cancel",i.destroy.bind(i)),i._timeoutService(function(){i._tour.active=!0,i.channel.publish(e.TOUR_BEFORE_START,{tour:i._tour,step:i._shepherdTour.getCurrentStep()}),i._tour.beforeStartPromise?i._tour.beforeStartPromise.then(function(){i._tour.beforeStartPromise=null,i._shepherdTour.start()}):i._shepherdTour.start()})})})},e.prototype.buildStepButtons=function(e,t,i){void 0===t&&(t=!1);var n=[],r={text:"guidedtour.config.step.button.next",action:this._shepherdTour.next,classes:"btn btn-primary"},o={text:"guidedtour.config.step.button.previous",action:this._shepherdTour.back,classes:"btn btn-default"};return r.text=t?i["guidedtour.config.step.button.end"]:i["guidedtour.config.step.button.next"],o.text=i["guidedtour.config.step.button.previous"],"1"===e?n.push(r):n.push(r,o),n},e.prototype.addStep=function(t,i,n,r){var o=this;this._shepherdTour.addStep(t.id,{title:n[t.options.title],text:n[t.options.text]+(t.options.imageUrl?"<p align='center'><img src="+n[t.options.imageUrl]+"></p>":""),attachTo:{element:t.options.attachTo,on:t.options.position},tetherOptions:t.options.tetherOptions,classes:t.options.classes?t.options.classes:r.defaults.classes,when:{"before-show":function(){o._timeoutService(function(){var i=o._shepherdTour.steps.indexOf(o._shepherdTour.getCurrentStep());o.channel.publish(e.STEP_BEFORE_SHOW,{tour:r,menuId:t.options.before,step:o._shepherdTour.getCurrentStep(),next:o._shepherdTour.steps[i+1],prev:o._shepherdTour.steps[i-1]})})},"before-hide":function(){var i=o._shepherdTour.steps.indexOf(o._shepherdTour.getCurrentStep());o.channel.publish(e.STEP_BEFORE_HIDE,{tour:r,menuId:t.options.before,step:o._shepherdTour.getCurrentStep(),next:o._shepherdTour.steps[i+1],prev:o._shepherdTour.steps[i-1]})}},buttons:i}),this.channel.publish(e.STEP_ADDED,{tour:r,menuId:t.options.before,step:this._shepherdTour.getById(t.id)})},e.prototype.updateCurrentStepPosition=function(){var e=this;this._timeoutService(function(){e._shepherdTour.getCurrentStep().tether.position()},100)},e.prototype.startTour=function(t){var i=this;this.destroy(),this._tour.active?this._notificationService.showInfo("guidedtour.is.active.message",null,"guidedtour.is.active.title"):this._shepherdTour.steps.length>0?(this._tour.active=!0,this.channel.publish(e.TOUR_BEFORE_START,{tour:this._tour,step:this._shepherdTour.getCurrentStep()}),this._tour.beforeStartPromise?this._tour.beforeStartPromise.then(function(){i._tour.beforeStartPromise=null,i._shepherdTour.start()}):this._shepherdTour.start()):this.buildTour(t)},e.prototype.destroy=function(){this._tour&&(this._tour.active=!1),this._shepherdTour.steps.forEach(function(e){e.destroy()}),this._shepherdTour.steps=[]},e}();n.TOUR_BEFORE_START="GuidedTourServiceTourBeforeStart",n.STEP_BEFORE_HIDE="GuidedTourServiceStepBeforeHide",n.STEP_BEFORE_SHOW="GuidedTourServiceStepBeforeShow",n.STEP_ADDED="GuidedTourServiceStepAdded",i.GuidedTourService=n},{}],186:[function(e,t,i){"use strict";var n=e("../dashboard/dashboard.service"),r=e("../tab/tab.service"),o=e("./layout.service"),a=e("../user/user.service"),s=e("../setting/setting.model.interface"),c=e("../menu/menu.service"),l=e("../actionLog/action-constants"),d=e("../guidedTour/guidedTour.service"),p=e("../app.icons"),u=function(){function e(e,t,i,l,u,h,g,m,v,f,b,y,S,_,w,C,D,T,E,A,I){var k=this;this.workplaceNotAvailableKey="",I("#appLoader").remove(),this._layoutService=e,this._appsService=i,this._dashboardService=l,this._deviceService=u,this._settingService=h,this._tabService=t,this._timeoutService=g,this._stateService=v,this._workplaceApiService=b,this._actionLogService=y,this._popupService=_,this._workplaceContextService=w,this._notificationService=C,this._httpService=D,this._locationService=T,this._frameLayoutService=E,this.env="",this.apps=[],this.dashboards=[],this.appsLayouts=[],this.loadingNavbar=!0,this.appList=[],this.appListGlossary={};for(var O=10;36>O;O++)this.appListGlossary[O.toString(36)]=!1;this._workplaceContextService.getProperty("env").then(function(e){k.env="dev"}),this._workplaceContextService.getProperty("workplace.origin").then(function(e){"intranet"===e.value&&k.getAppsList(A.lang,e.value).then(function(e){var t;e.forEach(function(e){(!k.isMobile()||e.mobile)&&(t=e.desc.substr(0,1).toLowerCase(),k.appListGlossary[t]=!0,k.appList[t]||(k.appList[t]=[]),k.appList[t].push(e))})})}),m.getUser().then(function(e){k.dashboardsHeaderIcons=[],e&&null!==e&&e.hasQNumber()&&(k.dashboardsHeaderIcons=[{iconCls:p.Icons.DASHBOARD_ADD,clickHandler:k.showAddDashboardModal.bind(k)}])}),i.getApps().then(i.filterHiddenApps.bind(i)).then(function(e){k.apps=e,k.loadingNavbar=!1})["catch"](function(){return k._stateService.go("error")}),l.getDashboards().then(function(e){return k.dashboards=e.map(function(e){return e})}),E.getLayouts().then(function(e){return k.appsLayouts=e}),this._settingService.getSetting("minimizeSidebar").then(function(e){return k._minimizeSidebarSetting=e}),this._settingService.getSetting("navigationbarExpanded").then(function(e){return k.navigationbarExpandedSetting=e}),this.navigationbarSidebarSetting={id:"navigationbarSidebar",type:s.SettingType.BOOLEAN,value:!1},this._tabService.channel.subscribe(r.TabService.TOPIC_TABVIEW_SPLIT,function(e){return k._layoutService.updateLayoutViewSplit(e.tabviewId,e.split.newTabViewId,e.split.direction,e.split.index)}),this._tabService.channel.subscribe(r.TabService.TOPIC_TABVIEW_UNREGISTER,function(e){return k._layoutService.updateLayoutViewRemove(e.tabviewId)}),this._layoutService.channelResize.subscribe(o.LayoutService.TOPIC_RESPONSIVE_LAYOUT,function(e){var t=k._tabService.getTabManagerDefault();e.responsiveInfo.sm&&t&&k._tabService.moveAllTabsTo(t.id)}),this._layoutService.channelSidebar.subscribe(o.LayoutService.TOPIC_SIDEBAR,function(e){"navigationbar"===e.sidebarId&&(k.navigationbarExpandedSetting.value=e.config.expanded,k._settingService.updateSetting(k.navigationbarExpandedSetting),f.hideActiveSubMenu())}),f.channelSubMenu.subscribe(c.MenuService.TOPIC_SUBMENU_SHOW,function(e){"navigationbar"!==e.menuId&&k._layoutService.collapseSidebar("navigationbar")}),l.channel.subscribe(n.DashboardService.TOPIC_DASHBOARD_RESET,function(){return k._dashboardService.getDashboards().then(function(e){return k.dashboards=e})}),l.channel.subscribe(n.DashboardService.DASHBOARD_REPLACED,function(){return k._dashboardService.getDashboards().then(function(e){return k.dashboards=e})}),l.channel.subscribe(n.DashboardService.DASHBOARD_EDITED,function(e){k.dashboards=k.dashboards.map(function(t){return t.name===e.dashboard.name?e.dashboard:t});var t=k._tabService.findOpenTabsForDashboard(e.dashboard.name)||[];t.forEach(function(t){return t.title=e.dashboard.description})}),l.channel.subscribe(n.DashboardService.DASHBOARD_DELETED,function(e){k._tabService.closeTab(e.dashboard.name),k._tabService.removeTab(e.dashboard.name),k.dashboards=k.dashboards.filter(function(t){return t.name!==e.dashboard.name})}),l.channel.subscribe(n.DashboardService.DASHBOARD_SHARE_INFO_UPDATED,function(){return k._dashboardService.getDashboards().then(function(e){k.dashboards=e})}),m.channel.subscribe(a.UserService.TOPIC_ROLES_UPDATED,function(){return k.closeSidebarReloadApps()}),S.channel.subscribe(d.GuidedTourService.STEP_BEFORE_HIDE,function(e){}),S.channel.subscribe(d.GuidedTourService.STEP_BEFORE_SHOW,function(e){if("navigationbar"===e.menuId&&k._layoutService.expandSidebar("navigationbar"),"favorite"===e.menuId){var t=$(".context-home.tab-view-settings-icon");t.toggleClass("open"),S.updateCurrentStepPosition()}}),S.channel.subscribe(d.GuidedTourService.TOUR_BEFORE_START,function(e){["welcome","dashboards","favorite"].includes(e.tour.id)&&(e.tour.beforeStartPromise=k._dashboardService.getStartDashboardName().then(function(e){return k._dashboardService.openDashboardByName(e)}).then(function(){return g()}))}),this._dashboardService.channel.subscribe(n.DashboardService.DASHBOARD_CREATED,function(e){f.hideActiveSubMenu(),k.dashboards=k.dashboards.concat([e.dashboard])}),this.workplaceNotAvailableKey=this._deviceService.isIOS?"error.workplace.notAvailable.ios":"error.workplace.notAvailable.default"}return e.$inject=["layoutService","tabService","appsService","dashboardService","deviceService","settingService","$timeout","userService","$state","menuService","workplaceApiService","actionLogService","guidedTourService","popupService","workplaceContextService","notificationService","$http","$location","frameLayoutService","language","jQuery"],Object.defineProperty(e.prototype,"appListLength",{get:function(){return Object.keys(this.appList).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutClasses",{get:function(){var e=Object.keys(this._layoutService.sidebars).map(function(e){var t=this._layoutService.getSidebarConfig(e);return t&&t.expanded?e+"-expanded":void 0}.bind(this));return this._minimizeSidebarSetting&&this._minimizeSidebarSetting.value||e.push("setting-close-sidebar"),this._layoutService.isLayoutDividerDragging&&e.push("divider-dragging"),this.navigationbarSidebarSetting.value||e.push("setting-navigationbar-overlay"),this.loadingNavbar&&e.push("loading-navbar"),e.push(this.env+"-environment"),e.join(" ").trim()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layoutService.layout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return 0===this.dashboards.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frames",{get:function(){return this._appsService.getFrames()},enumerable:!0,configurable:!0}),e.prototype.getFramesByTabManager=function(e){return this._dashboardService.getFrames(e.name)},e.prototype.closeSidebarReloadApps=function(){var e=this;this._layoutService.mobileLayout&&this._layoutService.collapseSidebar("navigationbar"),this._appsService.reloadApps().then(function(t){e.apps=t})},e.prototype.getStyleForFrame=function(e){var t=this._tabService.findTabManagerForTabId(e.name);if(t){var i=this.layout.findChildById(t.id);if(i){var n=i.dimensions;return{top:100*n.top+"%",left:100*n.left+"%",width:100*n.width+"%",height:100*n.height+"%"}}return{}}},e.prototype.getStyleForFrameInner=function(e){var t=this._tabService.findTabManagerForTabId(e.name);if(t){var i=this.layout.findChildById(t.id);return i?{marginTop:"column"===i.parent.direction&&i.parent&&i.parent.children.indexOf(i)>0?"56px":"44px"}:{}}},e.prototype.appItemClickHandler=function(e){var t=this;(this._layoutService.mobileLayout||!this.navigationbarSidebarSetting.value)&&this._timeoutService(function(){t._layoutService.collapseSidebar("navigationbar")}),this._actionLogService.logAction({category:l.ActionConstants.CATEGORY_APPS,action:l.ActionConstants.ACTION_APPS_LAUNCH_NAVIGATON_MENU,actionInfo:e.name}),this._appsService.openApp(e)},e.prototype.dashboardItemClickHandler=function(e){var t=this;(this._layoutService.mobileLayout||!this.navigationbarSidebarSetting.value)&&this._timeoutService(function(){t._layoutService.collapseSidebar("navigationbar")}),this._dashboardService.openDashboard(e)},e.prototype.onSplit=function(e,t){var i=this._tabService.getTabManagerDefault();this._tabService.moveAllTabsTo(i.id),this._tabService.splitTabview({tabviewId:i.id,tabId:e.tab.id,direction:t.direction,index:t.index})},e.prototype.canSplit=function(e,t){var i=this._tabService.getTabManagerDefault();if(!i)return!1;var n,r=this._layoutService.layout.findChildById(i.id);if(r){var o=r.parent;n=o?o.direction:null}return!this._layoutService.mobileLayout&&this._tabService.getTabCount()>1&&n!==e},e.prototype.responsiveSpyCallback=function(e){this._layoutService.responsiveInfo=e},e.prototype.reloadWorkplace=function(){this._workplaceApiService.reloadWorkplace()},e.prototype.showAddDashboardModal=function(){var e=this;this._layoutService.collapseSidebar("navigationbar").then(function(){return e._popupService.showModalWindow("addDashboardDialog")}).then(function(t){return e._dashboardService.createDashboard(t)}).then(function(t){e.dashboards.push(t),e._dashboardService.openDashboard(t)})},Object.defineProperty(e.prototype,"demoMode",{get:function(){return"true"===this._workplaceContextService.demoMode},enumerable:!0,configurable:!0}),e.prototype.startCordova=function(){this._popupService.showModalWindow("cordovaDialog")},e.prototype.getAppsList=function(e,t){return void 0===t&&(t="intranet"),this._httpService.get("./apps.downtime."+t+".json").then(function(t){return t.data[e]})},e.prototype.openAppFromErrorPage=function(e){window.open(e)},e.prototype.isMobile=function(){return this._deviceService.isMobile()},e.prototype.goToAppsSection=function(e){this._locationService.hash(e)},e}();i.LayoutController=u},{"../actionLog/action-constants":1,"../app.icons":6,"../dashboard/dashboard.service":159,"../guidedTour/guidedTour.service":185,"../menu/menu.service":194,"../setting/setting.model.interface":221,"../tab/tab.service":231,"../user/user.service":238,"./layout.service":189}],187:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../util/tree/node"),o=function(e){function t(t){return e.call(this,Object.assign({},{dimensions:{top:0,left:0,width:1,height:1},aspectRatio:[1,1]},t))||this}return n(t,e),t.$inject=["config"],t.prototype.split=function(e,i,n,r){if(!this.parent)throw new Error("Node -> split: Cannot call split on root node.");var o=new t({id:_.uniqueId("layout-"),index:n,direction:i,dimensions:_.clone(this.dimensions)}),a=new t({id:e,dimensions:_.clone(o.dimensions)});this.parent.replaceChild(this,o),o.addChild(this),o.addChild(a,n),this.splitDimensionsInDirection(i,+!n,r||this.parent.aspectRatio),a.splitDimensionsInDirection(i,n,r||this.parent.aspectRatio)},t.prototype.remove=function(){if(!this.parent)throw new Error("Node -> remove: Cannot call remove on root node.");var e=this.parent;if(e.removeChild(this),1===e.children.length){var t=e.children[0];e.parent&&e.parent.replaceChild(e,e.children[0]),t.walkDepthFirstPre(function(e){e.updateDimensions()})}else e.parent&&e.remove();this.destroy()},t.prototype.splitDimensionsInDirection=function(e,t,i){"row"===e?this.splitDimensionsVertically(t,i):this.splitDimensionsHorizontally(t,i)},t.prototype.splitDimensionsVertically=function(e,t){void 0===t&&(t=[1,1]);var i=+(this.dimensions.width*t[e]/_.sum(t)).toFixed(2);this.dimensions={top:this.dimensions.top,height:this.dimensions.height,width:+i.toFixed(2),left:0===e?this.dimensions.left:+(this.dimensions.left+(this.dimensions.width-i)).toFixed(2)}},t.prototype.splitDimensionsHorizontally=function(e,t){void 0===t&&(t=[1,1]);var i=this.dimensions.height*t[e]/_.sum(t);this.dimensions={top:0===e?this.dimensions.top:+(this.dimensions.top+(this.dimensions.height-i)).toFixed(2),height:+i.toFixed(2),width:this.dimensions.width,left:this.dimensions.left}},t.prototype.updateDimensions=function(e){var t=this.parent;this.dimensions=_.clone(t.dimensions),t.direction&&this.splitDimensionsInDirection(t.direction,t.children.indexOf(this),e||t.aspectRatio)},t.prototype.clone=function(){var i=e.prototype.clone.call(this,t);return i.dimensions=_.clone(this.dimensions),i.direction=this.direction,i.index=this.index,i.aspectRatio=_.clone(this.aspectRatio),i},t.prototype.containsSplit=function(){var e=!1;return this.walkDepthFirstPre(function(t){e=e||"undefined"!=typeof t.direction},!0),e},t}(r.Node);i.Layout=o},{"../../util/tree/node":320}],188:[function(e,t,i){"use strict";function n(e){function t(e){var t={};return e.show(),["hidden-xs","hidden-sm","hidden-md","hidden-lg"].forEach(function(i){e.addClass(i),t[i.substr(7)]="none"===e.css("display"),e.removeClass(i)}),e.hide(),t}return{restrict:"A",scope:{responsiveSpyCallback:"&"},link:function(i,n,o){n.addClass(o.appLayoutResponsiveSpy),e.mobileLayout="none"===n.css("display");var a=e.channelResize.subscribe(r.LayoutService.TOPIC_RESIZE,_.throttle(function(e){i.responsiveSpyCallback({responsiveInfo:t(n)})},100,{trailing:!0}));i.responsiveSpyCallback({responsiveInfo:t(n)}),i.$on("$destroy",function(){a.unsubscribe()})}}}n.$inject=["layoutService"];var r=e("./layout.service");i.appLayoutResponsiveSpyDirective=n},{"./layout.service":189}],189:[function(e,t,i){"use strict";var n=e("./layout.model"),r=e("../../util/tree/node"),o=function(){function e(t,i,n,r,o,a){var s=this;this.mobileLayout=!1,this._isLayoutDividerDragging=!1,this._withinIFrame=!1,this._responsiveInfo={xs:!1,sm:!1,md:!1,lg:!1},this._dragActive=!1,this.sidebars={},this._dimensionViewport=this.getViewportWidth(i),i(window).on("resize",_.throttle(this.handleResize.bind(this,i),100)),i(window).on("orientationchange",_.throttle(this.handleResize.bind(this,i),100)),i(document.body).on("click",function(e){s.publishBodyClickEventMessage({event:e}),document.documentElement.style.cursor=""}),i(window).on("blur",function(e){s._withinIFrame&&s.publishBodyClickEventMessage({event:e})}),i(document.body).on("mouseenter",".app-apps-frame-component",null,function(){return s._withinIFrame=!0}),i(document.body).on("mouseleave",".app-apps-frame-component",null,function(){return s._withinIFrame=!1}),this.channelResize=t.channel(e.CHANNEL_RESIZE),this.channelUpdate=t.channel(e.CHANNEL_UPDATE),this.channelEvent=t.channel(e.CHANNEL_EVENT),this.channelSidebar=t.channel(e.CHANNEL_SIDEBAR),this.channelScrollContainer=t.channel(e.SET_AUTO_SCROLL_CONTAINER),this._animateService=n,this._queueService=r,this._timeoutService=o,this._$=i,
this._state=a,this._sidebarAnimations={},this.initializeLayout()}return e.$inject=["postal","jQuery","$animate","$q","$timeout","$state"],Object.defineProperty(e.prototype,"responsiveInfo",{get:function(){return this._responsiveInfo},set:function(e){var t=this,i=Object.keys(e).reduce(function(i,n){var r=e[n]!==t._responsiveInfo[n];return r&&(t._responsiveInfo[n]=e[n]),i||r},!1);i&&(this.mobileLayout=e.xs,this.publishResponsiveLayoutMessage({dimensionViewport:this._dimensionViewport,mobileLayout:this.mobileLayout,responsiveInfo:this.responsiveInfo}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLayoutDividerDragging",{get:function(){return this._isLayoutDividerDragging},set:function(e){this._isLayoutDividerDragging=e},enumerable:!0,configurable:!0}),e.prototype.addSidebar=function(e,t){void 0===t&&(t={}),this.sidebars[e]=t},e.prototype.hasSidebarConfig=function(e){return"undefined"!=typeof this.sidebars[e]},e.prototype.getSidebarConfig=function(e){var t=this.sidebars[e];if(!t)throw new Error("LayoutService -> toggleSidebar: Sidebar with id "+e+" does not exist");return t},e.prototype.mergeSidebarConfig=function(e,t){var i=this.getSidebarConfig(e);i&&this.addSidebar(e,angular.merge({},i,t))},e.prototype.collapseAll=function(e){var t=this;void 0===e&&(e=null);var i=Object.keys(this.sidebars),n=e?i.filter(function(t){return t!==e}):i;n.forEach(function(e){return t.collapseSidebar(e)})},e.prototype.expandSidebar=function(e){var t=this;this.mobileLayout&&this.collapseAll(e);var i=this.getSidebarConfig(e);if(i&&!i.expanded){i.expanded=!0,this.publishSidebarMessage({sidebarId:e,config:i}),this.cancelSidebarAnimations(e);var n=[];this._$("#"+e+", .app-animation-"+e).each(function(i,r){n.push(t._animateService.addClass(t._$(r),"app-animation-"+e+"-expanded"))}),this._sidebarAnimations[e]=n,this._queueService.all(n).then(function(){t._sidebarAnimations[e]=null})}},e.prototype.collapseSidebar=function(e){var t=this,i=this.getSidebarConfig(e);if(i&&i.expanded){i.expanded=!1,this.publishSidebarMessage({sidebarId:e,config:i}),this.cancelSidebarAnimations(e);var n=[];return this._$("#"+e+", .app-animation-"+e).addClass("app-animation-"+e+"-expanded").each(function(i,r){n.push(t._animateService.removeClass(t._$(r),"app-animation-"+e+"-expanded"))}),this._sidebarAnimations[e]=n,this._queueService.all(n).then(function(){t._state.go("app"),t._sidebarAnimations[e]=null})}},e.prototype.toggleSidebar=function(e,t){void 0===t&&(t=null);var i=this.getSidebarConfig(e);return null!==t&&t!==i.state?(this.expandSidebar(e),i.state=t):i.expanded?this.collapseSidebar(e):this.expandSidebar(e),i.expanded},e.prototype.removeSidebar=function(e){this.sidebars[e]=null,delete this.sidebars[e]},e.prototype.initializeLayout=function(){this.layout=r.Node.deserialize(n.Layout,_.cloneDeep(e.INITIAL_LAYOUT))},e.prototype.updateLayoutViewSplit=function(e,t,i,n){var r=this.layout.findChildById(e);r&&(r.split(t,i,n),this.publishUpdateMessage({}))},e.prototype.updateLayoutAspectRatio=function(e,t){e.aspectRatio=t,e.walkDepthFirstPre(function(e){e.updateDimensions()},!1),this.publishUpdateMessage({})},e.prototype.updateLayoutViewRemove=function(e){var t=this.layout.findChildById(e);t&&(t.remove(),0===this.layout.leaves().length&&this.initializeLayout(),this.publishUpdateMessage({}))},e.prototype.handleResize=function(e,t){this._dimensionViewport=this.getViewportWidth(e),this.mobileLayout&&(this.collapseSidebar("navigationbar"),this.collapseSidebar("taskbar")),this.publishResizeMessage({dimensionViewport:this._dimensionViewport,responsiveInfo:this.responsiveInfo})},e.prototype.publishScrollContainerMessage=function(t){this.channelScrollContainer.publish(e.SET_AUTO_SCROLL_CONTAINER,t)},e.prototype.publishResizeMessage=function(t){this.channelResize.publish(e.TOPIC_RESIZE,t)},e.prototype.publishResponsiveLayoutMessage=function(t){this.channelResize.publish(e.TOPIC_RESPONSIVE_LAYOUT,t)},e.prototype.publishUpdateMessage=function(t){this.channelUpdate.publish(e.TOPIC_UPDATE,t)},e.prototype.publishSidebarMessage=function(t){this.channelSidebar.publish(e.TOPIC_SIDEBAR,t)},e.prototype.publishBodyClickEventMessage=function(t){this.channelEvent.publish(e.TOPIC_EVENT_BODY_CLICK,t)},e.prototype.publishHidePopovers=function(){this.channelEvent.publish(e.TOPIC_EVENT_HIDE_POPOVERS)},e.prototype.publishDragStart=function(){this.channelEvent.publish(e.TOPIC_DRAG_START)},e.prototype.publishDragEnd=function(){this.channelEvent.publish(e.TOPIC_DRAG_END)},e.prototype.isSplitLayout=function(e){return"undefined"==typeof e&&(e=this.layout),e.containsSplit()},e.prototype.findOppositeLayout=function(e,t){"undefined"==typeof t&&(t=this.layout);var i=t.findChildById(e);if(i&&i.parent){var n=i.parent.children.indexOf(i);return i.parent.children[(n+1)%2]}},e.prototype.setDragActive=function(e){return this._dragActive=e,e?void this._$(document.body).addClass("item-dragging"):void this._$(document.body).removeClass("item-dragging")},e.prototype.getDragActive=function(){return this._dragActive},e.prototype.getViewportWidth=function(e){var t=e(window);return{width:t.width(),height:t.height()}},e.prototype.cancelSidebarAnimations=function(e){var t=this;this._sidebarAnimations[e]&&this._sidebarAnimations[e].forEach(function(e){t._animateService.cancel(e)})},e}();o.CHANNEL_RESIZE="LayoutServiceResizeChannel",o.TOPIC_RESIZE="LayoutServiceResize",o.TOPIC_RESPONSIVE_LAYOUT="LayoutServiceResponsiveLayout",o.CHANNEL_UPDATE="LayoutServiceUpdateChannel",o.TOPIC_UPDATE="LayoutServiceUpdate",o.CHANNEL_EVENT="LayoutServiceEventChannel",o.TOPIC_EVENT_BODY_CLICK="LayoutServiceEventBodyClick",o.TOPIC_EVENT_HIDE_POPOVERS="LayoutServiceHidePopovers",o.CHANNEL_SIDEBAR="LayoutServiceChannelSidebar",o.TOPIC_SIDEBAR="LayoutServiceTopicSidebar",o.TOPIC_DRAG_START="LayoutServiceDragStart",o.TOPIC_DRAG_END="LayoutServiceDragEnd",o.SET_AUTO_SCROLL_CONTAINER="SetAutoScrollContainer",o.INITIAL_LAYOUT={id:"root",dimensions:{width:1,height:1,top:0,left:0},children:[{id:"main",dimensions:{width:1,height:1,top:0,left:0}}]},i.LayoutService=o},{"../../util/tree/node":320,"./layout.model":187}],190:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.LayoutSplit,{restrict:"E",scope:{onSplit:"&",canSplit:"&"},templateUrl:"app/layout/layout.split.html"})}var r=e("./layout.split"),o=e("../components/component");i.layoutSplitDirective=n},{"../components/component":28,"./layout.split":191}],191:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=function(e){function t(t){var i=e.call(this)||this;return i.timeoutService=t,i}return n(t,e),t.$inject=["$timeout"],t.prototype.canSplitMask=function(e,t){return this.canSplit({direction:e,index:t})},t.prototype.onSplitMaskDrop=function(e,t){var i=this;this.timeoutService(function(){i.onSplit({transfer:e,params:t})})},t}(r.Component);i.LayoutSplit=o},{"../components/component":28}],192:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.MenuOverlay,{restrict:"E",scope:{customClass:"@"},transclude:!0,templateUrl:"app/menu/menu.overlay.html"})}var r=e("./menu.overlay"),o=e("../components/component");i.menuOverlayDirective=n},{"../components/component":28,"./menu.overlay":193}],193:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=function(e){function t(i,n,r,o){var a=e.call(this)||this;return a.isSubmenu=!1,a._animateService=i,a.channel=n.channel(t.CHANNEL),a._timeoutService=r,a._qService=o,a}return n(t,e),t.$inject=["$animate","postal","$timeout","$q"],t.customTetherPositioning=function(e){var t=$(this.element);t.hasClass("app-menu-MenuOverlay")&&t.css("height",$(document.body).height()-e.top)},t.prototype.show=function(e,t,i,n){var r=this;void 0===i&&(i="top left"),void 0===n&&(n=!0);var o=this._qService.defer();return this._timeoutService(function(){r._el.css("display","inherit");var a=r.menuContent?r.menuContent.template.split(">")[0].toString():"",s="custom-menu-overlay-"+a.replace(/</g,"");r._el.addClass(s),n?r._animateService.addClass(r._el.find(".container-fluid").first(),"animate-show"):r._el.find(".container-fluid").first().addClass("animate-show"),r._tether=new Tether({element:r._el.get(0),attachment:i,target:e.get(0),targetAttachment:t,constraints:[{to:$(".overlay-container").get(0),pin:["right","left"],attachment:"together"}]}),o.resolve()}),o.promise},t.prototype.hide=function(){var e=this;this._el&&this._animateService.removeClass(this._el.find(".container-fluid"),"animate-show").then(function(){e._el.css("display","none"),e.positionTether()})},t.prototype.handleHeaderClick=function(e){this.channel.publish(t.TOPIC_HEADER_CLICKED),e.stopPropagation()},t.prototype.onRenderComponent=function(e,t){this._el=e},t.prototype.destroy=function(){this._tether&&this._tether.destroy(),this._tether=null,this._el=null,this._animateService=null,this._timeoutService=null,this._qService=null},t.prototype.positionTether=function(){this._tether&&this._tether.position()},t}(r.Component);o.CHANNEL="MENU_OVERLAY_CHANNEL",o.TOPIC_HEADER_CLICKED="MENU_OVERLAY_TOPIC_HEADER_CLICKED",i.MenuOverlay=o},{"../components/component":28}],194:[function(e,t,i){"use strict";var n=e("../user/user.service"),r=e("../app.icons"),o=e("../layout/layout.service"),a=e("../actionLog/action-constants"),s=e("../guidedTour/guidedTour.service"),c=function(){function e(t,i,c,l,d,p,u,h){var g=this;this._stateService=t,this._layoutService=c,this._deferedMenuItems=l.defer(),this.channelSubMenu=d.channel(e.CHANNEL_SUBMENU),this._userService=i,this._actionLogService=p,this._guidedTourService=u,this._deferedMenuItems.resolve([{name:"workplaceMenu",menuIds:["left-titlebar"],width:40},{name:"search",label:"menu.item.search",iconCls:"iwp-icon-gen_search",menuContent:{template:"<app-components-omnisearch></app-components-omnisearch>",visibleMenuId:null},action:function(e,t){g.toggleSubMenu(e,t)},menuIds:["left-titlebar"],width:40},{name:"tasks",label:"menu.item.tasks",template:"<app-components-task-task-info-item></app-components-task-task-info-item>",menuContent:{template:"<usertasks-directive></usertasks-directive>",visibleMenuId:null},action:function(e,t){g.toggleSubMenu(e,t)&&g._actionLogService.logAction({category:a.ActionConstants.CATEGORY_TASKS,action:a.ActionConstants.ACTION_TASK_MENU})},menuIds:["right-titlebar"],targetAlign:{"right-titlebar":"bottom right"},align:{"right-titlebar":"top right"},width:40},{name:"messages",label:"menu.item.messages",template:"<app-messages-messages-info-item></app-messages-messages-info-item>",menuContent:{template:"<app-messages-message-list></app-messages-message-list>",visibleMenuId:null},action:function(e,t){g.toggleSubMenu(e,t)&&g._actionLogService.logAction({category:a.ActionConstants.CATEGORY_MESSAGES,action:a.ActionConstants.ACTION_MESSAGES_MENU})},menuIds:["right-titlebar","navigationbar"],cls:{"right-titlebar":"hidden-xs"},targetAlign:{"right-titlebar":"bottom right"},align:{"right-titlebar":"top right"},width:40},{name:"user-info",template:"<app-components-userinfo-user-info-item></app-components-userinfo-user-info-item>",menuContent:{template:"<app-components-userinfo></app-components-userinfo>",visibleMenuId:null},action:function(e,t){g.toggleSubMenu(e,t)},cls:{"right-titlebar":"hidden-xs hidden-sm"},targetAlign:{"right-titlebar":"bottom right"},align:{"right-titlebar":"top right"},menuIds:["right-titlebar","navigationbar"],width:190},{name:"help",label:"menu.item.help",iconCls:r.Icons.HELP,menuClass:"helpMenu",menuContent:{template:"<app-components-help></app-components-help>",visibleMenuId:null},action:function(e,t){g.toggleSubMenu(e,t)},cls:{"right-titlebar":"hidden-xs hidden-sm"},targetAlign:{"right-titlebar":"bottom right"},align:{"right-titlebar":"top right"},menuIds:["right-titlebar","navigationbar"],width:40},{name:"logout",label:"action.item.logout.text",iconCls:r.Icons.LOGOUT,action:function(){h.showLogoutConfirmationDialog()},cls:{navigationbar:"hidden-md hidden-lg"},menuIds:["navigationbar"],width:40}]),this._layoutService.channelEvent.subscribe(o.LayoutService.TOPIC_EVENT_BODY_CLICK,function(e){var t=$(e.event.target).closest(".menuOverlay-content");t[0]||g.hideActiveSubMenu()}),this._userService.channel.subscribe(n.UserService.TOPIC_SELECTED_ROLE_CHANGED,function(){return g.hideActiveSubMenu()}),this._guidedTourService.channel.subscribe(s.GuidedTourService.STEP_BEFORE_SHOW,function(e){"search"===e.menuId&&g.getMenuItemsById("left-titlebar").then(function(e){e.forEach(function(e){"search"===e.name&&g.toggleSubMenu(e,"left-titlebar")})}),"tasks"===e.menuId&&g.getMenuItemsById("right-titlebar").then(function(e){e.forEach(function(e){"tasks"===e.name&&g.toggleSubMenu(e,"right-titlebar")})})})}return e.$inject=["$state","userService","layoutService","$q","postal","actionLogService","guidedTourService","popupService"],e.prototype.getMenuItemsById=function(e){return this._deferedMenuItems.promise.then(function(t){return t.filter(function(t){return _.isArray(t.menuIds)&&-1!==t.menuIds.indexOf(e)})})},e.prototype.getMenuItemsWidth=function(e,t,i){return this.filterVisibleMenuItems(e,t,i).reduce(function(e,t){return e+t.width},0)},e.prototype.filterVisibleMenuItems=function(e,t,i){var n=this;return t.filter(function(t){var r=t.menuIds.find(function(e){return n.getMenuItemVisibilityForMenu(e,t,i)});return e===r})},e.prototype.getMenuItemVisibilityForMenu=function(e,t,i){return Object.keys(i).reduce(function(n,r){return n&&(!i[r]||!(t.cls&&t.cls[e]&&t.cls[e].indexOf("hidden-"+r)>-1))},!0)},e.prototype.toggleSubMenu=function(e,t){if(!e)return void console.warn("Menu Service -> toggleSubmenu: the given menuItem is undefined. Aborting toggle.");var i=e.menuContent.visibleMenuId;return i?(this.hideSubMenu(e),!1):i!==t?(this.showSubMenu(e,t),!0):void 0},e.prototype.showSubMenu=function(t,i){this.hasActiveSubMenu()&&this.hideSubMenu(this.activeSubMenuItem),this.getMenuItemVisibilityForMenu("right-titlebar",t,this._layoutService.responsiveInfo)&&this._layoutService.collapseSidebar("navigationbar"),t.menuContent.visibleMenuId=i,this.activeSubMenuItem=t,this.channelSubMenu.publish(e.TOPIC_SUBMENU_SHOW,{menuItem:t,menuId:i})},e.prototype.hideSubMenu=function(t){t===this.activeSubMenuItem&&(this.activeSubMenuItem=null),this.channelSubMenu.publish(e.TOPIC_SUBMENU_HIDE,{menuItem:t,menuId:t.menuContent.visibleMenuId}),t.menuContent.visibleMenuId=null},e.prototype.hideActiveSubMenu=function(){this.hasActiveSubMenu()&&this.hideSubMenu(this.activeSubMenuItem)},e.prototype.hasActiveSubMenu=function(){return"undefined"!=typeof this.activeSubMenuItem&&null!==this.activeSubMenuItem},e.prototype.publishMenuShown=function(){this.channelSubMenu.publish(e.TOPIC_SUBMENU_SHOWN,{menuItem:this.activeSubMenuItem,menuId:this.activeSubMenuItem.menuContent.visibleMenuId})},e}();c.CHANNEL_SUBMENU="MENU_SERVICE_SUBMENU_CHANNEL",c.TOPIC_SUBMENU_SHOW="MENU_SERVICE_TOPIC_SUBMENU_SHOW",c.TOPIC_SUBMENU_HIDE="MENU_SERVICE_TOPIC_SUBMENU_HIDE",c.TOPIC_SUBMENU_SHOWN="MENU_SERVICE_TOPIC_SUBMENU_SHOWN",i.MenuService=c},{"../actionLog/action-constants":1,"../app.icons":6,"../guidedTour/guidedTour.service":185,"../layout/layout.service":189,"../user/user.service":238}],195:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.MessageItem,{restrict:"E",scope:{data:"=",onClick:"&"},templateUrl:"app/messages/message-item.html"})}var r=e("../components/component"),o=e("./message-item");i.messageItemDirective=n},{"../components/component":28,"./message-item":196}],196:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("../app.icons"),a=function(e){function t(t){var i=e.call(this)||this;return i.hasActiveMenu=!1,i.messagesService=t,i}return n(t,e),t.$inject=["messagesService"],Object.defineProperty(t.prototype,"categoryIcon",{get:function(){switch(this.data.category.toLowerCase()){case"info":return o.Icons.MESSAGES_INFO;case"warn":return o.Icons.MESSAGES_WARN;default:return o.Icons.MESSAGES_DEFAULT}},enumerable:!0,configurable:!0}),t.prototype.handleClick=function(e){this.onClick({messageItem:this}),this.messagesService.messageRead(this.data),e.stopPropagation()},t.prototype.onRenderComponent=function(e,t){this.el=e},t.prototype.destroy=function(){this.el=null},t}(r.Component);i.MessageItem=a},{"../app.icons":6,"../components/component":28}],197:[function(e,t,i){"use strict";function n(){return r.Component.createDirective(o.MessageList,{restrict:"E",scope:{},templateUrl:"app/messages/message-list.html"})}var r=e("../components/component"),o=e("./message-list");i.messageListDirective=n},{"../components/component":28,"./message-list":198}],198:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("../menu/menu.overlay"),a=e("../menu/menu.service"),s=function(e){function t(t,i,n,r,o,s,c,l){var d=e.call(this)||this;return d.messagesService=t,d.rootScope=i,d.popupService=r,d.dashboardService=o,d.widgetService=s,d.sharingService=c,d.tasksService=l,n.channelSubMenu.subscribe(a.MenuService.TOPIC_SUBMENU_HIDE,function(e){"messages"===e.menuItem.name&&d.activeMenuScope&&d.activeMenuScope.$destroy()}),d}return n(t,e),t.$inject=["messagesService","$rootScope","menuService","popupService","dashboardService","widgetService","sharingService","tasksService"],t.prototype.destroy=function(e){this.messagesService=null,this.popupService=null,this.dashboardService=null,this.widgetService=null,this.sharingService=null},Object.defineProperty(t.prototype,"messages",{get:function(){return this.messagesService?this.messagesService.messages:[]},enumerable:!0,configurable:!0}),t.prototype.handleMessageItemClick=function(e){var t=this;return this.activeMenuScope&&this.activeMenuScope.$destroy(),e===this.activeMessageItem?void(this.activeMessageItem=null):(this.activeMenuScope=this.rootScope.$new(),this.activeMessageItem=e,void r.Component.renderComponentTo(this.activeMenuScope,o.MenuOverlay,"app/menu/menu.overlay.html",$(".overlay-container")).then(function(i){i.menuContent=t.getMessageDescriptionTemplate(e.data),i.isSubmenu=!0,i.show(e.el,"top left","top right",!1);var n=i.channel.subscribe(o.MenuOverlay.TOPIC_HEADER_CLICKED,function(){t.activeMenuScope.$destroy()});t.activeMenuScope.$on("$destroy",function(){e.hasActiveMenu=!1,n.unsubscribe()}),e.hasActiveMenu=!0}))},t.prototype.getMessageDescriptionTemplate=function(e){var t=e.category&&null!==e.category?e.category.toLowerCase():e.category;switch(t){case"task_unshare":return this.getTaskUnsharingDirective(e);case"share":return this.getSharingDirective(e);default:return{template:'<div class="message-detail">\n                  <h2 ng-if="vm.title && vm.title!==\'\' && vm.title!==null">{{vm.title}}</h2>\n                  <div class="description" ng-bind-html="vm.description"></div>\n                </div>',vm:e}}},t.prototype.showAcceptFavoriteDialog=function(e){var t=this;this.widgetService.findWidget(e).then(function(i){t.popupService.showModalWindow("acceptFavoriteDialog",{titleKey:"dialogs.favorite.shared.accept.title",okButtonKey:"dialogs.favorite.shared.accept.buttons.ok.label",cancelButtonKey:"dialogs.favorite.shared.accept.buttons.cancel.label",widget:i}).then(function(i){t.widgetService.findWidget(e,i.name).then(function(e){t.dashboardService.addDashboardWidget(i.name,e)})})["catch"](function(){return!1})})},t.prototype.acceptSharedDashboard=function(e){this.sharingService.acceptSharedDashboard(e)},t.prototype.getSharingDirective=function(e){var t=e.shareType&&null!==e.shareType?e.shareType.toLowerCase():e.shareType;switch(t){case"dashboard":return{template:'<div class="message-detail">\n                  <h2 ng-if="vm.title && vm.title!==\'\' && vm.title!==null">{{vm.title}}</h2>\n                  <div class="description">{{vm.description}}</div>\n                  <div class="descriptionFooter">\n                    <button class="btn btn-primary" ng-click="vm.callback(vm.entityId)">{{"dialogs.dashboard.shared.button.accept.label" | translate}}</button>\n                  </div>\n                </div>',vm:_.merge({},e,{callback:this.acceptSharedDashboard.bind(this)})};case"widget":return{template:'<div class="message-detail">\n                  <h2 ng-if="vm.title && vm.title!==\'\' && vm.title!==null">{{vm.title}}</h2>\n                  <div class="description">{{vm.description}}</div>\n                  <div class="descriptionFooter">\n                    <button class="btn btn-primary" ng-click="vm.callback(vm.entityId)">{{"dialogs.favorite.shared.button.accept.label" | translate}}</button>\n                  </div>\n                </div>',vm:_.merge({},e,{callback:this.showAcceptFavoriteDialog.bind(this)})};default:return{}}},t.prototype.getTaskUnsharingDirective=function(e){return{template:'<div class="message-detail">\n                  <h2 ng-if="vm.title">{{vm.title}}</h2>\n                  <div class="description" ng-if="vm.description">{{vm.description}}</div>\n                  <div class="descriptionFooter">\n                    <button class="btn btn-primary" ng-click="vm.callback(vm.entityId)">{{"dialogs.messages.task.unsharing.open" | translate}}</button>\n                  </div>\n                </div>',vm:_.merge({},e,{callback:this.openUnsharingTask.bind(this)})}},t.prototype.openUnsharingTask=function(e){this.tasksService.openTask({id:e,system:"workplace"}),this.activeMenuScope.$destroy()},t}(r.Component);i.MessageList=s},{"../components/component":28,"../menu/menu.overlay":193,"../menu/menu.service":194}],199:[function(e,t,i){"use strict";function n(){return o.Component.createDirective(r.MessagesInfoItem,{restrict:"E",scope:{},templateUrl:"app/messages/messages-info-item.html"})}var r=e("./messages-info-item"),o=e("../components/component");i.messagesInfoItemDirective=n},{"../components/component":28,"./messages-info-item":200}],200:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=function(e){function t(t,i,n){var r=e.call(this)||this;return r._messagesService=t,r._postal=i,r.appLocale=n.locale,r}return n(t,e),t.$inject=["messagesService","postal","language"],Object.defineProperty(t.prototype,"count",{get:function(){return this._messagesService?this._messagesService.messages.reduce(function(e,t){return e+(t.read?0:1)},0):0},enumerable:!0,configurable:!0}),t}(r.Component);i.MessagesInfoItem=o},{"../components/component":28}],201:[function(e,t,i){"use strict";var n=function(){function e(e,t,i,n,r,o,a){var s=this;this.messages=[],this.store=e,this.httpService=t,this.deviceService=i,this.notificationService=n,this.intervalService=r,this._workplaceContextService=o,this._language=a,this.getMessages(),this.intervalService(function(){s.getMessages()},18e5)}return e.$inject=["messagesStore","$http","deviceService","notificationService","$interval","workplaceContextService","language"],e.prototype.getMessages=function(){var e=this;return this.store.findAll({lang:this._language.lang,deviceType:this.deviceService.device,demoMode:this._workplaceContextService.demoMode},{bypassCache:!0,noCache:!0}).then(function(t){return e.showNotification(t),e.messages=e.parseMessages(t)})},e.prototype.showNotification=function(e){var t=this;e.forEach(function(e){return e.read?void 0:"warn"===e.category.toLowerCase()?void t.notificationService.showWarn("messages.notification.text",{},e.title):"unshare"===e.category.toLowerCase()||"share"===e.category.toLowerCase()?void t.notificationService.showTranslatedMessage("info",e.description):"task_unshare"===e.category.toLowerCase()?void t.notificationService.showWarn("messages.notification.text",{},e.title):void 0})},e.prototype.removeMessage=function(e){this.messages=this.messages.filter(function(t){return t.id!==e.id})},e.prototype.messageRead=function(e){e.read||this.httpService.post("./rest/messages/read/?messageId="+e.id+"&lang="+this._language.lang,{}).then(function(){return e.read=!0})},e.prototype.parseMessages=function(e){return e.map(function(e){if("task_unshare"===e.category.toLowerCase()){var t=e.description.substring(e.description.lastIndexOf("{{")+2,e.description.lastIndexOf("}}"));e.description=e.description.replace(/{{.*}}/,t),e.entityId=t}return e})},e}();i.MessagesService=n},{}],202:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"messages",endpoint:"./rest/messages",watchChanges:!1})}n.$inject=["DS"],i.messagesStoreFactory=n},{}],203:[function(e,t,i){"use strict";var n=e("./notification.service"),r=function(){function e(e){this._toastr=e}return e.$inject=["toastr"],e.prototype.setNotificationOptions=function(e){this._toastr.options=e},e.prototype.$get=function(e,t){return new n.NotificationService(e,t,this._toastr)},e.prototype.$get.$inject=["$translate","postal"],e}();i.NotificationProvider=r},{"./notification.service":204}],204:[function(e,t,i){"use strict";var n=function(){function e(t,i,n){var r=this;this._translateService=t,this._toastr=n,this.channel=i.channel(e.CHANNEL),this.channel.subscribe(e.TOPIC_MESSAGE,function(e){r.showMessage(e.type,e.message)})}return e.$inject=["$translate","postal","toastr"],e.prototype.showSuccess=function(e,t,i,n){this.showMessage("success",e,t,i,n)},e.prototype.showWarn=function(e,t,i,n){this.showMessage("warning",e,t,i,n)},e.prototype.showInfo=function(e,t,i,n){this.showMessage("info",e,t,i,n)},e.prototype.showError=function(e,t,i,n){this.showMessage("error",e,t,i,n)},e.prototype.showMessage=function(e,t,i,n,r){var o=this;e=e||"info",this._translateService([t,n],_.merge({},i,r)).then(function(i){"function"==typeof o._toastr[e]&&o._toastr[e](i[t],i[n])})},e.prototype.showTranslatedMessage=function(e,t,i){e=e||"info",this._toastr[e](t,i)},e}();n.CHANNEL="NotificationServiceChannel",n.TOPIC_MESSAGE="NotificationServiceTopicMessage",i.NotificationService=n},{}],205:[function(e,t,i){"use strict";function n(e){return{restrict:"A",link:function(t,i){var n=i.closest(".modal"),r=n.find(".modal-dialog"),o=function(){n.css("display","block"),r.css("margin-top",Math.max(0,($(window).height()-r.height())/2))};o(),angular.element(e).bind("resize",function(){o()})}}}n.$inject=["$window"],i.popupCenterDirective=n},{}],206:[function(e,t,i){"use strict";var n=function(){function e(t,i,n){var r=this;this._uibModal=t,this._q=i,this.channel=n.channel(e.CHANNEL),this.channel.subscribe(e.TOPIC_CONFIRM,function(e){r.showConfirm(e.options,e.directive)})}return e.$inject=["$uibModal","$q","postal"],e.prototype.showConfirm=function(e,t){void 0===t&&(t="confirmationDialog");var i,n=this._q.defer();return i=this._uibModal.open({animation:!0,backdrop:"static",windowClass:t+"Modal",component:t,resolve:{options:function(){return e}}}),i.result.then(function(e){return n.resolve(e)})["catch"](function(){return n.reject()}),n.promise},e.prototype.showLogoutConfirmationDialog=function(){return this.showConfirm({titleKey:"logout.confirmation.title",messageKey:"logout.confirmation.message",okButtonKey:"logout.confirmation.button.ok",cancelButtonKey:"logout.confirmation.button.cancel"},"logoutConfirmationDialog")},e.prototype.showModalWindow=function(e,t,i,n){var r,o=this._q.defer();return r=this.createModalWindow(e,t,i,n),r.result.then(function(e){return o.resolve(e)})["catch"](function(){return o.reject()}),o.promise},e.prototype.createModalWindow=function(e,t,i,n){return this._uibModal.open({size:n,animation:!0,backdrop:"static",keyboard:i,windowClass:e+"Modal",component:e,resolve:{config:function(){return t}}})},e}();n.CHANNEL="POPUP_SERVICE_CHANNEL",n.TOPIC_CONFIRM="POPUP_SERVICE_TOPIC_CONFIRM",i.PopupService=n},{}],207:[function(e,t,i){"use strict";var n=function(){function e(e){this.loading=!1,this.externalSource=!1,this.store=e,this.items=[]}return e.$inject=["store"],e.prototype.reset=function(){this.items=[]},e}();i.AbstractSource=n},{}],208:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./abstract.source"),o=e("./omnisearch.model.interface"),a=e("./search.item"),s=e("../app.icons"),c=e("../actionLog/action-constants"),l=function(e){function t(t,i,n,r,o){var a=e.call(this,t)||this;return a.appsService=i,a.menuService=n,a.actionLogService=r,a.flattenedApps=[],a.loadAppList(),a}return n(t,e),t.$inject=["store","appsService","menuService","actionLogService","userService"],t.prototype.transform=function(e){return new a.SearchItem(e.description,e.iconCls||s.Icons.APP_DEFAULT,e,o.SearchItemType.APP)},t.prototype.onAction=function(e){this.actionLogService.logAction({category:c.ActionConstants.CATEGORY_APPS,action:c.ActionConstants.ACTION_APPS_LAUNCH_SEARCH,actionInfo:e.data.name}),this.appsService.openAppByName(e.data.name),this.menuService.hideActiveSubMenu()},t.prototype.search=function(e){var t=this;this.loading=!0,this.items=[],e&&null!==e&&""!==e&&(this.flattenedApps.forEach(function(i){if(i.description&&null!==i.description&&i.description.toLowerCase().indexOf(e.toLowerCase())>=0)return void t.items.push(t.transform(i));if(i.name&&null!==i.name&&i.name.toLowerCase().indexOf(e.toLowerCase())>=0)return void t.items.push(t.transform(i));if(i.parentName){var n=t.appsService.findApp(i.parentName,t.store.getAll());n&&n.description&&null!==n.description&&n.description.toLowerCase().indexOf(e.toLowerCase())>=0&&t.items.push(t.transform(i))}}),this.loading=!1)},t.prototype.loadAppList=function(){var e=this;this.appsService.getApps().then(function(t){return e.flattenedApps=e.assembleAppList(t,[]).sort(function(e,t){return e.description&&null!==e.description?e.description.localeCompare(t.description):-1})})},t.prototype.assembleAppList=function(e,t){var i=this;return e.forEach(function(e){return e.children&&e.children.length>0?void i.assembleAppList(e.children,t):void(i.appsService._isHiddenApp(e)||t.push(e))}),t},t}(r.AbstractSource);i.AppsSource=l},{"../actionLog/action-constants":1,"../app.icons":6,"./abstract.source":207,"./omnisearch.model.interface":213,"./search.item":215}],209:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./abstract.source"),o=e("../app.icons"),a=e("../actionLog/action-constants"),s=e("./search.item"),c=e("./omnisearch.model.interface"),l=function(e){function t(t,i,n,r,o,a){var s=e.call(this,t)||this;return s.frameLayoutsStore=i,s.dashboardService=n,s.frameLayoutService=r,s.menuService=o,s.actionLogService=a,s}return n(t,e),t.$inject=["store","frameLayoutsStore","dashboardService","frameLayoutService","menuService","actionLogService"],t.prototype.transform=function(e){return new s.SearchItem(e.description,e.iconCls||o.Icons.DASHBOARD_DEFAULT,e,e&&void 0!==e.frames?c.SearchItemType.LAYOUT:c.SearchItemType.DASHBOARD)},t.prototype.onAction=function(e){e.data.name?(this.actionLogService.logAction({category:a.ActionConstants.CATEGORY_DASHBOARD,action:a.ActionConstants.ACTION_DASHBOARDS_OPEN_DASHBOARD,actionInfo:e.data.name}),this.dashboardService.openDashboardByName(e.data.name)):(this.actionLogService.logAction({
category:a.ActionConstants.CATEGORY_DASHBOARD,action:a.ActionConstants.ACTION_DASHBOARDS_OPEN_DASHBOARD,actionInfo:e.data.id}),this.frameLayoutService.openLayoutById(e.data.id)),this.menuService.hideActiveSubMenu()},t.prototype.search=function(e){var t=this;this.loading=!0;var i=this.store.getAll(),n=i?i.concat(this.frameLayoutsStore.getAll()):[];this.items=[],null!==e&&(n.sort(function(e,t){return e.description&&null!==e.description?e.description.localeCompare(t.description):-1}).forEach(function(i){(null!==i.description&&i.description.toLowerCase().indexOf(e.toLowerCase())>=0||null!==i.name&&i.name&&i.name.toLowerCase().indexOf(e.toLowerCase())>=0)&&t.items.push(t.transform(i))}),this.loading=!1)},t}(r.AbstractSource);i.DashboardsSource=l},{"../actionLog/action-constants":1,"../app.icons":6,"./abstract.source":207,"./omnisearch.model.interface":213,"./search.item":215}],210:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./abstract.source"),o=e("./omnisearch.model.interface"),a=e("./search.item"),s=e("../app.icons"),c=function(e){function t(t,i){var n=e.call(this,t)||this;return n._employeeService=i,n}return n(t,e),t.$inject=["store","employeeService"],t.prototype.transform=function(e){return new a.SearchItem(e.name+" "+e.surname,s.Icons.EMPLOYEE_DEFAULT,e,o.SearchItemType.EMPLOYEE)},t.prototype.onAction=function(e){},t.prototype.search=function(e){var t=this;if(this.loading=!0,null!==e){var i=3;e.length>=i&&this._employeeService.findEmployees(e,function(e){t.items=[],e.forEach(function(e){t.items.push(t.transform(e))})}),this.loading=!1}},t}(r.AbstractSource);i.EmployeeSource=c},{"../app.icons":6,"./abstract.source":207,"./omnisearch.model.interface":213,"./search.item":215}],211:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./abstract.source"),o=e("./search.item"),a=e("../app.icons"),s=e("../../util/url.helper"),c=function(e){function t(t,i){var n=e.call(this,null)||this;return n.externalSource=!0,n._appsService=t,n._menuService=i,n._searchTerm="",t.getApp("search").then(function(e){e.children.forEach(function(e){n.items.push(new o.SearchItem(e.description,e.iconCls||a.Icons.APP_DEFAULT,e))})}),n}return n(t,e),t.$inject=["appsService","menuService"],t.prototype.transform=function(e){return e},t.prototype.reset=function(){this._searchTerm="",this.translationData=null},t.prototype.onAction=function(e){var t=_.clone(e.data);switch(t.multipleWindows=0,t.name){case"q-search":t.url=s.UrlHelper.mergeQueryString(t.url,{subAction:"search",useStemming:1,resetFilter:!0,query:this._searchTerm,indexName:["pqm","tqp"]});break;case"enterprise-search":t.url=s.UrlHelper.mergeQueryString(t.url,{query:this._searchTerm,pageSize:10,offset:1,osgenerated:!0});break;default:t.url=s.UrlHelper.mergeQueryString(t.url,{query:this._searchTerm})}this._appsService.openApp(t),this._menuService.hideActiveSubMenu()},t.prototype.search=function(e){this.translationData={term:e},this._searchTerm=e},t}(r.AbstractSource);i.ExternalSearchesSource=c},{"../../util/url.helper":321,"../app.icons":6,"./abstract.source":207,"./search.item":215}],212:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./abstract.source"),o=e("./omnisearch.model.interface"),a=e("./search.item"),s=e("../app.icons"),c=e("../../util/link-utils/os.client"),l=e("../../util/link-utils/link.open"),d=function(e){function t(t,i,n,r,o){var a=e.call(this,null)||this;return a._widgetService=t,a._appsService=i,a._menuService=n,a._logService=r,a._notificationService=o,a}return n(t,e),t.$inject=["widgetService","appsService","menuService","logService","notificationService"],t.prototype.transform=function(e,t){var i=s.Icons.FAVORITE_DEFAULT,n=e.customSettings.title?e.customSettings.title:e.title;return"tile"!==e.type&&(i=t.iconCls?t.iconCls:s.Icons.APP_DEFAULT),new a.SearchItem(n,i,e,o.SearchItemType.FAVORITE)},t.prototype.onAction=function(e){var t=JSON.parse(e.data.customSettings);return"favorite"===e.data.type?this._appsService.openAppByName(t.app):"tile"===e.data.type&&c.getClientOs()===c.OS_TYPE.IOS&&(this._notificationService.showMessage("info","mobile.open.vmwareBrowser.message",null,"mobile.open.vmwareBrowser.title"),l.openLink(t.url)),this._menuService.hideActiveSubMenu()},t.prototype.search=function(e){var i=this;null===e||e.length<t.MIN_INTPUT_CHARS||(this.loading=!0,this._widgetService.findWidgets(e).then(function(e){i.items=[],e.forEach(function(e){if("favorite"===e.type&&e.customSettings)try{var t=JSON.parse(e.customSettings);i._appsService.getApp(t.app).then(function(t){return i.items.push(i.transform(e,t))})}catch(n){i._logService.info('FavoriteSource -> search: Cannot parse custom settings for app "'+e.title+'".')}else i.items.push(i.transform(e))})})["finally"](function(){return i.loading=!1}))},t}(r.AbstractSource);d.MIN_INTPUT_CHARS=3,i.FavoriteSource=d},{"../../util/link-utils/link.open":311,"../../util/link-utils/os.client":313,"../app.icons":6,"./abstract.source":207,"./omnisearch.model.interface":213,"./search.item":215}],213:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.EMPLOYEE="employee",n.DEFAULT="default",n.FAVORITE="favorite",n.APP="app",n.DASHBOARD="dashboard",n.LAYOUT="layout",i.SearchItemType=n},{}],214:[function(e,t,i){"use strict";var n=e("./apps.source"),r=e("./tasks.source"),o=e("./employee.source"),a=e("./external.searches.source"),s=e("./favorite.source"),c=e("./dashboards.source"),l=function(){function e(e,t,i,l,d,p,u,h,g,m,v,f,b,y,S,w){var C=this;this._searchActive=!1,this._searchCards=[],v.getUser().then(function(_){C._searchCards.push({title:"omnisearch.dashboards.title",name:"dashboards",source:new c.DashboardsSource(i,l,y,S,g,m)}),C._searchCards.push({title:"omnisearch.apps.title",name:"apps",source:new n.AppsSource(e,h,g,m,v)}),C._searchCards.push({title:"omnisearch.tasks.title",name:"tasks",source:new r.TasksSource(t,g,d)}),C._searchCards.push({title:"omnisearch.favorite.title",name:"favorites",source:new s.FavoriteSource(f,h,g,b,w)}),_&&null!==_&&_.hasQNumber()&&C._searchCards.push({title:"omnisearch.employee.title",name:"employees",source:new o.EmployeeSource(p,u)}),C._searchCards.push({title:"omnisearch.searchFor.title",name:"externalSearches",source:new a.ExternalSearchesSource(h,g)})}),this.hasResults=_.debounce(this._hasResults,500)}return e.$inject=["appsStore","tasksStore","dashboardStore","frameLayoutsStore","tasksService","employeeStore","employeeService","appsService","menuService","actionLogService","userService","widgetService","$log","dashboardService","frameLayoutService","notificationService"],e.prototype.getSearchCards=function(){return this._searchCards},e.prototype.search=function(e){this._searchCards.forEach(function(t){t.source&&null!==t.source&&t.source.search(e)}),this._searchActive=!0},e.prototype.reset=function(){this._searchCards.forEach(function(e){e.source&&null!==e.source&&e.source.reset()}),this._searchActive=!1},Object.defineProperty(e.prototype,"searchActive",{get:function(){return this._searchActive},enumerable:!0,configurable:!0}),e.prototype._hasResults=function(){if(!this.searchActive||!this._searchCards)return!1;for(var e=0,t=this._searchCards.length;t>e;e++)if(this._searchCards[e].source&&this._searchCards[e].source.items&&0!==this._searchCards[e].source.items.length)return!1;return!0},e}();i.OmnisearchService=l},{"./apps.source":208,"./dashboards.source":209,"./employee.source":210,"./external.searches.source":211,"./favorite.source":212,"./tasks.source":216}],215:[function(e,t,i){"use strict";var n=e("./omnisearch.model.interface"),r=function(){function e(e,t,i,r){void 0===r&&(r=n.SearchItemType.DEFAULT),this._label=e,this._data=i,this._iconCls=t,this._type=r}return e.$inject=["label","iconCls","data","type"],Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconCls",{get:function(){return this._iconCls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e}();i.SearchItem=r},{"./omnisearch.model.interface":213}],216:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./abstract.source"),o=e("./search.item"),a=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._menuService=i,r._tasksService=n,r}return n(t,e),t.$inject=["store","menuService","tasksService"],t.prototype.transform=function(e){return new o.SearchItem(e.taskTitle,this._tasksService.getTaskIcon(e),e)},t.prototype.onAction=function(e){this._tasksService.openTask(e.data),this._menuService.hideActiveSubMenu()},t.prototype.search=function(e){var t=this;this.loading=!0;var i=this.store.getAll();this.items=[],null!==e&&(i.forEach(function(i){null!==i.taskTitle&&i.taskTitle.toLowerCase().indexOf(e.toLowerCase())>=0&&t.items.push(t.transform(i))}),this.loading=!1)},t}(r.AbstractSource);i.TasksSource=a},{"./abstract.source":207,"./search.item":215}],217:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();i.IRatingCampaign=n;var r=function(){function e(){}return e}();i.IRatingCampaignQuestion=r;var o=function(){function e(){}return e}();o.RATING="rating",o.SURVEY="survey",i.RatingCampaignType=o;var a;!function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE"}(a=i.RatingCampaignQuestionValue||(i.RatingCampaignQuestionValue={}))},{}],218:[function(e,t,i){"use strict";var n=function(){function e(e,t){this._httpService=e,this._language=t}return e.$inject=["$http","language"],e.prototype.getCampaign=function(e){return this._httpService.get("rest/campaigns/"+e,{params:{lang:this._language.lang}}).then(function(e){return e?e.data:void 0})},e.prototype.campaignUnsubscribe=function(e){this._httpService.post("rest/campaigns/unsubscribe",e)},e.prototype.saveCampaignSurvey=function(e,t){return this._httpService.post("rest/campaigns/"+e,t).then(function(e){return e},function(e){return e})},e}();i.RatingCampaignService=n},{}],219:[function(e,t,i){"use strict";var n=function(){function e(e,t){this.translateService=e,this.workplaceContextService=t}return e.$inject=["$translate","workplaceContextService"],e.prototype.getRestrictionText=function(e){var t=this;return this.translateService(["widget.restrictions.business.role","widget.restrictions.portal.role","widget.restrictions.origin.intranet","widget.restrictions.origin.internet","widget.restrictions.string.auth"]).then(function(i){return t.missingBRole=i["widget.restrictions.business.role"],t.missingPRole=i["widget.restrictions.portal.role"],t.originIntranetOnly=i["widget.restrictions.origin.intranet"],t.originInternetOnly=i["widget.restrictions.origin.internet"],t.strongAuthMandatory=i["widget.restrictions.string.auth"],t.workplaceContextService.getProperty("workplace.origin").then(function(i){if(t.origin=i.value,!e)return"";var n="";return e.businessRoles&&e.businessRoles.length>0&&(n+="<div>"+t.missingBRole+"</div>"),e.portalRoles&&e.portalRoles.length>0&&(n+="<div>"+t.missingPRole+"</div>"),e.origin&&e.origin.length>0&&(e.origin.indexOf("internet")&&"internet"===t.origin&&(n+="<div>"+t.originInternetOnly+"</div>"),e.origin.indexOf("intranet")&&"intranet"===t.origin&&(n+="<div>"+t.originIntranetOnly+"</div>")),e.strongAuth&&e.strongAuth.length>0&&(n+="<div>"+t.strongAuthMandatory+"</div>"),n})})},e.prototype.isEmpty=function(e){return e&&(e.origin&&e.origin.length>0||e.businessRoles&&e.businessRoles.length>0||e.portalRoles&&e.portalRoles.length>0||e.strongAuth&&e.strongAuth.length>0||e.cooperation&&e.cooperation.length>0)?!1:!0},e}();i.RestrictionsService=n},{}],220:[function(e,t,i){"use strict";var n=e("../tab/tab.service"),r=e("../layout/layout.service"),o=e("../../util/tree/node"),a=e("../layout/layout.model"),s=e("../tab/tab.manager"),c=e("../tab/tab.content.interface"),l=e("../frameLayout/frame-layout.service"),d=function(){function e(t,i,n,r,o,a,s,c){this._tabService=t,this._layoutService=i,this._userSettingService=n,this._dashboardService=r,this._frameLayoutService=c,this._qService=o,this._appsService=a,this.channel=s.channel(e.CHANNEL),this._startupComplete=this._qService.defer(),this.saveState=_.throttle(this._saveState,50);var l="; "+document.cookie,d=l.split("; SM_UID=");2===d.length&&(this._sm_uid=d.pop().split(";").shift())}return e.$inject=["tabService","layoutService","userSettingService","dashboardService","$q","appsService","postal","frameLayoutService"],e.prototype.getStateInfo=function(e){if(!this._sm_uid||!localStorage[this._sm_uid])return void 0;var t=JSON.parse(localStorage[this._sm_uid]);return t[e]},e.prototype.hasSavedSession=function(){return this.getStateInfo(e.LAYOUT)||this.getStateInfo(e.TAB_MANAGERS)},e.prototype.restoreSession=function(){var t=this;this._userSettingService.getStartupSettings().then(function(i){var n=i.optionsList.findIndex(function(e){return"startdashboard"===e.description});return i.optionsList[n].enabled||!t.hasSavedSession()?void t.defaultStart(i,n):void t._dashboardService.getDashboards().then(function(){t._layoutService.layout=o.Node.deserialize(a.Layout,t.getStateInfo(e.LAYOUT));var r=t.getStateInfo(e.TAB_MANAGERS);if(!r)return void t.defaultStart(i,n);var s=_.keys(r);s.forEach(function(i,n){var o=r[i];t._tabService.createTabmanager(o.id,{maxTabs:null!==o.maxTabs?o.maxTabs:Number.POSITIVE_INFINITY});var a=[];o.tabs.forEach(function(e,n){a.push(e.content.type===c.TabContentType.IFRAME&&e.content.app?t._appsService.openAppByName(e.content.app.name,i,n,!1):t._dashboardService.getDashboardControls(e.id).then(function(){return t._tabService.openTabAt(e,n,i,!1)}))}),t._qService.all(a).then(function(){var i=o.tabs.find(function(e){return e.active});i&&t._tabService.selectTab(i.id),n===s.length-1&&(t.addListeners(),t.channel.publish(e.MESSAGE_STARTUP_COMPLETE),t._startupComplete.resolve())})})})})},e.prototype.waitForStartupComplete=function(){return this._startupComplete.promise},e.prototype.addListeners=function(){this._tabService.channel.subscribe(n.TabService.TOPIC_TAB_ADD,this.saveState.bind(this)),this._tabService.channel.subscribe(n.TabService.TOPIC_TAB_REMOVE,this.saveState.bind(this)),this._tabService.channel.subscribe(n.TabService.TOPIC_TAB_MOVE,this.saveState.bind(this)),this._layoutService.channelUpdate.subscribe(r.LayoutService.TOPIC_UPDATE,this.saveState.bind(this)),this._frameLayoutService.channel.subscribe(l.FrameLayoutService.CACHE_LAYOUTS,this.saveState.bind(this))},e.prototype.defaultStart=function(t,i){var n=this;this._tabService.registerTabview("main",{maxTabs:s.TabManager.MAX_TABS});var r=[];t.optionsList[i].values.forEach(function(e){return r.push(n._dashboardService.openDashboardByName(e,void 0,!0))}),Promise.all(r).then(function(){n.addListeners(),n.channel.publish(e.MESSAGE_STARTUP_COMPLETE),n._startupComplete.resolve()})["catch"](function(e){return console.log("Default startup procedure failed because",e)})},e.prototype.addStateInfo=function(e,t){if(this._sm_uid&&e&&null!==e){var i=localStorage[this._sm_uid]?JSON.parse(localStorage[this._sm_uid]):{},n=_.keys(i);-1===n.indexOf(e)?i[e]=t:n.forEach(function(n){return i[n]=n===e?t:i[n]}),localStorage[this._sm_uid]=JSON.stringify(i)}},e.prototype._saveState=function(){this.addStateInfo(e.LAYOUT,o.Node.serialize(this._layoutService.layout)),this.addStateInfo(e.TAB_MANAGERS,this._tabService.getTabManagers())},e}();d.TAB_MANAGERS="tabManagers",d.LAYOUT="layoutModel",d.FRAME_LAYOUTS="frameLayouts",d.CHANNEL="SESSION_DATA_CHANNEL",d.MESSAGE_STARTUP_COMPLETE="SESSION_DATA_MESSAGE_STARTUP_COMPLETE",i.SessionDataService=d},{"../../util/tree/node":320,"../frameLayout/frame-layout.service":176,"../layout/layout.model":187,"../layout/layout.service":189,"../tab/tab.content.interface":227,"../tab/tab.manager":230,"../tab/tab.service":231}],221:[function(e,t,i){"use strict";var n;!function(e){e[e.BOOLEAN=0]="BOOLEAN",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER",e[e.OBJECT=3]="OBJECT"}(n=i.SettingType||(i.SettingType={}))},{}],222:[function(e,t,i){"use strict";var n=e("./setting.model.interface"),r=function(){function e(t){this._settingsStore=t,this._settings=_.cloneDeep(e.DEFAULT_SETTINGS)}return e.$inject=["settingsStore"],e.prototype.getSettings=function(){return _.clone(this._settings)},e.prototype.getSetting=function(e){var t=this;return this._settingsStore.findAll().then(function(i){var n=i.find(function(t){return t.id===e});return n?n:t.getDefaultSettings(e)})["catch"](function(){return t.getDefaultSettings(e)})},e.prototype.updateSetting=function(e){this._settingsStore.update(e.id,e)},e.prototype.getDefaultSettings=function(e){return this._settings.find(function(t){return t.id===e})},e}();r.DEFAULT_SETTINGS=[{id:"navigationbarExpanded",type:n.SettingType.BOOLEAN,value:!1},{id:"selectedRole",type:n.SettingType.OBJECT,value:{}},{id:"navigationbarSidebar",type:n.SettingType.BOOLEAN,value:!1,label:"setting.navigationbarSidebar",configurable:!1},{id:"minimizeSidebar",label:"setting.minimizeSidebar",type:n.SettingType.BOOLEAN,value:!1,configurable:!1,dependsOn:["navigationbarSidebar"]},{id:"guidedTourOnStartup",type:n.SettingType.BOOLEAN,value:!0},{id:"dashboardState",type:n.SettingType.OBJECT,value:{}}],i.SettingService=r},{"./setting.model.interface":221}],223:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"setting"})}n.$inject=["localStore"],i.settingStoreFactory=n},{}],224:[function(e,t,i){"use strict";var n=function(){function e(t,i){this.ENDPOINT="./rest/sharing",this.httpService=t,this.postal=i,this.channel=this.postal.channel(e.CHANNEL)}return e.$inject=["$http","postal"],e.prototype.getSharedUsers=function(e,t){return this.httpService.get(this.ENDPOINT,{params:{entityId:e,shareType:t}}).then(function(e){return e.data})},e.prototype.setSharedUsers=function(e){return this.httpService.post(this.ENDPOINT,e)},e.prototype.acceptSharedDashboard=function(t){var i=this;return this.httpService.post(this.ENDPOINT+"/dashboard/accept?entityId="+t,{}).then(function(t){return i.channel.publish(e.DASHBOARD_ACCEPTED,t.data),t.data})},e}();n.CHANNEL="SharingServiceChannel",n.DASHBOARD_ACCEPTED="DashboardShareAccepted",i.SharingService=n},{}],225:[function(e,t,i){"use strict";function n(){var e=new DSLocalStorageAdapter,t=new JSData.DS;return t.registerAdapter("localstorage",e,{"default":!0}),t}i.localStoreFactory=n},{}],226:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("../../util/url.helper"),a=function(e){function t(i,n,r,o,a,s,c){var l=e.call(this)||this;return l._labels={},l._articleUrl=null,l._animateService=i,l._httpService=s,l.channel=n.channel(t.CHANNEL),l._language=c,l._supportConfig||(l._supportConfig={msgType:"",msgCode:"",category:""}),o(["support.form.application","support.form.username","support.form.appRole","support.form.businessRole","support.form.email","support.form.phone","support.form.msgCode","support.form.appState","support.form.serviceGroup"]).then(function(e){l._labels=e}),r.getProperty("serviceNow.url").then(function(e){l.supportUrl=e.value}),a.getUser().then(function(e){l._user=e}),l}return n(t,e),t.$inject=["$animate","postal","workplaceContextService","$translate","userService","$http","language"],Object.defineProperty(t.prototype,"supportConfig",{get:function(){return this._supportConfig},set:function(e){var t=this;this._supportConfig=e,this._httpService.get("./rest/external/serviceNow?q="+this.supportConfig.msgCode+"&l="+this._language.lang).then(function(e){var i=e.data&&e.data.result&&e.data.result.results||[];t._articleUrl=i.length?1===i.length?t.supportUrl+"/"+i[0].url:t.supportUrl+"/sp?id=search&q="+t.supportConfig.msgCode+"&t=kb&l="+t._language.lang:null})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasArticle",{get:function(){return null!==this._articleUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"articleUrl",{get:function(){return this._articleUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incidentUrl",{get:function(){if(!this._user)return"";var e={};e[this._labels["support.form.application"]]=this.supportConfig.appName,e[this._labels["support.form.username"]]=this._user.name+" "+this._user.surname,e[this._labels["support.form.appRole"]]=this.supportConfig.appRole,e[this._labels["support.form.businessRole"]]=this._user.getSelectedRole()?this._user.getSelectedRole().roleDescription:null,e[this._labels["support.form.email"]]=this._user.email,e[this._labels["support.form.phone"]]=this._user.phone,e[this._labels["support.form.msgCode"]]=this.supportConfig.msgCode,e[this._labels["support.form.appState"]]=this.supportConfig.appState,e[this._labels["support.form.serviceGroup"]]=this.supportConfig.serviceGroup,e.subject=this.supportConfig.appName+" - "+this.supportConfig.msgCode;var t=o.UrlHelper.toQueryString(e).replace(/&/g,encodeURIComponent("&")).replace(/=/g,encodeURIComponent("="));return this.supportUrl+"/sp?id=sc_cat_item&sys_id=b1137cee4f752e009bc6df601310c723&auto-fill="+t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chatUrl",{get:function(){return this.supportUrl+"/$chat_support.do?queueID=37d8fe6737f712005b09303643990ec1"},enumerable:!0,configurable:!0}),t.prototype.show=function(){this._animateService.addClass(this.el,"animate-show")},t.prototype.hide=function(){var e=this;this._animateService&&this._animateService.removeClass(this.el,"animate-show").then(function(){e.channel.publish(t.TOPIC_HIDE),e.destroy()})},t.prototype.handleArticleClick=function(e){this.hasArticle&&window.open(this.articleUrl,"serviceNow")},t.prototype.onRenderComponent=function(e){this.el=e},t.prototype.destroy=function(){this._animateService=null,this.el=null,this.channel=null},t}(r.Component);a.CHANNEL="SupportOverlayChannel",a.TOPIC_HIDE="TOPIC_SUPPORT_OVERLAY_HIDE",i.SupportOverlay=a},{"../../util/url.helper":321,"../components/component":28}],227:[function(e,t,i){"use strict";var n;!function(e){e[e.IFRAME=0]="IFRAME",e[e.TEMPLATE=1]="TEMPLATE",e[e.FRAME_LAYOUT_TEMPLATE=2]="FRAME_LAYOUT_TEMPLATE"}(n=i.TabContentType||(i.TabContentType={}))},{}],228:[function(e,t,i){"use strict";function n(e){return o.Component.createRecursiveDirective(r.TabLayout,{restrict:"E",scope:{layout:"="},templateUrl:"app/tab/tab.layout.html"},e)}n.$inject=["$compile"];var r=e("./tab.layout"),o=e("../components/component");i.appTabLayoutDirective=n},{"../components/component":28,"./tab.layout":229}],229:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("./tab.manager"),a=function(e){function t(t){var i=e.call(this)||this;return i.maxTabs=o.TabManager.MAX_TABS,i._layoutService=t,i}return n(t,e),t.$inject=["layoutService"],t.prototype.dividerDown=function(e){this._layoutService.isLayoutDividerDragging=!0},t.prototype.dividerUp=function(e){this._layoutService.isLayoutDividerDragging=!1},t.prototype.dividerEndDrag=function(e){this._layoutService.isLayoutDividerDragging=!1},t.prototype.dividerMove=function(e){var i=this._el.offset(),n=this._el.width(),r=this._el.height();if("x"===this.ddAxis){var o=e.pageX-i.left;if(o>=t.MIN_SIZE_COL&&o<=n-t.MIN_SIZE_COL){var a=[+(o/n).toFixed(2),+((n-o)/n).toFixed(2)];this._layoutService.updateLayoutAspectRatio(this.layout,a)}}else{var o=e.pageY-i.top;if(o>=t.MIN_SIZE_ROW&&o<=r-t.MIN_SIZE_ROW){var a=[+(o/r).toFixed(2),+((r-o)/r).toFixed(2)];this._layoutService.updateLayoutAspectRatio(this.layout,a)}}},Object.defineProperty(t.prototype,"customClass",{get:function(){return this.layout.direction?"layout-"+this.layout.direction:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ddAxis",{get:function(){return"row"===this.layout.direction?"x":"y"},enumerable:!0,configurable:!0}),t.prototype.getStyleForContent=function(e){return this.layout.direction?{"flex-grow":+(this.layout.aspectRatio[e]/this.layout.aspectRatio[0]).toFixed(2)}:void 0},t.prototype.getStyleForLayout=function(e){if(e){var t=e.dimensions;return{top:100*t.top+"%",left:100*t.left+"%",right:100-(100*t.left+100*t.width)+"%",bottom:100-(100*t.top+100*t.height)+"%","margin-left":"row"===e.parent.direction&&e.parent&&e.parent.children.indexOf(e)>0?"12px":0}}return{}},t.prototype.hasMenu=function(e){var t=this.layout.parent,i=t.children.indexOf(this.layout);if(t.direction){if("row"===t.direction){if("left-titlebar"===e)return 0===i;if("right-titlebar"===e)return 1===i}return 0===i}return!0},t.prototype.onRenderComponent=function(e){this._el=e},t.prototype.destroy=function(){this._layoutService=null,this._el=null},t}(r.Component);a.MIN_SIZE_COL=520,a.MIN_SIZE_ROW=55,i.TabLayout=a},{"../components/component":28,"./tab.manager":230}],230:[function(e,t,i){"use strict";var n=e("./tab"),r=function(){function e(e,t){void 0===t&&(t={maxTabs:Number.POSITIVE_INFINITY});for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this.id=e,this.maxTabs=t.maxTabs,this.tabs=[],this.selectedTab=null}return e.$inject=["id","config"],e.factory=function(t,i){return{createInstance:function(n,r){var o=new e(n,r);return o._errorService=t,o._notificationService=i,o}}},e.factory.$inject=["errorService","notificationService"],Object.defineProperty(e.prototype,"selectedTab",{get:function(){return this._selectedTab},set:function(e){this._selectedTab=e},enumerable:!0,configurable:!0}),e.prototype.addTab=function(t,i){return void 0===i&&(i=null),null===i&&(i=this.tabs.length),this.tabs.length<this.maxTabs?void this.tabs.splice(i,0,new n.Tab(t)):(this._errorService.throwUserInputError(new Error("error.userInput.maxTabs"),{maxTabs:e.MAX_TABS}),void this._notificationService.showError("notification.max.tabs.reached"))},e.prototype.getTabById=function(e){var t=this.tabs.findIndex(function(t){return e===t.id});return t>-1?this.tabs[t]:null},e.prototype.removeTabByIndex=function(e){e>-1&&this.tabs.splice(e,1)},e.prototype.removeTabById=function(e){var t=this.tabs.findIndex(function(t){return e===t.id});return this.removeTabByIndex(t)},e.prototype.removeTab=function(e){return this.removeTabById(e.id)},e.prototype.replaceTab=function(e,t){var i=this.tabs.findIndex(function(t){return t.id===e});-1!==i&&(this.removeTabByIndex(i),this.addTab(t,i))},e.prototype.moveTab=function(e,t){var i=this.tabs.findIndex(function(t){return e===t.id});if(i>-1){var n=this.tabs.splice(i,1)[0];this.tabs.splice(t,0,n)}},e.prototype.moveTabToFront=function(e){return this.moveTab(e,0)},e.prototype.moveTabToBack=function(e){return this.moveTab(e,this.tabs.length)},e.prototype.selectTabById=function(e){var t=this.getTabById(e);this.tabs.forEach(function(e){e.active=!1}),t.neverSelected=!1,t.active=!0,this.selectedTab=t},e.prototype.selectDefault=function(){var e=_.last(this.tabs);e&&this.selectTabById(e.id)},e}();r.MAX_TABS=20,i.TabManager=r},{"./tab":232}],231:[function(e,t,i){"use strict";var n=e("./tab.content.interface"),r=e("../actionLog/action-constants"),o=function(){function e(t,i,n,r){this.tabManagers={},this.channel=t.channel(e.CHANNEL),this.channelAppSupport=t.channel(e.CHANNEL_APP_SUPPORT),this.channelTabSelection=t.channel(e.CHANNEL_TAB_SELECTION),this._tabManagerFactory=i,this._actionLogService=n,this._timeoutService=r}return e.$inject=["postal","tabManagerFactory","actionLogService","$timeout"],e.prototype.registerTabview=function(e,t){this.createTabmanager(e,t),this.tabManagerDefault||(this.tabManagerDefault=e)},e.prototype.createTabmanager=function(e,t){this.tabManagers[e]||(this.tabManagers[e]=this._tabManagerFactory.createInstance(e,t))},e.prototype.unregisterTabview=function(e){_.keys(this.tabManagers).length<=1||(this.tabManagers[e]=null,delete this.tabManagers[e],e===this.tabManagerDefault&&(this.tabManagerDefault=null),this.publishTabviewUnregisterMessage({tabviewId:e,tabId:null}))},e.prototype.getTabManager=function(e){return this.tabManagers[e]},e.prototype.getTabManagerDefault=function(){return this.getTabManager(this.tabManagerDefault)},e.prototype.isDefaultDashboardTab=function(e){return e.content.type!==n.TabContentType.TEMPLATE?!1:e.content.containsDashboard?"home"===e.content.dashboardParentName||"home"===e.content.dashboardName:!1},e.prototype.setTabviewDefault=function(e){var t=this.getTabManager(e);t&&(this.tabManagerDefault=t.id)},e.prototype.openTabAt=function(e,t,i,n){void 0===n&&(n=!0);var r=this.getTabManager(i);if(r||(r=this.getTabManagerDefault()),!r)throw new Error("TabService -> openTab: Cannot open tab without tabview.");r.addTab(e,t),n&&this.selectTab(e.id),this.publishTabAddMessage({tabviewId:r.id,tabId:e.id})},e.prototype.openTab=function(e,t,i){return void 0===i&&(i=!0),this.openTabAt(e,null,t,i)},e.prototype.findTabManagerForTabId=function(e){return Object.values(this.tabManagers).find(function(t){return null!==t.getTabById(e)})},e.prototype.findOpenTabsForApp=function(e){return _.flatten(Object.values(this.tabManagers).map(function(t){return t.tabs.filter(function(t){return t.id.startsWith(e.name)})}))},e.prototype.findOpenTabsForDashboard=function(e){return _.flatten(Object.values(this.tabManagers).map(function(t){return t.tabs.filter(function(t){return t.content.containsDashboard&&t.content.dashboardName===e})}))},e.prototype.closeTab=function(e){var t=this.findTabManagerForTabId(e);this.publishTabCloseMessage({tabviewId:t.id,tabId:e})},e.prototype.removeTab=function(e){var t=this.findTabManagerForTabId(e);if(t){var i=t.getTabById(e);t.removeTabById(e),i.active&&t.tabs&&0!==t.tabs.length&&(t.selectDefault(),this.publishTabSelectMessage({tabviewId:t.id,tabId:t.selectedTab.id})),this.publishTabRemoveMessage({tabviewId:t.id,tabId:e}),t.tabs.length<1&&this.unregisterTabview(t.id)}},e.prototype.replaceTab=function(e,t){var i=this.findTabManagerForTabId(e);if(!i)throw new Error("TabService -> replaceTab: Cannot replace a tab without a tabview.");i.replaceTab(e,t),this.selectTab(t.id)},e.prototype.refreshTab=function(e){var t=this.findTabManagerForTabId(e);this.publishTabRefreshMessage({tabviewId:t.id,tabId:e})},e.prototype.selectTab=function(e){var t=this.findTabManagerForTabId(e);if(t){var i=t.getTabById(e),r=i.neverSelected;if(t.selectTabById(e),this.tabManagerDefault=t.id,this.publishTabSelectMessage({tabviewId:t.id,tabId:e}),i.content.type===n.TabContentType.IFRAME&&r){var o=i.content;this.publishFirstSelectedAppTab({appName:o.app.name})}}},e.prototype.moveTabToBack=function(e){var t=this.findTabManagerForTabId(e);t&&(t.moveTabToBack(e),this.publishTabMoveMessage({tabviewId:t.id,tabId:e}))},e.prototype.moveTabToIndex=function(e,t,i,n){var r=this;void 0===n&&(n=!0);var o;if(i){var a=this.findTabManagerForTabId(e),s=a.getTabById(e);if(o=this.getTabManager(i),a.id===o.id)return;this.removeTab(e),"undefined"==typeof t&&(t=o.tabs.length),this._timeoutService(function(){return r.openTabAt(s,t,i,n)})}else o=this.findTabManagerForTabId(e),"undefined"==typeof t&&(t=o.tabs.length),o.moveTab(e,t);this.publishTabMoveMessage({tabviewId:o.id,tabId:e})},e.prototype.moveAllTabsTo=function(e){
var t=this;Object.keys(this.tabManagers).filter(function(t){return t!==e}).forEach(function(i){return t.moveAllTabsFromTo(i,e)})},e.prototype.moveAllTabsFromTo=function(e,t){var i=this,n=this.getTabManager(e),r=_.clone(n.tabs);r.forEach(function(e){i.moveTabToIndex(e.id,void 0,t)})},e.prototype.splitTabview=function(e){var t=_.uniqueId(e.tabviewId+"-split-"+e.direction+"-");this.createTabmanager(t),this.moveTabToIndex(e.tabId,e.index,t,!e.skipSelection),this._actionLogService.logAction({category:r.ActionConstants.CATEGORY_GENERAL,action:r.ActionConstants.ACTION_SPLIT_SCREEN}),this.publishTabviewSplitMessage({tabviewId:e.tabviewId,tabId:e.tabId,split:{newTabViewId:t,direction:e.direction,index:e.index}})},e.prototype.getTabById=function(e){var t=this.findTabManagerForTabId(e);return t?t.getTabById(e):void 0},e.prototype.getTabCount=function(){return Object.values(this.tabManagers).reduce(function(e,t){return e+t.tabs.length},0)},e.prototype.getTabManagers=function(){return this.tabManagers},e.prototype.showAppSupportOverlay=function(t,i,n){void 0===n&&(n=0),this.channelAppSupport.publish(e.TOPIC_APP_SUPPORT,{tabId:t,supportConfig:i,timeout:n})},Object.defineProperty(e.prototype,"onlyDashboardsActive",{get:function(){var e=Object.keys(this.tabManagers);if(!e||e.length<2)return this.getTabManagerDefault().selectedTab.content.type===n.TabContentType.TEMPLATE;for(var t,i=0,r=e;i<r.length;i++){var o=r[i];if(t=this.tabManagers[o].selectedTab,t&&t.content&&null!==t.content&&(t.content.type!==n.TabContentType.TEMPLATE||!t.content.containsDashboard))return!1}return!0},enumerable:!0,configurable:!0}),e.prototype.publishTabAddMessage=function(t){this.channel.publish(e.TOPIC_TAB_ADD,t)},e.prototype.publishTabRemoveMessage=function(t){this.channel.publish(e.TOPIC_TAB_REMOVE,t)},e.prototype.publishTabMoveMessage=function(t){this.channel.publish(e.TOPIC_TAB_MOVE,t)},e.prototype.publishTabSelectMessage=function(t){this.channel.publish(e.TOPIC_TAB_SELECT,t)},e.prototype.publishTabviewSplitMessage=function(t){this.channel.publish(e.TOPIC_TABVIEW_SPLIT,t)},e.prototype.publishFirstSelectedAppTab=function(t){this.channelTabSelection.publish(e.TOPIC_FIRST_TAB_SELECTION_WITH_APP,t)},e.prototype.publishTabviewUnregisterMessage=function(t){this.channel.publish(e.TOPIC_TABVIEW_UNREGISTER,t)},e.prototype.publishTabCloseMessage=function(t){this.channel.publish(e.TOPIC_TAB_CLOSE,t)},e.prototype.publishTabRefreshMessage=function(t){this.channel.publish(e.TOPIC_TAB_REFRESH,t)},e.prototype.destroy=function(){this.channel=null},e}();o.CHANNEL="ChannelTabService",o.CHANNEL_APP_SUPPORT="ChannelAppServiceTabService",o.CHANNEL_TAB_SELECTION="ChannelTabSelection",o.TOPIC_TAB_ADD="TabServiceTabAdd",o.TOPIC_TAB_REMOVE="TabServiceTabRemove",o.TOPIC_TAB_MOVE="TabServiceTabMove",o.TOPIC_TAB_CLOSE="TabServiceTabClose",o.TOPIC_TAB_REFRESH="TabServiceTabRefresh",o.TOPIC_TAB_SELECT="TabServiceTabSelected",o.TOPIC_TABVIEW_SPLIT="TabServiceTabviewSplit",o.TOPIC_TABVIEW_UNREGISTER="TabServiceTabviewUnregister",o.TOPIC_APP_SUPPORT="TabServiceTabviewAppSupport",o.TOPIC_FIRST_TAB_SELECTION_WITH_APP="FirstTabSelectionWithApp",i.TabService=o},{"../actionLog/action-constants":1,"./tab.content.interface":227}],232:[function(e,t,i){"use strict";var n=function(){function e(e){this.active=!1,this.visible=!0,this.refreshable=!1,this.closeable=!0,this.waitForClose=!1,this.neverSelected=!0,this.contextMenuExpanded=!1,this.id=e.id,this.iconCls=e.iconCls,this.providedTitle=e.providedTitle,this.title=e.title||e._title,this.content=e.content,"undefined"!=typeof e.active&&(this.active=e.active),"undefined"!=typeof e.visible&&(this.visible=e.visible),"undefined"!=typeof e.refreshable&&(this.refreshable=e.refreshable),"undefined"!=typeof e.closeable&&(this.closeable=e.closeable),"undefined"!=typeof e.waitForClose&&(this.waitForClose=e.waitForClose)}return e.$inject=["data"],Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=this.providedTitle?this.providedTitle:e},enumerable:!0,configurable:!0}),e}();i.Tab=n},{}],233:[function(e,t,i){"use strict";var n=e("./tasks.service"),r=function(){function e(){this._pollingInterval=0}return e.prototype.setPollingInterval=function(e){this._pollingInterval=e},e.prototype.$get=function(e,t,i,r,o,a){return new n.TasksService(e,t,i,this._pollingInterval,r,o,a)},e.prototype.$get.$inject=["tasksStore","$translate","$interval","notificationService","language","appsService"],e}();i.TasksPolling=r},{"./tasks.service":234}],234:[function(e,t,i){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;n>i;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=e("../apps/application.model.interface"),o=e("../components/task/tasks"),a=e("../app.icons"),s=function(){function e(e,t,i,n,r,o,a){this.tasksLoaded=!1,this.comError=!1,this.tasks=[],this._appsService=a,this._tasksStore=e,this._translateService=t,this._pollingInterval=n,this._interval=i,this._notificationService=r,this._language=o}return e.$inject=["tasksStore","$translate","$interval","pollingInterval","notificationService","langauge","appsService"],e.prototype.openTask=function(e,t){var i=this;return void 0===t&&(t={}),e.system===o.TASK_SYSTEMS.NEXTONE?(t=e.parentId?n({},t,{taskId:e.parentId,subtaskId:e.id}):n({},t,{taskId:e.id}),void this._appsService.openAppByName({name:r.APP_TASKS_MANAGER,queryParams:t})):void this._appsService.getApp(e.system).then(function(t){var n=_.cloneDeep(t);n.url=e.taskLink,i._appsService.openApp(n)})["catch"](function(){e.taskLink&&window.open(e.taskLink)})},e.prototype.getTasks=function(){var e=this;return this._tasksStore.findAll({lang:this._language.lang},{bypassCache:!0,noCache:!0,errorNotification:{511:!0},method:"post",data:{name:"showAll",value:null}}).then(function(t){return e.tasks=t,e.comError=!1,e.tasksLoaded=!0,e.tasks})["catch"](function(){return e.comError=!0,[]})},e.prototype.startPolling=function(){var e=this;this.getTasks().then(function(t){var i=t;e._interval(function(){e.getTasks().then(function(t){i.length!==t.length&&e._notificationService.showInfo("tasks.message.newTasks"),i=t})},e._pollingInterval)})},e.prototype.getWorkplaceTaskDeepLink=function(e,t){void 0===t&&(t=!1);var i=""+window.location.origin+window.location.pathname+"#/app/"+r.APP_TASKS_MANAGER+"/";return t===!0?i:e?e.parentId&&null!==e.parentId?i+"taskId="+e.parentId+"&subtaskId="+e.id:i+"taskId="+e.id:null},e.prototype.getTaskIcon=function(e){switch(e.system){case o.TASK_SYSTEMS.DBKR:return a.Icons.TASK_DBKR;case o.TASK_SYSTEMS.NEXTONE:return a.Icons.TASK_NEXTONE;case o.TASK_SYSTEMS.GAMS:return a.Icons.TASK_GAMS;case o.TASK_SYSTEMS.PQM:return a.Icons.TASK_PQM;case o.TASK_SYSTEMS.QMT:return a.Icons.TASK_QMT;default:return a.Icons.APP_DEFAULT}},e}();i.TasksService=s},{"../app.icons":6,"../apps/application.model.interface":14,"../components/task/tasks":140}],235:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"tasks",endpoint:"./rest/tasks/usertasks",watchChanges:!1})}n.$inject=["DS"],i.tasksStoreFactory=n},{}],236:[function(e,t,i){"use strict";var n=function(){function e(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=null),this.roleId=e.roleId,this.roleDescription=e.roleDescription,this.tenantAdmin=e.tenantAdmin,this.sortPos=e.sortPos,this.responsible=e.responsible,this.diffValues=e.diffValues||[],this.arrayMap={},this.substitute=t,this.substitutedUser=i}return e.$inject=["iRole","substitute","substitutedUser"],e.prototype.getDiffValues=function(e,t){void 0===t&&(t=!0);var i=this.arrayMap[e];return _.isArray(i)?i:this.assembleList(e,t)},e.prototype.assembleList=function(e,t){void 0===t&&(t=!0);var i=[];return this.diffValues.forEach(function(t){t.type!==e||_.isEmpty(t.value)||i.push(t.value)}),t&&(this.arrayMap[e]=i),i},e}();n.DIFF_VALUE_MODULEORG="moduleOrg",n.DIFF_VALUE_PLORG="plOrg",n.DIFF_VALUE_DERIVATIVE="derivative",i.Role=n},{}],237:[function(e,t,i){"use strict";var n=e("./role.model"),r=function(){function e(e){var t=this;e&&(this.uid=e.uid,this.name=e.name,this.surname=e.surname,this.userId=e.userId,this.email=e.email,this.phone=e.phone,this.roles=e.roles?e.roles.map(function(e){return new n.Role(e)}):[],_.isArray(e.substitutedUsers)&&(e.substitutedUsers.forEach(function(e){return e.substitutedRoles=e.substitutedRoles.map(function(i){return t.roles.push(new n.Role(i,!0,e.userInfo)),new n.Role(i,!0)})}),this.substitutedUsers=e.substitutedUsers),this.external=e.external,this.strongAuth=e.strongAuth,this.selectedRole=e.currentRole)}return e.$inject=["data"],Object.defineProperty(e.prototype,"currentRole",{get:function(){var e;return(e=this.getSelectedRole())?e.roleDescription:""},enumerable:!0,configurable:!0}),e.prototype.getSelectedRole=function(){var e=this,t=this.roles.find(function(t){return t===e.selectedRole});return t?t:this.roles.length>0?this.roles[0]:null},e.prototype.selectRole=function(e){this.selectedRole=e},e.prototype.hasQNumber=function(){return"undefined"!=typeof this.userId&&null!==this.userId&&""!==this.userId},e}();i.User=r},{"./role.model":236}],238:[function(e,t,i){"use strict";var n=e("./user.model"),r=function(){function e(t,i,n,r,o,a,s,c){var l=this;this._qService=t,this._userStore=i,this._translateService=n,this._settingService=a,this._postal=r,this.channel=r.channel(e.CHANNEL),this._notificationService=o,this._settingService.getSetting("selectedRole").then(function(e){return l._selectedRoleSetting=e}),this._logService=s,this._language=c}return e.$inject=["$q","userStore","$translate","postal","notificationService","settingService","$log","language"],Object.defineProperty(e.prototype,"user",{get:function(){return this._user},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedUserRole",{get:function(){return this._user?this._user.getSelectedRole():null},enumerable:!0,configurable:!0}),e.prototype.selectRole=function(t){var i=this._user.roles?this._user.roles.find(function(e){return e.roleId===t.roleId}):null;i&&(this._selectedRoleSetting.value=i,this._settingService.updateSetting(this._selectedRoleSetting),this.channel.publish(e.TOPIC_SELECTED_ROLE_CHANGED,{user:this._user,selectedRole:this.selectedUserRole}))},e.prototype.getUser=function(){var e=this,t=this._qService.defer();return this._user?t.resolve(this._user):this._userStore.find("users",{params:{lang:this._language.lang},noCache:!0}).then(function(i){if(!e._user){var r=new n.User(i),o=e.getCurrentRole(r);r.selectedRole=o?o:r.roles[0],e._user=r,e._logService.info("UserService -> getUser: strongAuth="+e._user.strongAuth)}t.resolve(e._user)})["catch"](function(){return t.reject()}),t.promise},e.prototype.refreshUserInfo=function(t){var i=this;this._userStore.find("users",{params:{lang:this._language.lang},noCache:!0}).then(function(t){var r=new n.User(t),o=i.getCurrentRole(r);r.selectedRole=o?o:r.roles&&0!==r.roles.length?r.roles[0]:null,i._user=r,i._logService.info("UserService -> getUser: strongAuth="+i._user.strongAuth),i.channel.publish(e.TOPIC_ROLES_UPDATED,{user:i._user,selectedRole:i.selectedUserRole})})},e.prototype.getCurrentRole=function(e){var t=this;return e.roles?e.roles.find(function(e){return e.roleId===t._selectedRoleSetting.value.roleId&&e.substitute===t._selectedRoleSetting.value.substitute}):null},e}();r.CHANNEL="UserServiceChannel",r.TOPIC_SELECTED_ROLE_CHANGED="UserServiceTopicRoleChanged",r.TOPIC_ROLES_UPDATED="TopicRolesUpdated",i.UserService=r},{"./user.model":237}],239:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"user",useClass:r.User,computed:{id:function(){return"user"}},endpoint:"./rest",watchChanges:!1})}n.$inject=["DS"];var r=e("./user.model");i.userStoreFactory=n},{"./user.model":237}],240:[function(e,t,i){"use strict";var n=function(){function e(t,i,n,r,o,a){this._store=t,this._httpService=i,this._postal=o,this.channel=this._postal.channel(e.CHANNEL),this._deviceService=n,this._language=a,this._workplaceContextService=r}return e.$inject=["userSettingsStore","$http","deviceService","workplaceContextService","postal","language"],e.prototype.getTermsOfUse=function(){return this._httpService({method:"GET",url:"./rest/users/termsOfUse",params:{lang:this._language.lang}}).then(function(e){return e?e:void 0})["catch"](function(e){console.log("Terms of use error: ",e)})},e.prototype.getSettings=function(){return this._store.findAll({lang:this._language.lang,deviceType:this._deviceService.device,demoMode:this._workplaceContextService.demoMode}).then(function(e){return e})},e.prototype.getSettingByDescription=function(e){return this.getSettings().then(function(t){var i=t.find(function(t){return t.description===e});return i?i:null})},e.prototype.refreshSettings=function(){var t=this;return this._store.findAll({lang:this._language.lang,deviceType:this._deviceService.device,demoMode:this._workplaceContextService.demoMode},{bypassCache:!0,nocache:!0}).then(function(i){return t.channel.publish(e.USER_SETTINGS_REFRESHED,i),i})},e.prototype.getStartupSettings=function(){return this.getSettingByDescription("startup")},e.prototype.updateSetting=function(e){return this._store.update(e.id,e).then(function(e){return e})},e.prototype.autoStartDashboard=function(e){return this.getStartupSettings().then(function(t){if(!t||null===t||!t.optionsList||null===t.optionsList)return!1;var i=_.findIndex(t.optionsList,function(t){return t.values.includes(e)&&"startdashboard"===t.description});return-1!==i})},e}();n.CHANNEL="UserSettingsServiceChannel",n.USER_SETTINGS_REFRESHED="UserSettingsRefreshed",i.UserSettingService=n},{}],241:[function(e,t,i){"use strict";function n(e){return e.defineResource({name:"userSetting",idAttribute:"id",endpoint:"./rest/user/settings",watchChanges:!1})}n.$inject=["DS"],i.userSettingStoreFactory=n},{}],242:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./tlt-chart"),o=e("../../user/role.model"),a=function(){function e(){}return e.prototype.getOpenAppUrl=function(e,t,i){return e},e.prototype.getOpenUrlByRole=function(e,t,i,n){return this.getOpenAppUrl(e[t],i,n)},e}();i.ChartAdapter=a;var s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.getOpenAppUrl=function(e,t,i){var n=e;return t&&(n=n.split("/"),_.keys(t).forEach(function(e){t[e].forEach(function(t){n[3]=n[3]+(n[3].length?"&":"")+e+"="+t.value})}),n=n.join("/")),i&&null!==i&&_.contains(r.TltChart.SPECIAL_ROLES,i.roleId)&&(n=n.split("/"),n[3]=n[3]+(n[3].length?"&":"")+"filterAllSebe=sub"+i.getDiffValues(o.Role.DIFF_VALUE_MODULEORG).join("&filterAllSebe=sub"),n=n.join("/")),n},t}(a);i.TltChartAdapter=s;var c=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.getOpenUrlByRole=function(e,t,i,n){var r=e[t];return i&&(r=r.split("/"),_.keys(i).forEach(function(t){return t===o.Role.DIFF_VALUE_MODULEORG?void(r[3]=r[3]+(r[3].length?"&":"")+t+"="+e.x+(4===e.x.length?"&filterAllSebe=sub"+e.x:"")):void i[t].forEach(function(e){r[3]=r[3]+(r[3].length?"&":"")+t+"="+e.value})}),r=r.join("/")),r},t}(s);i.TltBarChartAdapter=c},{"../../user/role.model":236,"./tlt-chart":255}],243:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.BarChartWidget,{restrict:"E",templateUrl:"app/widget/chart/chart.bar.html"})}var r=e("./../widget"),o=e("./chart.bar");i.barChartWidgetDirective=n},{"./../widget":289,"./chart.bar":244}],244:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./d3-widget"),o=e("./chart.adapter.model"),a=function(e){function t(t,i,n,r,o,a,s,c){return e.call(this,t,i,n,r,o,a,s,c)||this}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],t.prototype.createAdapter=function(){this.chartWidgetAdapter=new o.ChartAdapter},t.prototype.accessCategory=function(e){return e[this.definition.settings.category]},t.prototype.accessValue=function(e){return e[this.definition.settings.value]},t.prototype.removeChart=function(){this._canvas&&this._canvas.remove()},t.prototype.renderChart=function(e,i){var n=this,r=this.definition.settings,o=r.margin||t.MARGIN,a=.1,s=i.data;this.removeChart();var c=e.width()-o.left-o.right,l=e.height()-o.top-o.bottom,d=d3.scale.ordinal().rangeRoundBands([0,c],a),p=d3.scale.linear().range([l,0]),u=d3.svg.axis().scale(d).tickSize(0).tickPadding(6).orient("bottom");this._canvas=d3.select(e.get(0)).append("svg");var h=this._canvas.attr("width",c+o.left+o.right).attr("height",l+o.top+o.bottom).append("g").attr("transform","translate("+o.left+", "+o.top+")");d.domain(s.map(function(e){return n.accessCategory(e)})),p.domain([0,d3.max(s,function(e){return n.accessValue(e)})]),h.selectAll(".label").data(s).enter().append("text").attr("class","valueLabel").text(function(e){return n.accessValue(e)}).attr({x:function(e){return d(n.accessCategory(e))},y:function(e){return p(n.accessValue(e))},transform:function(){var e=this.getBBox();return"translate("+(d.rangeBand()/2-e.width/2)+", -5)"}});var g=Math.min(d.rangeBand(),t.BAR_WIDTH_MAX);h.selectAll(".bar").data(s).enter().append("rect").attr("class",function(e,t){var i=["bar"];return n.getColumnForRole("link")&&i.push("role-link"),i.push("fill-color-"+(t%2?"even":"odd")),i.push("fill-color-"+(t+1)),i.join(" ")}).attr("x",function(e){return d(n.accessCategory(e))+(d.rangeBand()-g)/2}).attr("width",g).attr("y",function(e){return p(n.accessValue(e))}).attr("height",function(e){return l-p(n.accessValue(e))}).on("click",function(e,t){n.handleRole("link",e)}),h.append("g").attr("class","x axis").attr("transform","translate(0, "+l+")").call(u),h.selectAll(".x.axis .domain").attr("transform","translate(0, -0.5)");var m=h.selectAll(".x.axis .tick text"),v=[];m.each(function(){var e=this.getBBox();v.push(e.width)}),Math.max.apply(Math,v)>d.rangeBand()+2*a&&m.attr({transform:function(e,t){var i=this.getBBox();return t%2?void 0:"translate(0, "+i.height+")"}})},t.prototype.getDefaultIcon=function(){return null},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._canvas.remove(),this._canvas=null},t}(r.D3Widget);a.MARGIN={top:20,right:20,bottom:60,left:20},a.BAR_WIDTH_MAX=45,i.BarChartWidget=a},{"./chart.adapter.model":242,"./d3-widget":253}],245:[function(e,t,i){"use strict";function n(){return function(e,t,i){return t||(i+1).toFixed(0)}}i.chartColorFilterFactory=n},{}],246:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.Chart,{restrict:"E",templateUrl:"app/widget/chart/chart.html"})}var r=e("./../widget"),o=e("./chart");i.chartWidgetDirective=n},{"./../widget":289,"./chart":252}],247:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./d3-widget"),o=function(e){function t(t,i,n,r,o,a,s,c){return e.call(this,t,i,n,r,o,a,s,c)||this}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],t.prototype.accessCategory=function(e){return e[this.definition.settings.category]},t.prototype.accessValue=function(e){return e[this.definition.settings.value]},t.prototype.removeChart=function(){this._canvas&&this._canvas.remove()},t.prototype.getDefaultIcon=function(){return null},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._canvas.remove(),this._canvas=null},t}(r.D3Widget);o.MARGIN={top:20,right:20,bottom:60,left:20},i.LineChart=o},{"./d3-widget":253}],248:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.PieChartWidget,{restrict:"E",templateUrl:"app/widget/chart/chart.pie.html"})}var r=e("./../widget"),o=e("./chart.pie");i.pieChartWidgetDirective=n},{"./../widget":289,"./chart.pie":249}],249:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./d3-widget"),o=e("./chart.adapter.model"),a=function(e){function t(t,i,n,r,o,a,s,c){return e.call(this,t,i,n,r,o,a,s,c)||this}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],t.prototype.createAdapter=function(){this.chartWidgetAdapter=new o.ChartAdapter},t.prototype.accessCategory=function(e){return e[this.definition.settings.category]},t.prototype.accessValue=function(e){return e[this.definition.settings.value]},t.prototype.removeChart=function(){this._canvas&&this._canvas.remove()},t.prototype.renderChart=function(e,t){var i=this,n=t.data;if(this.removeChart(),n=n.filter(function(e){return e.count>0}),0===n.length)return void this.translationService(this.definition.title).then(function(e){i.translationService("widget.noData",{name:e}).then(function(e){i.noData=e})});var r=e.width(),o=e.height(),a=Math.min(r,o)/2,s=d3.svg.arc().outerRadius(a-10).innerRadius(0),c=d3.layout.pie().sort(null).value(function(e){return i.accessValue(e)});this._canvas=d3.select(e.get(0)).append("svg").attr("width",r).attr("height",o);var l=this._canvas.append("g").attr("transform","translate("+r/2+","+o/2+")"),d=l.selectAll(".arc").data(c(n)).enter().append("g").attr("class","arc").attr("class",function(e){var t,n=["arc"];return i.getColumnForRole("link")&&n.push("role-link"),(t=i.getColumnForRole("color"))&&n.push("fill-color-"+e.data[t.id]),n.join(" ")}).on("mouseenter",function(){d3.select(this).transition().attr({transform:"scale(1.05,1.05)"})}).on("mouseleave",function(){d3.select(this).transition().attr({transform:"scale(1,1)"})}).on("click",function(e){i.handleRole("link",e.data)});d.append("path").attr("d",s),d.append("text").attr("transform",function(e){return"translate("+s.centroid(e)+")"}).attr("dy",".35em").style("text-anchor","middle").text(function(e){return 0!==i.accessValue(e.data)?i.accessValue(e.data):void 0})},t.prototype.getDefaultIcon=function(){return null},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._canvas.remove(),this._canvas=null},t}(r.D3Widget);i.PieChartWidget=a},{"./chart.adapter.model":242,"./d3-widget":253}],250:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.StackedBarChartWidget,{restrict:"E",templateUrl:"app/widget/chart/chart.stacked.bar.html"})}var r=e("./../widget"),o=e("./chart.stacked.bar");i.stackedBarChartWidgetDirective=n},{"./../widget":289,"./chart.stacked.bar":251}],251:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./d3-widget"),o=e("./chart.adapter.model"),a=function(e){function t(t,i,n,r,o,a,s,c){return e.call(this,t,i,n,r,o,a,s,c)||this}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],t.prototype.createAdapter=function(){this.chartWidgetAdapter=new o.TltBarChartAdapter},t.prototype.removeChart=function(){this._canvas&&this._canvas.remove()},t.prototype.renderChart=function(e,i){var n=this,r=this.definition.settings,o=r.margin||t.MARGIN,a=.1,s=i.data;if(this.removeChart(),s&&0!==s.length){var c=e.width()-o.left-o.right,l=e.height()-o.top-o.bottom,d=d3.scale.ordinal().rangeRoundBands([0,c],a),p=d3.scale.linear().range([l,0]);s=_.isArray(s)?s:[s];var u=s[0].values.map(function(e,t){return s.map(function(e){return{x:e.label,y:+e.values[t].count,status:e.values[t].status,url:e.values[t].url}}).sort(function(e,t){return _.isUndefined(e.x)||_.isUndefined(t.x)||null===e.x||null===t.x?0:e.x.length===t.x.length?e.x.toLowerCase()<t.x.toLowerCase()?-1:1:t.x.length-e.x.length})}),h=d3.layout.stack()(u);this._canvas=d3.select(e.get(0)).append("svg");var g=this._canvas.attr("width",c+o.left+o.right).attr("height",l+o.top+o.bottom).append("g").attr("transform","translate("+o.left+", "+o.top+")");d.domain(h[0].map(function(e){return e.x})),p.domain([0,d3.max(h,function(e){return d3.max(e,function(e){return e.y0+e.y})})]);var m=d3.svg.axis().scale(d).tickSize(0).tickPadding(6).orient("bottom"),v=d3.svg.axis().scale(p).orient("left").tickPadding(6).tickSize(0).ticks(5);g.append("g").attr("class","y axis").call(v),g.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(m),g.selectAll(".x.axis .tick").on("click",function(e){return n.handleRole("link",u[0][_.findIndex(u[0],function(t){return e===t.x})])});var f=g.selectAll("g.bar").data(u).enter().append("g").attr("class","bar"),b=g.append("g").attr("class","tooltip-chart").style("display","none");b.append("rect").attr("fill","white").style("opacity",.5),b.append("text").attr("x",15).attr("dy","1.2em").style("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold");var y,S;this.translationService(["widget.dali.punkte.blue","widget.dali.punkte.red"]).then(function(e){y=e["widget.dali.punkte.blue"],S=e["widget.dali.punkte.red"]});var w=Math.min(d.rangeBand(),t.BAR_WIDTH_MAX);f.selectAll("rect").data(function(e){return e}).enter().append("rect").attr("x",function(e){return d(e.x)+(d.rangeBand()-w)/2}).attr("y",function(e){return p(e.y0+e.y)}).attr("height",function(e){return p(e.y0)-p(e.y0+e.y)}).attr("width",w).attr("class",function(e){var t=["bar"];return n.getColumnForRole("link")&&t.push("role-link"),t.push("fill-color-"+("red"===e.status?"red":"blue")),t.join(" ")}).on("mouseover",function(){return b.style("display",null)}).on("mouseout",function(){return b.style("display","none")}).on("mousemove",function(e){var t=d3.mouse(this)[0]-15,i=d3.mouse(this)[1]-25,n="red"===e.status?S:y;b.attr("transform","translate("+t+","+i+")"),b.select("text").text(n+": "+e.y)}).on("click",function(e){return n.handleRole("link",e)})}},t.prototype.getDefaultIcon=function(){return null},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._canvas&&(this._canvas.remove(),this._canvas=null)},t}(r.D3Widget);a.MARGIN={top:20,right:20,bottom:60,left:40},a.BAR_WIDTH_MAX=45,i.StackedBarChartWidget=a},{"./chart.adapter.model":242,"./d3-widget":253}],252:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./chart.pie"),o=e("./chart.bar"),a=e("./d3-widget"),s=e("./chart.adapter.model"),c=function(e){function t(t,i,n,r,o,a,s,c){var l=e.call(this,t,i,n,r,o,a,s,c)||this;return l.createChart(t,i,n,r,o,a,s,c),l}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],t.prototype.createChart=function(e,t,i,n,a,s,c,l){switch(this.definition.settings.type){case"pie":this.chart=new r.PieChartWidget(e,t,i,n,a,s,c,l);break;case"bar":this.chart=new o.BarChartWidget(e,t,i,n,a,s,c,l)}this.chart.definition=this.definition,this.chart.onDestroy=this.onDestroy},t.prototype.createAdapter=function(){this.chartWidgetAdapter=new s.ChartAdapter},Object.defineProperty(t.prototype,"noData",{get:function(){return this.chart?this.chart.noData:void 0},set:function(e){this.chart&&(this.chart.noData=e)},enumerable:!0,configurable:!0}),t.prototype.renderChart=function(e,t){return angular.isDefined(t)&&0!==t.data.length?void(this.chart&&this.chart.renderChart(this.el,t)):void this.removeChart()},t.prototype.removeChart=function(){this.chart&&this.chart.removeChart()},t.prototype.destroy=function(){this.chart.destroy(),e.prototype.destroy.call(this)},t.prototype.getDefaultIcon=function(){return null},t}(a.D3Widget);i.Chart=c},{"./chart.adapter.model":242,"./chart.bar":244,"./chart.pie":249,"./d3-widget":253}],253:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=e("../../actionLog/action-constants"),a=function(e){function t(t,i,n,r,o,a,s,c){return e.call(this,t,i,n,r,o,a,s,c)||this}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],t.prototype.getAdapter=function(){return this.chartWidgetAdapter||this.createAdapter(),this.chartWidgetAdapter},t.prototype.getColumnForRole=function(e){return this.definition.columns.find(function(t){return t.role===e})},t.prototype.getValueForRole=function(e,t){var i=this.getColumnForRole(e);return i?t[i.id]:void 0},t.prototype.handleRole=function(e,t){var i=this.getColumnForRole(e);if(i)switch(e){case"link":this.actionLogService.logAction({category:o.ActionConstants.CATEGORY_DASHBOARD,action:o.ActionConstants.ACTION_WIDGET_CHART_LINK,actionInfo:this.definition.widgetDefinitionId}),this.workplaceApiService.openAppByUrl(this.getAdapter().getOpenUrlByRole(t,i.id,this.workplaceContextService.getMergedContext(this._userService.selectedUserRole&&this._userService.selectedUserRole.diffValues?this._userService.selectedUserRole.diffValues:[],this.contextDiffValues,this.definition.dataUrlContextParams),this._userService.selectedUserRole));break;case"url":this.actionLogService.logAction({category:o.ActionConstants.CATEGORY_DASHBOARD,action:o.ActionConstants.ACTION_WIDGET_CHART_LINK,actionInfo:this.definition.widgetDefinitionId}),window.open(t[i.id])}},t.prototype.handleContextClick=function(e){var t=this.definition.settings.contextLinkUrl;t&&(this.actionLogService.logAction({category:o.ActionConstants.CATEGORY_DASHBOARD,action:o.ActionConstants.ACTION_WIDGET_CHART_LINK,actionInfo:this.definition.widgetDefinitionId}),this.workplaceApiService.openAppByUrl(this.getAdapter().getOpenAppUrl(t,this.workplaceContextService.getMergedContext(this._userService.selectedUserRole&&this._userService.selectedUserRole.diffValues?this._userService.selectedUserRole.diffValues:[],this.contextDiffValues,this.definition.dataUrlContextParams),this._userService.selectedUserRole)))},t}(r.Widget);i.D3Widget=a},{"../../actionLog/action-constants":1,"../widget":289}],254:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.TltChart,{restrict:"E",templateUrl:"app/widget/chart/chart.html"})}var r=e("./../widget"),o=e("./tlt-chart");i.tltChartWidgetDirective=n},{"./../widget":289,"./tlt-chart":255}],255:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("./chart"),o=e("./chart.adapter.model"),a=function(e){function t(t,i,n,r,o,a,s,c){return e.call(this,t,i,n,r,o,a,s,c)||this}return n(t,e),t.prototype.createChart=function(t,i,n,r,o,a,s,c){e.prototype.createChart.call(this,t,i,n,r,o,a,s,c),this.chart.mergedContext=this.mergedContext,this.chart.contextDiffValues=this.contextDiffValues,this.chart.definition=this.definition,this.chart.dashboardContext=this.dashboardContext},t.prototype.createAdapter=function(){this.chartWidgetAdapter=new o.TltChartAdapter},t}(r.Chart);a.SPECIAL_ROLES=["BE_TL","SE_TL"],i.TltChart=a},{"./chart":252,"./chart.adapter.model":242}],256:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.DashboardLink,{restrict:"E",templateUrl:"app/widget/dashboard-link/dashboard-link.html"
})}var r=e("../widget"),o=e("./dashboard-link");i.dashboardLinkWidgetDirective=n},{"../widget":289,"./dashboard-link":257}],257:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=e("../../notification/notification.service"),a=function(e){function t(t,i,n,r,o,a,s,c,l,d,p,u){var h=e.call(this,t,i,n,r,o,s,c,d)||this;return h._dashboardService=p,h._frameLayoutService=u,h}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","deviceService","notificationService","$translate","imageService","actionLogService","dashboardService","frameLayoutService"],t.prototype.openDashboard=function(){var e=this;"dashboard"===this.definition.customSettings.type||"dashboard-link"===this.definition.customSettings.type?this._dashboardService.getDashboard(this.definition.customSettings.name).then(this._dashboardService.openDashboard.bind(this._dashboardService),function(){return(e.definition.customSettings.parentName?e._dashboardService.getDashboard(e.definition.customSettings.parentName):e._dashboardService.findSystemDashboardClone(e.definition.customSettings.name)).then(e._dashboardService.openDashboard.bind(e._dashboardService))})["catch"](function(){return postal.publish({channel:o.NotificationService.CHANNEL,topic:o.NotificationService.TOPIC_MESSAGE,data:{type:"error",message:"dashboard.widget.system.dash.reset.error"}})}):this._frameLayoutService.openAppsLayoutTab(this.definition.customSettings)},t.prototype.getIconCls=function(){return this.definition.customSettings&&this.definition.customSettings.locked?"iwp-icon-gen_locked":this.definition.iconCls?this.definition.iconCls:"iwp-icon-iwp_dashboard"},t.prototype.renderChart=function(e,t){},t.prototype.getDefaultIcon=function(){return""},t}(r.Widget);i.DashboardLink=a},{"../../notification/notification.service":204,"../widget":289}],258:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.Ekw,{restrict:"E",templateUrl:"app/widget/ekw/ekw.html"})}var r=e("../widget"),o=e("./ekw");i.ekwWidgetDirective=n},{"../widget":289,"./ekw":259}],259:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../table/table"),o=function(e){function t(t,i,n,r,o,a,s,c,l,d){var p=e.call(this,t,i,n,r,o,a,s,d)||this;return p.sapCookieDeferred=c.defer(),p.httpService=l,p}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","$q","$http","actionLogService"],t.prototype.handleSapCookieReceived=function(){this.sapCookieDeferred.resolve()},t.prototype.handleSapCookieError=function(){this.sapCookieDeferred.reject()},t.prototype.refresh=function(){var e=this;return this.sapCookieDeferred.promise.then(function(){var t;return e.loading=!0,e.httpService.get(e.definition.dataUrl,{errorNotification:!1,noCache:!0}).then(function(t){e.el&&(e.noData=null,e.error=null,e.data=e.transformData(t.data)||{data:[]},0===e.data.data.length&&e.translationService(e.definition.title).then(function(t){e.translationService("widget.noData",{name:t}).then(function(t){e.noData=t})}),e.renderChart(e.el,e.data))})["catch"](function(i){e.data={data:[]},e.error="widget.definition.errorMsg.500",t=e.definition.settings,t.errorMessages&&t.errorMessages.forEach(function(t){i.status===t.id&&(e.error=t.msg)}),e.removeChart()})["finally"](function(){e.loading=!1})})["catch"](function(){e.error="widget.ekw.sapSso.error"})},t.prototype.transformData=function(e){return e.d&&e.d.results?{data:e.d.results}:{data:[]}},t.prototype.renderChart=function(e,t){},t.prototype.onRenderComponent=function(t,i){e.prototype.onRenderComponent.call(this,t,i)},t.prototype.destroy=function(){this.httpService=null,e.prototype.destroy.call(this)},t.prototype.getDefaultIcon=function(){return null},t}(r.Table);i.Ekw=o},{"../table/table":277}],260:[function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:{onSapCookieReceived:"&",onSapCookieError:"&"},link:function(t,i){var n="/s2session/redirect.jsp?app="+location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/iwp/sap-redirect",r=$('<iframe src="'+n+'" style="width: 0; height: 0; border: none;" frameborder="none"></iframe>').appendTo(i),o=e(function(){t.onSapCookieError({error:"timeout"})},1e4),a=function(i){i.source===r.get(0).contentWindow&&("cookie_received"===i.data&&t.onSapCookieReceived(),"cookie_error"===i.data&&t.onSapCookieError(),e.cancel(o),window.removeEventListener("message",a))};window.addEventListener("message",a)}}}n.$inject=["$timeout"],i.sapCookieIframeDirective=n},{}],261:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.Favorite,{restrict:"E",templateUrl:"app/widget/favorite/favorite.html"})}var r=e("../widget"),o=e("./favorite");i.favoriteWidgetDirective=n},{"../widget":289,"./favorite":262}],262:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../tile/tile"),o=e("../../app.icons"),a=e("../../actionLog/action-constants"),s=e("../../../util/url.helper"),c=function(e){function t(t,i,n,r,o,a,s,c,l,d,p){var u=e.call(this,t,i,n,r,o,a,c,l,d,p)||this;return u._appsService=s,u}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","deviceService","appsService","notificationService","$translate","imageService","actionLogService"],Object.defineProperty(t.prototype,"title",{get:function(){return this.definition&&this.definition.settings&&this.definition.settings.title&&null!==this.definition.settings.title&&""!==this.definition.settings.title?this.definition.settings.title:this.app&&this.app.description&&null!==this.app.description&&""!==this.app.description?this.app.description:this.definition.title&&null!==this.definition.title?this.definition.title:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconCls",{get:function(){var e=this.definition?this.definition.iconCls:"";return e&&this.app&&(e=this.app.iconCls||o.Icons.APP_DEFAULT),e},enumerable:!0,configurable:!0}),t.prototype.getBackgroundImage=function(){return this.definition.iconCls?this.definition.iconCls:this.definition.settings.backgroundImageUrl?e.prototype.getBackgroundImage.call(this):this.app&&this.app.iconUrl?this.app.iconUrl:e.prototype.getBackgroundImage.call(this)},t.prototype.handleClick=function(){if(this.actionLogService.logAction({category:a.ActionConstants.CATEGORY_DASHBOARD,action:a.ActionConstants.ACTION_FAVORITE_LAUNCH,actionInfo:this.app.name}),this.definition.customSettings){var e=this.app;if(this.definition.customSettings.url&&""!==this.definition.customSettings.url){e=_.cloneDeep(this.app);var t=s.UrlHelper.getOriginFromUrl(this.app.url),i=s.UrlHelper.getOriginFromUrl(this.definition.customSettings.url);e.url=null!==i?this.definition.customSettings.url:null!==t?t+"/"+this.definition.customSettings.url:this.app.url+this.definition.customSettings.url}this._appsService.openApp(e,{context:this.dashboardContext})}},t.prototype.onRenderComponent=function(t,i){var n=this;e.prototype.onRenderComponent.call(this,t,i),this._appsService.getApp(this.definition.settings.app).then(function(e){n.app=e})["catch"](function(){n.destroy()})},t.prototype.getDefaultIcon=function(){return this.definition&&this.definition.settings&&this.definition.settings.iconCls&&null!==this.definition.settings.iconCls&&""!==this.definition.settings.iconCls?this.definition.settings.iconCls:this.app&&this.app.iconCls&&null!==this.app.iconCls&&""!==this.app.iconCls?this.app.iconCls:this.definition.iconCls&&null!==this.definition.iconCls?this.definition.iconCls:o.Icons.APP_DEFAULT},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._appsService=null},t}(r.Tile);i.Favorite=c},{"../../../util/url.helper":321,"../../actionLog/action-constants":1,"../../app.icons":6,"../tile/tile":281}],263:[function(e,t,i){"use strict";function n(){return o.Widget.createWidgetDirective(r.IFrameWidget,{restrict:"E",templateUrl:"app/widget/iframe-widget/iframe-widget.html"})}var r=e("./iframe-widget"),o=e("../widget");i.IFrameWidgetDirective=n},{"../widget":289,"./iframe-widget":264}],264:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=e("../../layout/layout.service"),a=e("../../../util/url.helper"),s=function(e){function t(t,i,n,r,s,c,l,d,p,u,h,g){var m=e.call(this,t,i,n,r,s,c,l,d)||this;return m.qService=p,m.layoutService=u,m.dashboardService=g,m.logService=h,m.subscriptions=[],m.subscriptions.push(m.layoutService.channelEvent.subscribe(o.LayoutService.TOPIC_DRAG_START,function(){return m.frm.hidden=!0})),m.subscriptions.push(m.layoutService.channelEvent.subscribe(o.LayoutService.TOPIC_DRAG_END,function(){return m.frm.hidden=!1})),m.frm=m.dashboardService.createFrame(m.getId(),{name:m.getName(),iconCls:m.iconCls,description:m.getDescription(),url:a.UrlHelper.appendQueryString(m.getUrl(),_.pick(m.dashboardContext,m.definition.dataUrlContextParams))},m.dashboardName),m}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService","$q","layoutService","$log","dashboardService"],t.prototype.getUrl=function(){return this.definition&&this.definition.settings?this.definition.settings.url:""},t.prototype.getId=function(){return this.instanceId},t.prototype.getName=function(){return this.definition&&this.definition.settings?this.definition.settings.title:this.definition.title},t.prototype.getDescription=function(){return this.definition&&this.definition.settings?this.definition.settings.title:this.definition.title},t.prototype.getDefaultIcon=function(){return""},t.prototype.getApp=function(){return null},t.prototype.renderChart=function(e,t){},t.prototype.onRenderComponent=function(e,t){this.el=e,this.ctrlAdapterBuilder(),this.onRender({id:this.instanceId,widget:this})},t.prototype.resize=function(){},t.prototype.refresh=function(){var e=this,t=this.qService.defer();return this.workplaceApiService.getConnection(this.getId(),this.dashboardName).then(function(i){i.callApi("refresh",_.pick(e.dashboardContext,e.definition.dataUrlContextParams)).then(function(){return t.resolve()})["catch"](function(i){e.logService.info("IFrameWidget -> refresh through workplace api failed on: "+e.getId()+" because: "+i.message),t.reject()})}),t.promise},t.prototype.destroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.dashboardService.removeFrame(this.getId(),this.dashboardName),this.qService=null,this.layoutService=null,this.dashboardService=null,this.logService=null,this.frm=null,e.prototype.destroy.call(this)},t}(r.Widget);i.IFrameWidget=s},{"../../../util/url.helper":321,"../../layout/layout.service":189,"../widget":289}],265:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.List,{restrict:"E",templateUrl:"app/widget/list/list.html"})}var r=e("../widget"),o=e("./list");i.listWidgetDirective=n},{"../widget":289,"./list":266}],266:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=function(e){function t(t,i,n,r,o,a,s,c,l,d,p){var u=e.call(this,t,i,n,r,o,c,l,d)||this;return u._qService=a,u._httpService=s,u._logService=p,u.visibleItems=[],u.currentPage=1,u._showPagination=!1,u}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","$q","$http","notificationService","$translate","actionLogService","$log"],t.prototype.renderChart=function(e,t){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._timeoutService=null,this._httpService=null,this._qService=null,this._logService=null},t.prototype.onRenderComponent=function(t,i){e.prototype.onRenderComponent.call(this,t,i);var n=this.el.parent(".widget-content"),r=n&&null!==n?n.height():0;this.itemsPerPage=r>0?Math.floor(r/37)-1:5},t.prototype.refresh=function(){var t=this;return e.prototype.refresh.call(this).then(function(){t.data&&t.data.data&&0!==t.data.data.length&&(t.totalItems=t.data.data.length,t.visibleItems=t.data.data.slice(0,t.itemsPerPage),t._showPagination=t.totalItems>t.visibleItems.length)})},t.prototype.handlePageChange=function(){return this.data&&this.data.data&&0!==this.data.data.length?void(this.visibleItems=this.data.data.slice((this.currentPage-1)*this.itemsPerPage,this.currentPage*this.itemsPerPage)):void(this.visibleItems=[])},t.prototype.getDefaultIcon=function(){return null},t.prototype.handleClick=function(e){var t=this;return this.isConnected?void this.workplaceApiService.getAppParameters(this.definition.settings.connectionId,this.definition.settings.getParameterFn,this.dashboardName).then(function(i){var n,r,o=_.keys(i);return o&&0!==o.length?(_.templateSettings.interpolate=/{([\s\S]+?)}/g,n=_.template(e.url),r=_.escape(n(i)),void("W"===t.definition.settings.startMode?window.location.href=r:window.open(r))):void t._logService.log("No parameters received from the workplaceApi call. Doing nothing...")})["catch"](function(e){t._logService.log("Failed adding extra params because: "+e.message)}):void("W"===this.definition.settings.startMode?window.location.href=e.url:window.open(e.url))},Object.defineProperty(t.prototype,"isConnected",{get:function(){return this.definition.settings&&this.definition.settings.connectionId&&null!==this.definition.settings.connectionId&&""!==this.definition.settings.connectionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPagination",{get:function(){return this._showPagination},enumerable:!0,configurable:!0}),t}(r.Widget);i.List=o},{"../widget":289}],267:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.LiveTile,{restrict:"E",templateUrl:"app/widget/live-tile/live-tile.html"})}var r=e("../widget"),o=e("./live-tile");i.liveTileWidgetDirective=n},{"../widget":289,"./live-tile":268}],268:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../../apps/application.model.interface"),o=e("../favorite/favorite"),a=e("../../app.icons"),s=e("../../actionLog/action-constants"),c=e("../../../util/url.helper"),l=function(e){function t(t,i,n,r,o,a,s,c,l,d,p,u,h,g){var m=e.call(this,t,i,n,r,a,s,g,c,l,o,d)||this;return m.liveTileCount=0,m.isCoreAppCall=!1,m._userSettingService=u,m._httpService=h,m.interval=p,m.colspan=m.definition.colspan,m.isCoreAppCall=m.definition.settings.coreAppCall?m.definition.settings.coreAppCall:!1,m.isCoreAppCall&&m.getData(),m}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","imageService","userService","deviceService","notificationService","$translate","actionLogService","$interval","userSettingService","$http","appsService"],Object.defineProperty(t.prototype,"color",{get:function(){return this.definition.settings.color?{color:this.definition.settings.color}:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveIcon",{get:function(){return this.definition.settings.iconCls?this.definition.settings.iconCls:this.app?this.app.iconCls||a.Icons.APP_DEFAULT:void 0},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){e.prototype.destroy.call(this),this._httpService=null},t.prototype.renderChart=function(e,t){},t.prototype.handleSapCookieReceived=function(){this.getData(),this.setInterval(this.definition.customSettings.timeInterval?this.definition.customSettings.timeInterval:3e5)},t.prototype.handleSapCookieError=function(){this.error="widget.ekw.sapSso.error"},t.prototype.getData=function(){var e=this;this._httpService&&this.definition.dataUrl&&this._httpService.get(_.escape(this.definition.dataUrl)).then(function(t){e.liveTileCount=t})["catch"](function(e){console.log("live-tile -> getData: "+e.status+" | "+e.message)})},t.prototype.setInterval=function(e){var t=this;this.interval(function(){t.getData()},e)},t.prototype.handleClick=function(){if(this.actionLogService.logAction({category:s.ActionConstants.CATEGORY_DASHBOARD,action:s.ActionConstants.ACTION_FAVORITE_LAUNCH,actionInfo:this.app.name}),this.definition.customSettings){var e=this.app;if(this.definition.customSettings.url&&""!==this.definition.customSettings.url){e=_.cloneDeep(this.app);var t=c.UrlHelper.getOriginFromUrl(this.app.url),i=c.UrlHelper.getOriginFromUrl(this.definition.customSettings.url);e.url=null!==i?this.definition.customSettings.url:null!==t?t+"/"+this.definition.customSettings.url:this.app.url+this.definition.customSettings.url}var n=e.name===r.APP_TASKS_MANAGER?{assignedToMe:1}:null;this._appsService.openApp(e,{context:this.dashboardContext,queryParams:n})}},t}(o.Favorite);i.LiveTile=l},{"../../../util/url.helper":321,"../../actionLog/action-constants":1,"../../app.icons":6,"../../apps/application.model.interface":14,"../favorite/favorite":262}],269:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.Locked,{restrict:"E",templateUrl:"app/widget/locked/locked.html"})}var r=e("../widget"),o=e("./locked");i.lockedWidgetDirective=n},{"../widget":289,"./locked":270}],270:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=function(e){function t(t,i,n,r,o,a,s,c,l){var d=e.call(this,t,i,n,r,o,a,s,c)||this;return d.restrictionsService=l,d.restrictionsService.getRestrictionText(d.definition.restrictions).then(function(e){return d.restrictionText=e}),d}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService","restrictionsService"],t.prototype.getDefaultIcon=function(){return t.ICON_DEFAULT_FILE},t.prototype.renderChart=function(e,t){},t.prototype.refresh=function(){return null},t.prototype.render=function(){},t}(r.Widget);o.ICON_DEFAULT_FILE="iwp-icon-gen_locked",i.Locked=o},{"../widget":289}],271:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.PmcWidget,{scope:{onBarClick:"&"},restrict:"E",templateUrl:"app/widget/pmc/pmc.html"})}var r=e("../widget"),o=e("./pmc");i.pmcWidgetDirective=n},{"../widget":289,"./pmc":274}],272:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.PmcLineChart,{restrict:"E",templateUrl:"app/widget/pmc/pmc.line.chart.html"})}var r=e("../widget"),o=e("./pmc.line.chart");i.pmcLineChartWidgetDirective=n},{"../widget":289,"./pmc.line.chart":273}],273:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../chart/chart.line"),o=e("../../../util/url.helper"),a=e("../chart/chart.adapter.model"),s=function(e){function t(t,i,n,r,a,s,c,l,d,p){var u=e.call(this,t,i,n,r,a,s,c,l)||this;return u.d3LocaleService=d,u.definition.dataUrl=o.UrlHelper.mergeQueryString(u.definition.dataUrl,{TYPE:"LAST_30"}),u.dataSetOptions=[],u.layoutService=p,c(["widget.pmc.line.chart.data.values.30.days","widget.pmc.line.chart.data.values.90.days","widget.pmc.line.chart.data.values.210.days","widget.pmc.line.chart.labels.order","widget.pmc.line.chart.labels.reportrange","widget.pmc.line.chart.labels.date","widget.pmc.line.chart.legend.labels.plan","widget.pmc.line.chart.legend.labels.estimation","widget.pmc.line.chart.legend.labels.target"]).then(function(e){u.dataSetOptions.push({label:e["widget.pmc.line.chart.data.values.30.days"],value:30,dataUrl:o.UrlHelper.mergeQueryString(u.definition.dataUrl,{TYPE:"LAST_30"})},{label:e["widget.pmc.line.chart.data.values.90.days"],value:90,dataUrl:o.UrlHelper.mergeQueryString(u.definition.dataUrl,{TYPE:"LAST_90"})},{label:e["widget.pmc.line.chart.data.values.210.days"],value:210,dataUrl:o.UrlHelper.mergeQueryString(u.definition.dataUrl,{TYPE:"LAST_210"})}),u.activeSetOption=u.dataSetOptions[0],u.orderLabel=e["widget.pmc.line.chart.labels.order"],u.reportRangeLabel=e["widget.pmc.line.chart.labels.reportrange"],u.dateLabel=e["widget.pmc.line.chart.labels.date"],u.planLabel=e["widget.pmc.line.chart.legend.labels.plan"],u.estimationLabel=e["widget.pmc.line.chart.legend.labels.estimation"],u.targetLabel=e["widget.pmc.line.chart.legend.labels.target"]}),u}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService","d3LocaleService","layoutService"],t.prototype.createAdapter=function(){this.chartWidgetAdapter=new a.ChartAdapter},Object.defineProperty(t.prototype,"title",{get:function(){return this._title?this._title:this.definition.settings.title||this.definition.title},enumerable:!0,configurable:!0}),t.prototype.renderChart=function(e,i){var n=this;this._title=i.info.resolvedParams.BGR_NAME+" ("+i.info.resolvedParams.BOB_NAME+") ["+i.info.unit+"]",this.d3LocaleService.getLocale().then(function(r){n.removeChart();var o=n.definition.settings,a=o.margin||t.MARGIN,s=_.cloneDeep(i.data),c=i.info,l="function"==typeof o.tickFormat.y?o.tickFormat.y:r.numberFormat(o.tickFormat.y);n._canvas=d3.select(e.get(0)).append("svg");var d=e.width()-a.left-a.right,p=e.height()-a.top-a.bottom,u=d3.time.format("%d.%m.%Y").parse,h=d3.time.scale().range([0,d]),g=d3.time.scale().range([25,d]),m=d3.scale.linear().range([p,0]).nice(),v=n._canvas.attr("width",d+a.left+a.right).attr("height",p+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")"),f=d3.select(e.get(0)).append("div").attr("class","tooltip").style("opacity",0),b=d3.svg.axis().scale(m).orient("left").tickSize(-d).ticks(5);s.forEach(function(e){e.originalDate=e.date,e.date=u(e.date),e.plan=+e.plan,e.prognose=+e.prognose,e.ziel=+e.ziel});var y=d3.svg.axis().scale(h).orient("bottom").tickSize(0),S=1;n.layoutService.responsiveInfo.xs&&(S=2);var w=d3.svg.axis().scale(g).orient("bottom").tickFormat(d3.time.format("%d.%m.%y")).ticks({range:function(){return s.map(function(e){return e.date}).filter(function(e,t){return t%S===0})}}),C=d3.svg.axis().scale(m).orient("left").tickFormat(l).tickSize(0).ticks(5),D=d3.svg.line().x(function(e){return g(e.date)}).y(function(e){return m(e.plan)}),T=d3.svg.line().x(function(e){return g(e.date)}).y(function(e){return m(e.prognose)}),E=d3.svg.line().x(function(e){return g(e.date)}).y(function(e){return m(e.ziel)});h.domain(d3.extent(s,function(e){return e.date})),g.domain(d3.extent(s,function(e){return e.date})),m.domain([d3.min(s,function(e){return Math.min(e.ziel,e.plan,e.prognose)}),d3.max(s,function(e){return Math.max(e.ziel,e.plan,e.prognose)})]),v.append("path").attr("class","line").attr("class","planLine").attr("d",D(s)),v.append("path").attr("class","line").attr("class","prognoseLine").attr("d",T(s)),v.append("path").attr("class","line").attr("class","targetLine").attr("d",E(s)),v.append("g").attr("class","x axis").attr("transform","translate(0,"+p+")").call(y).selectAll("text").remove().style("text-anchor","end").attr("transform","rotate(-45) translate(-5,-5)"),v.append("g").attr("class","x axis offset").attr("transform","translate(0,"+p+")").call(w).selectAll("text").style("text-anchor","end").attr("transform","rotate(-45) translate(-5,-5)"),v.append("g").attr("class","y axis").call(C),v.append("g").attr("class","grid").call(b),v.selectAll("rect").data(s).enter().append("rect").attr("class","planRect").attr("x",function(e){return g(e.date)-4}).attr("y",function(e){return m(e.plan)-4}).attr("width",8).attr("height",8).on("mouseover",function(e){n.buildToopTip(f,e.originalDate,l(e.plan),c,d,p,n.planLabel)}).on("click",function(e){n.handleLegendClick(f,e.originalDate,l(e.plan),c,d,p,n.planLabel)}).on("mouseout",function(e){f.transition().duration(500).style("opacity",0)}),v.selectAll("polygon").data(s).enter().append("polygon").attr("class","targetTriangle").attr("points",function(e){return g(e.date)-3+","+(m(e.ziel)+3)+" "+g(e.date)+","+(m(e.ziel)-3)+" "+(g(e.date)+3)+","+(m(e.ziel)+3)}).on("mouseover",function(e){n.buildToopTip(f,e.originalDate,l(e.ziel),c,d,p,n.targetLabel)}).on("click",function(e){n.handleLegendClick(f,e.originalDate,l(e.ziel),c,d,p,n.targetLabel)}).on("mouseout",function(e){f.transition().duration(500).style("opacity",0)}),v.selectAll("dot").data(s).enter().append("circle").attr("r",5).attr("class","prognoseCircle").attr("cx",function(e){return g(e.date)}).attr("cy",function(e){return m(e.prognose)}).on("mouseover",function(e){n.buildToopTip(f,e.originalDate,l(e.prognose),c,d,p,n.estimationLabel)}).on("click",function(e){n.handleLegendClick(f,e.originalDate,l(e.prognose),c,d,p,n.estimationLabel)}).on("mouseout",function(e){f.transition().duration(500).style("opacity",0)})})},t.prototype.optionSelected=function(e){this.activeSetOption=e,this.definition.dataUrl=e.dataUrl,this.removeChart(),this.refresh()},t.prototype.onRenderComponent=function(t,i){e.prototype.onRenderComponent.call(this,t,i);var n=t.find(".__planLegend"),r=t.find(".__planTarget"),o=t.find(".__planPrognose");if(n){var a=d3.select(n.get(0)).append("svg");this.appendLineToLegend(a,"planLine"),a.append("rect").attr("class","planRect").attr("x",26).attr("y",4).attr("width",8).attr("height",8)}if(r){var s=d3.select(r.get(0)).append("svg");this.appendLineToLegend(s,"targetLine"),s.append("polygon").attr("class","targetTriangle").attr("points","27,11 30,5 33,11")}if(o){var c=d3.select(o.get(0)).append("svg");this.appendLineToLegend(c,"prognoseLine"),c.append("circle").attr("r",5).attr("class","prognoseCircle").attr("cx",30).attr("cy",8)}},t.prototype.refresh=function(){return this.definition.dataUrl=this.activeSetOption.dataUrl,e.prototype.refresh.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.d3LocaleService=null},t.prototype.appendLineToLegend=function(e,t){e.attr("width",60).attr("height",15),e.append("line").attr("class",t).attr("x1",0).attr("y1",8).attr("x2",60).attr("y2",8)},t.prototype.buildToopTip=function(e,t,i,n,r,o,a){var s=d3.event.pageY+5,c=d3.event.pageX+20,l=s>o?s-45:s,d=c+200>r?c-240:c;e.transition().duration(500).style("opacity",0),e.transition().duration(200).style("opacity",.9),e.html("<div><span>"+this.dateLabel+" <b>"+t+"</b></span><br/><span>"+a+" <b>"+i+"</b></span></div>").style("left",d+"px").style("top",l+"px")},t.prototype.handleLegendClick=function(e,t,i,n,r,o,a){e.style("opacity")>0||this.buildToopTip(e,t,i,n,r,o,a)},t}(r.LineChart);s.MARGIN={top:20,right:20,bottom:60,left:80},i.PmcLineChart=s},{"../../../util/url.helper":321,"../chart/chart.adapter.model":242,"../chart/chart.line":247}],274:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../chart/chart.bar"),o=function(e){function t(t,i,n,r,o,a,s,c,l){var d=e.call(this,t,i,n,r,o,a,s,c)||this;return d.activeBarIdx=0,d.selectedButton="chart",d.tableColumns=[],d.tableData=[],d.d3LocaleService=l,s(["widget.pmc.bar.chart.legend.labels.column","widget.pmc.bar.chart.legend.labels.category"]).then(function(e){d.categoryLabel=e["widget.pmc.bar.chart.legend.labels.category"],d.columnLabel=e["widget.pmc.bar.chart.legend.labels.column"]}),d}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService","d3LocaleService"],Object.defineProperty(t.prototype,"title",{get:function(){return this._title?this._title:this.definition.settings.title||this.definition.title},enumerable:!0,configurable:!0}),t.prototype.removeChart=function(){this._canvas&&this._canvas.remove()},t.prototype.renderChart=function(e,i){var n=this;this._title=i.info.resolvedParams.BGR_NAME+" ("+i.info.resolvedParams.BOB_NAME+") ["+i.info.unit+"]",this.d3LocaleService.getLocale().then(function(r){function o(e){var i=_.findKey(t.LABELS,_.partial(_.isEqual,e.name));return t.BAR_CONFIG[i]}function a(e,i){return e.find(function(e){return e.name===t.LABELS[i]})}n.removeChart();var s=n.definition.settings,c=s.margin||t.MARGIN,l=i.data,d="function"==typeof s.tickFormat.y?s.tickFormat.y:r.numberFormat(s.tickFormat.y);n._canvas=d3.select(e.get(0)).append("svg"),n._canvas.selectAll(".label").data(l).enter().append("text").text(function(e){return d(n.accessValue(e))}).each(function(e){e.bbox=this.getBBox()}).remove();for(var p=Math.max.apply(Math,[c.top].concat(l.map(function(e){return e.bbox.width}))),u=e.width()-c.left-c.right,h=e.height()-p-c.bottom,g=.3,m=d3.scale.ordinal().rangeRoundBands([0,u],g),v=d3.scale.linear().range([h,0]),f=d3.svg.axis().scale(m).orient("bottom"),b=d3.svg.axis().scale(v).orient("left").tickFormat(d).tickSize(0).ticks(5),y=d3.select(e.get(0)).append("div").attr("class","tooltip").style("opacity",0),S=n._canvas.attr("width",u+c.left+c.right).attr("height",h+p+c.bottom).append("g").attr("transform","translate("+c.left+","+p+")"),w=d3.svg.axis().scale(v).orient("left").tickFormat("").tickSize(-u).ticks(5),C=0;C<l.length;C++){var D=o(l[C]);if(D.delta){var T=a(l,D.connect);l[C].start=T.end}else l[C].start=0;l[C].end=l[C].start+(D.invert?0-n.accessValue(l[C]):n.accessValue(l[C])),l[C]["class"]=D.invert?n.accessValue(l[C])<0?"positive":"negative":n.accessValue(l[C])>=0?"positive":"negative",l[C]["class"]+=" color-"+l[C].startColor}m.domain(l.map(function(e){return n.accessCategory(e)})),v.domain([0,d3.max(l,function(e){return e.end})]),S.append("g").attr("class","x axis").attr("transform","translate(0,"+h+")").call(f).selectAll("text").style("text-anchor","end").attr("transform","rotate(-45) translate(-5,-5)"),S.append("g").attr("class","y axis").call(b),S.append("g").attr("class","grid").call(w),S.selectAll(".connector").data(l.filter(function(e){var t=o(e).connect;return!!n.accessValue(e)&&!!t&&!!n.accessValue(a(l,t))})).enter().append("line").attr("x1",function(e){var t=a(l,o(e).connect);return m(t.name)+m.rangeBand()}).attr("x2",function(e){return m(e.name)}).attr("y1",function(e){var t=a(l,o(e).connect);return v(t.end)}).attr("y2",function(e){var t=a(l,o(e).connect);return v(t.end)}).attr("class","connector");var E=S.selectAll(".bar").data(l).enter().append("g").attr("class",function(e){return"bar "+e["class"]}).attr("transform",function(e){return"translate("+m(n.accessCategory(e))+",0)"});E.append("rect").attr("y",function(e){return v(Math.max(e.start,e.end))}).attr("height",function(e){return Math.abs(v(e.start)-v(e.end))}).attr("width",m.rangeBand()),E.filter(function(e){return!!n.accessValue(e)}).append("text").attr("transform",function(e){return"rotate(270) translate("+-(v(e["class"].includes("negative")?e.start:e.end)-e.bbox.width/2)+","+(m.rangeBand()/2+2)+")"}).text(function(e){return d(n.accessValue(e))}),E.filter(function(e){return!!e.bbox&&!!n.accessValue(e)}).insert("rect","text").attr("x",function(e){return m.rangeBand()/2-e.bbox.height/2}).attr("y",function(e){return v(e["class"].includes("negative")?e.start:e.end)-e.bbox.width-5;

}).attr("width",function(e){return e.bbox.height}).attr("height",function(e){return e.bbox.width}).attr("fill","#fff"),E.on("click",function(e){n.onBarClick({data:e}),n.activeBarIdx=_.findIndex(n.data.data,function(t){return t.name===e.name}),n.setTableInfo(),n.selectedButton="table"}),E.on("mouseover",function(e){n.buildToopTip(y,d(n.accessValue(e)),n.accessCategory(e),u,h)}),E.on("mouseout",function(e){y.transition().duration(500).style("opacity",0)})})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.d3LocaleService=null},t.prototype.setTableInfo=function(){this.currentPage=1,this.tableData=null===this.activeBarIdx?[].concat.apply([],this.data.data.map(function(e){return e.details})):this.data.data[this.activeBarIdx].details,this.tableColumns=this.data.info.columns.map(function(e){return{id:e.id?e.id.substring(e.id.indexOf("details.")+"details.".length,e.id.length):"",label:e.label}})},t.prototype.buildToopTip=function(e,t,i,n,r){var o=d3.event.pageY+5,a=d3.event.pageX+40,s=a+150>n?a-210:a;e.transition().duration(500).style("opacity",0),e.transition().duration(200).style("opacity",.9),e.html("<div><span>"+this.columnLabel+" <b>"+i+"</b></span><br/><span>"+this.categoryLabel+" <b>"+t+"</b></span></div>").style("left",s+"px").style("top",o+"px")},t}(r.BarChartWidget);o.MARGIN={top:20,right:20,bottom:60,left:80},o.LABELS={"plan-reference":"Plan (R)","plan-negative":"Gen. -","plan-positive":"Gen. +","plan-current":"Plan (S)","forecast-negative":"Maßn. -","forecast-positive":"Maßn. +","plan-forecast":"Prognose","target-deviation":"Delta","target-current":"Ziel (S)","target-negative":"ZÄ -","target-positive":"ZÄ +","target-reference":"Ziel (R)","potential-negative":"Chancen","potential-positive":"Risiken"},o.BAR_CONFIG={"plan-reference":{connect:null},"plan-negative":{connect:"plan-reference",delta:!0},"plan-positive":{connect:"plan-negative",delta:!0},"plan-current":{connect:"plan-positive"},"forecast-negative":{connect:"plan-current",delta:!0},"forecast-positive":{connect:"forecast-negative",delta:!0},"plan-forecast":{connect:"forecast-positive"},"target-deviation":{connect:"plan-forecast",delta:!0,invert:!0},"target-current":{connect:"target-deviation"},"target-negative":{connect:"target-current",delta:!0},"target-positive":{connect:"target-negative"},"target-reference":{connect:"target-positive"},"potential-negative":{connect:"plan-forecast",delta:!0},"potential-positive":{connect:"potential-negative",delta:!0}},i.PmcWidget=o},{"../chart/chart.bar":244}],275:[function(e,t,i){"use strict";function n(e,t){var i=Intl&&Intl.NumberFormat?new Intl.NumberFormat(t.lang,{maximumFractionDigits:0}):null,n=Intl&&Intl.NumberFormat?new Intl.NumberFormat(t.lang):null,r=Intl&&Intl.NumberFormat?new Intl.NumberFormat(t.lang,{minimumFractionDigits:2,maximumFractionDigits:2}):null;return function(o,a){switch(a.type){case"string":return o;case"integer":return i?i.format(o):o.toFixed(0);case"number":return n?n.format(o):o;case"currency":return(r?r.format(o):o.toFixed(2))+(a.unit?" "+a.unit:"");case"date":return e("date")(+o);case"locale-date":return o?new Date(o).toLocaleDateString(t.locale.replace("_","-")):""}return o}}n.$inject=["$filter","language"],i.formatColumnFilterFactory=n},{}],276:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.Table,{restrict:"E",templateUrl:"app/widget/table/table.html"})}var r=e("../widget"),o=e("./table");i.tableWidgetDirective=n},{"../widget":289,"./table":277}],277:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=function(e){function t(t,i,n,r,o,a,s,c){var l=e.call(this,t,i,n,r,o,a,s,c)||this;return l.itemsPerPage=5,l}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],Object.defineProperty(t.prototype,"columns",{get:function(){return this.data&&this.data.info&&this.data.info.columns?this.data.info.columns:this.definition.columns},enumerable:!0,configurable:!0}),t.prototype.renderChart=function(e,t){},t.prototype.onRenderComponent=function(t,i){e.prototype.onRenderComponent.call(this,t,i),this.el=t},t.prototype.getDefaultIcon=function(){return null},t}(r.Widget);i.Table=o},{"../widget":289}],278:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.Tasks,{restrict:"E",templateUrl:"app/widget/tasks/tasks.html",scope:{maximized:"=?",closeHandler:"&"}})}var r=e("../widget"),o=e("./tasks");i.tasksWidgetDirective=n},{"../widget":289,"./tasks":279}],279:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../table/table"),o=e("../../layout/layout.service"),a=function(e){function t(t,i,n,r,a,s,c,l,d,p,u,h,g){var m=e.call(this,t,i,n,r,a,s,c,p)||this;return m.itemsPerPage=5,m.subscriptions=[],m.tasksService=u,m.layoutService=h,m.intervalService=g,m.subscriptions.push(m.layoutService.channelResize.subscribe(o.LayoutService.TOPIC_RESIZE,function(e){m.setColumns(e.dimensionViewport.width)})),m.interval=m.intervalService(function(){m.refresh()},m.definition.customSettings&&m.definition.customSettings.interval?m.definition.customSettings.interval:3e5),m}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","$q","$http","actionLogService","tasksService","layoutService","$interval"],t.prototype.onRenderComponent=function(t,i){e.prototype.onRenderComponent.call(this,t,i);var n=jQuery(window);this.setColumns(n.width())},t.prototype.destroy=function(){this.subscriptions.forEach(function(e){e.unsubscribe()}),this.intervalService.cancel(this.interval),e.prototype.destroy.call(this)},t.prototype.handleRole=function(e,t){"url"===e&&this.tasksService.openTask(t),this.maximized&&this.closeHandler()},t.prototype.refresh=function(){var e=this;return this.loading=!0,this.tasksService.getTasks().then(function(t){e.el&&(e.noData=null,e.error=null,e.data=e.parseData(t)||{data:[]},0===e.data.data.length&&e.translationService(e.definition.title).then(function(t){e.translationService("widget.noData",{name:t}).then(function(t){e.noData=t})}),e.renderChart(e.el,e.data))})["finally"](function(){e.loading=!1})},t.prototype.parseData=function(e){var t=this,i=this.definition.customSettings&&this.definition.customSettings.system?this.definition.customSettings&&this.definition.customSettings.system:null,n=i?e.filter(function(e){return t.isAllowed(e,i)}):e;return n=n.map(function(e){return e.important="workplace"===e.system&&e&&e.priority&&"2"===e.priority.id?"iwp-icon-gen_priority":"",e.newTitle="workplace"===e.system?e.taskTitle+" ("+e.id+")":e.taskTitle,e.newSystem="workplace"===e.system?"NEXTone":e.system,e.icon=t.tasksService.getTaskIcon(e),e}),{data:n}},t.prototype.isAllowed=function(e,t){return!!t.find(function(t){return t===e.system})},t.prototype.setColumns=function(e){this.definition.columns=475>e?[{id:"icon",role:"icon"},{id:"newTitle",type:"string",label:"widget.tasks.header.title"},{id:"taskDue",type:"locale-date",label:"widget.tasks.header.due_date"},{id:"important",role:"important"},{id:"taskurl",role:"url"}]:[{id:"icon",role:"icon"},{id:"newSystem",type:"string",label:"widget.tasks.header.category"},{id:"newTitle",type:"string",label:"widget.tasks.header.title"},{id:"taskDue",type:"locale-date",label:"widget.tasks.header.due_date"},{id:"important",role:"important"},{id:"taskurl",role:"url"}]},t}(r.Table);i.Tasks=a},{"../../layout/layout.service":189,"../table/table":277}],280:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.Tile,{restrict:"E",templateUrl:"app/widget/tile/tile.html"})}var r=e("../widget"),o=e("./tile");i.tileWidgetDirective=n},{"../widget":289,"./tile":281}],281:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=e("../../../util/url.helper"),a=e("../../actionLog/action-constants"),s=e("../../../util/link-utils/link.open"),c=e("../../../util/link-utils/os.client"),l=function(e){function t(t,i,n,r,o,a,s,c,l,d){var p=e.call(this,t,i,n,r,o,s,c,d)||this;return p._deviceService=a,p._imageService=l,p.definition&&"undefined"==typeof p.definition.settings.showCaption&&(p.definition.settings.showCaption=!0),p}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","deviceService","notificationService","$translate","imageService","actionLogService"],t.prototype.getDefaultIcon=function(){var e=this.definition.settings.url,i=o.UrlHelper.getFileExtensionFromUrl(e);if(i){var n=this.getIconForExtension(i);return n?n:o.UrlHelper.isFileProtocol(e)?t.ICON_DEFAULT_FILE:t.ICON_DEFAULT_WEBSITE}return o.UrlHelper.isFileProtocol(e)?t.ICON_FOLDER:t.ICON_DEFAULT_WEBSITE},t.prototype.getIconForExtension=function(e){return e.match(/xlsx*$/i)?t.ICON_EXCEL:e.match(/docx*$/i)?t.ICON_WORD:e.match(/pptx*$/i)?t.ICON_POWERPOINT:e.match(/pdf$/i)?t.ICON_PDF:null},t.prototype.getBackgroundImage=function(){return this.definition.settings.backgroundImageUrl?this.definition.settings.backgroundImageUrl:this.definition.settings.imgId?this._imageService.getImage(this.definition.settings.imgId):this.definition.settings.backgroundImage?this.definition.settings.backgroundImage[+(this._deviceService&&null!==this._deviceService?this._deviceService.devicePixelRatio>1:!1)]:""},Object.defineProperty(t.prototype,"style",{get:function(){var e=this.getBackgroundImage();return e?{"background-color":this.definition.settings.backgroundColor,"background-position":this.definition.settings.backgroundPosition,"background-image":'url("'+e+'")',"background-size":this.definition.settings.backgroundSize}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileHref",{get:function(){return s.getOsSpecificLink(this.definition.settings.url)||"#"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tileTarget",{get:function(){return this.definition.settings.url?s.getLinkTarget(this.definition.settings.url):"_self"},enumerable:!0,configurable:!0}),t.prototype.handleClick=function(e){c.getClientOs()===c.OS_TYPE.IOS&&(this._notificationService.showMessage("info","mobile.open.vmwareBrowser.message",null,"mobile.open.vmwareBrowser.title"),s.openLink(this.definition.settings.url),e.stopPropagation(),e.preventDefault()),this.actionLogService.logAction({category:a.ActionConstants.CATEGORY_DASHBOARD,action:a.ActionConstants.ACTION_FAVORITE_LAUNCH,actionInfo:this.definition.settings.url})},t.prototype.renderChart=function(e,t){},t.prototype.refresh=function(){return null},t.prototype.render=function(){},t.prototype.destroy=function(){this._deviceService=null,this._imageService=null,e.prototype.destroy.call(this)},t}(r.Widget);l.ICON_DEFAULT_FILE="iwp-icon-gen_text_doc",l.ICON_DEFAULT_WEBSITE="iwp-icon-iwp_weblink",l.ICON_FOLDER="iwp-icon-zeb_folder",l.ICON_POWERPOINT="iwp-icon-iwp_powerpoint",l.ICON_WORD="iwp-icon-iwp_word",l.ICON_EXCEL="iwp-icon-iwp_excel",l.ICON_PDF="iwp-icon-iwp_pdf",i.Tile=l},{"../../../util/link-utils/link.open":311,"../../../util/link-utils/os.client":313,"../../../util/url.helper":321,"../../actionLog/action-constants":1,"../widget":289}],282:[function(e,t,i){"use strict";function n(){return{restrict:"A",link:function(e,t,i,n){var r=e.vm,o=e.$eval(i.componentProps),a=t.get(0);_.keys(o).forEach(function(e){a[e]=o[e]}),a.connection=r.connection}}}i.webComponentPropsDirective=n},{}],283:[function(e,t,i){"use strict";function n(){return r.Widget.createWidgetDirective(o.WebComponentWidget,{restrict:"E",templateUrl:"app/widget/web-component/web-component.html"})}var r=e("../widget"),o=e("./web-component");i.webComponentWidgetDirective=n},{"../widget":289,"./web-component":284}],284:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../widget"),o=function(e){function t(t,i,n,r,o,a,s,c,l,d,p,u){var h=e.call(this,t,i,n,r,o,s,c,d)||this;return h._templateCache=p,h._qService=u,h.hasComponentLoaded=!1,h}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","deviceService","notificationService","$translate","imageService","actionLogService","$templateCache","$q"],t.prototype.getDefaultIcon=function(){return this.definition.iconCls},t.prototype.render=function(){},t.prototype.renderChart=function(){},t.prototype.onRenderComponent=function(e,t){var i=this.definition,n=i.dataUrl,r=i.settings;this.maximized&&Object.assign(this.definition.settings.props,{uiState:{isMaximized:!0}}),document.querySelector('script[src="'+n+'"]')||customElements.get(r.componentName)?this.initWebComponent(r.componentName,e,t):this.loadScript(n).then(this.initWebComponent.bind(this,r.componentName,e,t)),this.ctrlAdapterBuilder(),this.onRender({id:this.instanceId,widget:this})},t.prototype.destroy=function(){this.connection.close(),this.connection=null},t.prototype.initWebComponent=function(e,t,i){var n=this;this._templateCache.put(this.definition.id,"<"+e+' component-props="vm.definition.settings.props"></'+e+">"),customElements.whenDefined(e).then(function(){n.workplaceApiService.createLocalConnection(n.definition.id,n.dashboardName).then(function(e){n.connection=e,i.$apply(function(){return n.hasComponentLoaded=!0})})})},t.prototype.loadScript=function(e){var t=this._qService.defer(),i=document.createElement("script");return i.src=e,i.onload=function(){return t.resolve()},i.onerror=t.reject,i.async=!0,document.head.appendChild(i),t.promise},t}(r.Widget);i.WebComponentWidget=o},{"../widget":289}],285:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(){function e(e,t){this.visibleControls=!1,this.widgetDefinition=e,this.widgetData=t,this.controlAdaptors={},this.buildControlAdaptorsMap()}return e.prototype.hasVisibleControls=function(){return this.visibleControls},e.prototype.hasControl=function(e){return this.controlAdaptors[e]&&this.controlAdaptors[e].isShown()},e.prototype.hasOption=function(e,t){return this.controlAdaptors[e]&&this.controlAdaptors[e].hasOption(t)},e.prototype.hasOptions=function(e){return this.controlAdaptors[e]&&this.controlAdaptors[e].hasOptions()},e.prototype.buildControlAdaptorsMap=function(){var e=this;this.widgetDefinition.controls&&this.widgetDefinition.controls.length>0&&this.widgetDefinition.controls.forEach(function(t){e.controlAdaptors[t.control]=e.widgetControlAdaptorsFactory(t),e.visibleControls=e.controlAdaptors[t.control].isShown()})},e.prototype.widgetControlAdaptorsFactory=function(e){switch(e.control){case"legend":return new s(e,this.widgetDefinition,this.widgetData);case"settings":return new l(e,this.widgetDefinition);case"shared":return new c(e,this.widgetDefinition);default:return new a(e,this.widgetDefinition)}},e}();i.WidgetControlsDisplayAdapter=r;var o=function(){function e(e,t){this.definition=t,this.control=e}return e.prototype.hasOption=function(e){return _.isArray(this.control.options)&&-1!==this.control.options.indexOf(e)},e.prototype.hasOptions=function(){return _.isArray(this.control.options)&&this.control.options.length>0},e}();i.AbstractWidgetControlAdaptor=o;var a=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.isShown=function(){return!0},t}(o);i.BasicControlAdaptor=a;var s=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.data=n,r}return n(t,e),t.prototype.isShown=function(){return!_.isEmpty(this.definition.description)||this.data&&this.data.data&&this.data.data.length>0},t}(o);i.LegendControlAdaptor=s;var c=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.isShown=function(){return!_.isEmpty(this.definition.sharedBy)},t}(o);i.SharedControlAdapter=c;var l=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.isShown=function(){return this.hasOptions()},t}(o);i.SettingsControlAdapter=l},{}],286:[function(e,t,i){"use strict";var n=function(){function e(){}return e}();n.TILE="tile",n.FAVORITE="favorite",n.SEARCH_FAVORITE="search-favorite",n.LOCKED="locked",n.DASHBOARD_LINK="dashboard-link",n.FRAME_LAYOUT="frame-layout",i.WidgetDefinitions=n},{}],287:[function(e,t,i){"use strict";function n(e){var t=function(e){e.customSettings=_.isString(e.customSettings)?e.customSettings:JSON.stringify(e.customSettings),e.defaultSettings=_.isString(e.defaultSettings)?e.defaultSettings:JSON.stringify(e.defaultSettings),e.settings=_.isString(e.settings)?e.settings:JSON.stringify(e.settings)},i=e.defineResource({name:"widgetDefinition",idAttribute:"id",endpoint:"./rest/widgets",afterInject:function(e,t){var i,n;if(t){if(_.isArray(t))return void t.forEach(function(e){i=e.customSettings&&_.isString(e.customSettings)?JSON.parse(e.customSettings):e.customSettings,n=e.defaultSettings&&_.isString(e.defaultSettings)?JSON.parse(e.defaultSettings):e.defaultSettings,e.settings=_.merge({},i,n),e.customSettings=i,e.defaultSettings=n});i=t.customSettings&&_.isString(t.customSettings)?JSON.parse(t.customSettings):t.customSettings,n=t.defaultSettings&&_.isString(t.defaultSettings)?JSON.parse(t.defaultSettings):t.defaultSettings,t.settings=_.merge({},n,i),t.customSettings=i,t.defaultSettings=n}},beforeCreate:function(e,i,n){t(i),n(null,i)},beforeUpdate:function(e,i,n){t(i),n(null,i)},watchChanges:!1});return i}n.$inject=["DS"],i.widgetDefinitionStoreFactory=n},{}],288:[function(e,t,i){"use strict";var n=e("../actionLog/action-constants"),r=function(){function e(t,i,n,r,o,a,s,c,l,d,p,u,h){this._widgetDefinitionStore=t,this._qService=i,this._httpService=n,this._workplaceContextService=r,this._appsService=a,this._userService=o,this._deviceService=s,this._postal=c,this._actionLogService=d,this._dashboardService=p,this.channel=this._postal.channel(e.CHANNEL),this.widgets=[],this._language=u,this._timeoutService=h}return e.$inject=["widgetDefinitionStore","$q","$http","workplaceContextService","userService","appsService","deviceService","postal","debounce","actionLogService","dashboardService","language","$timeout"],e.prototype.createWidget=function(e,t){return this._actionLogService.logAction({category:n.ActionConstants.CATEGORY_DASHBOARD,action:n.ActionConstants.ACTION_WIDGET_CREATE+"-"+e.widgetDefinitionId,actionInfo:JSON.stringify(e.customSettings)}),this._widgetDefinitionStore.create(e,{params:{dashboardId:t}}).then(function(e){return e})},e.prototype.updateWidget=function(t,i,n){var r=this;return this._widgetDefinitionStore.update(t,i,{params:{dashboardId:n}}).then(function(t){return r.channel.publish(e.WIDGET_UPDATED,{widget:t,dashboardId:n}),t})},e.prototype.getWidgetDefinitions=function(e,t){var i=this,n=[];return this._userService.getUser().then(function(r){var o=r.getSelectedRole();return o&&n.push(o.roleId),i._widgetDefinitionStore.findAll({widgetInstIds:e.toString(),businessRoles:n.toString(),dashboardId:t,lang:i._language.lang,deviceType:i._deviceService.device,demoMode:i._workplaceContextService.demoMode},{noCache:!0,bypassCache:!0}).then(function(t){return i._widgetDefinitions=t,i._widgetDefinitions.filter(function(t){return e.includes(t.id)})})})},e.prototype.getWidget=function(e){return this._widgetDefinitionStore.get(e)},e.prototype.findWidget=function(e,t){var i=t?{params:{dashboardId:t},bypassCache:!0}:null;return this._widgetDefinitionStore.find(e,i)},e.prototype.refreshWidget=function(t,i){var n=this;this._widgetDefinitionStore.refresh(t,{params:{dashboardId:i}}).then(function(t){n.channel.publish(e.WIDGET_UPDATED,{widget:t,dashboardId:i})})},e.prototype.getWidgetData=function(e,t){var i=this,n=this._qService.defer();return e.dataUrl?this._httpService.get(e.dataUrl,{params:_.pick(t,e.dataUrlContextParams),errorNotification:!1,noCache:!0}).then(function(e){n.resolve(e.data.d?i.transformODataToWidgetData(e.data):e.data)})["catch"](function(e){return n.reject(e)}):n.reject(),n.promise},e.prototype.getWidgetByAppName=function(e){return _.find(this._widgetDefinitionStore.getAll(),function(t){return t.settings.app===e})},e.prototype.getAppWidgetsIds=function(e){return _.compact(this._widgetDefinitionStore.getAll().map(function(t){return t.settings.app===e?t.id:""}))},e.prototype.deleteWidget=function(e,t){this._widgetDefinitionStore.destroy(e,{params:{dashboard:t}})},e.prototype.getAllWidgetIds=function(){var e=[];return this._dashboardService.getDashboards().then(function(t){return t.forEach(function(t){[].concat(t.categories).forEach(function(t){_.isArray(t.widgets)&&t.widgets.forEach(function(t){return e.push(t)})})}),e})},e.prototype.transformODataToWidgetData=function(e){return{data:e.d&&e.d.results?e.d.results:[]}},e.prototype.findWidgets=function(e){var t=this,i=this._qService.defer();return this._findWidgetsPromise&&this._timeoutService.cancel(this._findWidgetsPromise),this._findWidgetsPromise=this._timeoutService(function(){return t.getAllWidgetIds().then(function(n){return t._httpService({url:"./rest/widgets/search/",method:"post",params:{searchTerm:e},data:n}).then(function(e){e.data&&0!==e.data.length||i.resolve([]),i.resolve(e.data)})["catch"](function(){return i.reject()})})},150),i.promise},e}();r.CHANNEL="WidgetServiceChannel",r.WIDGET_UPDATED="WidgetServiceWidgetUpdated",i.WidgetService=r},{"../actionLog/action-constants":1}],289:[function(e,t,i){"use strict";var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=e("../components/component"),o=e("./widget.service"),a=e("./widget.controls.display.adapter"),s=function(e){function t(t,i,n,r,o,s,c,l){var d=e.call(this)||this;return d.loading=!1,d.mergedContext={},d._timeoutService=t,d._widgetService=i,d.workplaceApiService=n,d.workplaceContextService=r,d._userService=o,d._notificationService=s,d.translationService=c,d.actionLogService=l,d._subscriptions=[],d._unbinders=[],d.ctrlAdapterBuilder=_.throttle(function(){d.widgetControlsAdapter=new a.WidgetControlsDisplayAdapter(d.definition,d.data)},1e3),d}return n(t,e),t.$inject=["$timeout","widgetService","workplaceApiService","workplaceContextService","userService","notificationService","$translate","actionLogService"],Object.defineProperty(t.prototype,"title",{get:function(){return this.definition.settings.title||this.definition.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiLineTitle",{get:function(){return this.definition.settings.multilineTitle||this.definition.multilineTitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconCls",{get:function(){return this.definition?this.definition.iconCls:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextRole",{get:function(){return this._userService.selectedUserRole},enumerable:!0,configurable:!0}),t.createWidgetDirective=function(e,t){var i=r.Component.createDirective(e,t);return i.scope=Object.assign({},i.scope,{instanceId:"=",definition:"=",onRender:"&",onDestroy:"&",dashboardName:"=?",dashboardContext:"=?",contextDiffValues:"=?",maximized:"=?"}),i},t.prototype.hasControl=function(e){return this.widgetControlsAdapter&&this.widgetControlsAdapter.hasControl(e)},t.prototype.hasControls=function(){return this.widgetControlsAdapter&&this.widgetControlsAdapter.hasVisibleControls()},t.prototype.belongsToUser=function(){return this._userService.user.userId===this.definition.sharedBy.userId},t.prototype.hasOption=function(e,t){return this.widgetControlsAdapter&&this.widgetControlsAdapter.hasOption(e,t)},t.prototype.hasOptions=function(e){return this.widgetControlsAdapter&&this.widgetControlsAdapter.hasOptions(e)},t.prototype.refresh=function(){var e=this;return this.loading=!0,this._widgetService.getWidgetData(this.definition,this.dashboardContext).then(function(t){e.el&&(e.noData=null,e.error=null,e.data=t||{data:[]},0===e.data.data.length&&e.translationService(e.definition.title).then(function(t){return e.translationService("widget.noData",{name:t}).then(function(t){return e.noData=t})}),e.mergedContext=e.workplaceContextService.getMergedContext(e.contextRole&&null!==e.contextRole?e.contextRole.diffValues:[],e.contextDiffValues,e.definition.dataUrlContextParams),e.renderChart(e.el,e.data))})["catch"](function(t){if(e.data={data:[]},e.definition.hasErrorMsg){var i="widget.definition.errorMsg."+t.status;e.translationService(i).then(function(t){return e.error=t})}e.removeChart()})["finally"](function(){return e.loading=!1})},t.prototype.removeChart=function(){},t.prototype.render=function(){var e=this;this._promiseRender&&this._timeoutService.cancel(this._promiseRender),this._promiseRender=this._timeoutService(function(){e.data?(e.mergedContext=e.workplaceContextService.getMergedContext(e.contextRole&&null!==e.contextRole?e.contextRole.diffValues:[],e.contextDiffValues,e.definition.dataUrlContextParams),e.renderChart(e.el,e.data)):e.refresh(),e._promiseRender=null},100)},t.prototype.resize=function(){this.render()},t.prototype.onRenderComponent=function(e,t){var i=this;this._subscriptions.push(this._widgetService.channel.subscribe(o.WidgetService.WIDGET_UPDATED,function(e){e&&e.widget&&e.widget.id===i.definition.id&&(i.definition=e.widget,i.ctrlAdapterBuilder())})),this.el=e.find(".__el"),this._unbinders.push(t.$watch("vm.definition",this.ctrlAdapterBuilder.bind(this))),this._unbinders.push(t.$watch("vm.data",this.ctrlAdapterBuilder.bind(this))),this._unbinders.push(t.$watch("vm.dashboardContext",this.refresh.bind(this))),this.el.length||(this.el=e),this.render(),this.onRender({id:this.instanceId,widget:this})},t.prototype.destroy=function(){this.onDestroy({id:this.instanceId,widget:this}),this._promiseRender&&(this._timeoutService.cancel(this._promiseRender),this._promiseRender=null),this._subscriptions&&(this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._subscriptions=null),this._unbinders&&(this._unbinders.forEach(function(e){return e()}),this._unbinders=null),this._timeoutService=null,this._widgetService=null,this._userService=null,this.data=null,this.workplaceApiService=null,this.el=null},t}(r.Component);i.Widget=s},{"../components/component":28,"./widget.controls.display.adapter":285,"./widget.service":288}],290:[function(e,t,i){"use strict";var n=function(){function e(e){var t=this;this.notificationService=e,this.nativeEventListeners={deviceready:[],pause:[],resume:[]},document.addEventListener("deviceready",function(){t.deviceReady=!0,t.isPlatformIOS()&&(window.open=t.openWindowIOS(window.open)),t.handleNativeEvent("deviceready")}),document.addEventListener("pause",function(){t.handleNativeEvent("pause")}),document.addEventListener("resume",function(){t.handleNativeEvent("resume")})}return e.$inject=["notificationService"],e.prototype.isPlatformIOS=function(){return"undefined"!=typeof cordova&&cordova.platformId&&"ios"===cordova.platformId},e.prototype.isPlatformWindows=function(){return"undefined"!=typeof cordova&&cordova.platformId&&_.startsWith("windows",cordova.platformId)},e.prototype.cameraGetPicture=function(e){var t=this;return new Promise(function(i,n){navigator.camera.getPicture(function(e){i(e)}.bind(t),function(e){n(e)},e)})},e.prototype.barcodeScannerScan=function(e){var t=this;return new Promise(function(i,n){cordova.plugins.barcodeScanner.scan(function(e){i(e)}.bind(t),function(e){n(e)},e)})},e.prototype.writeFile=function(e,t,i){var n=(void 0===i?{localFileSystem:0}:i).localFileSystem;return console.log("workplace-native-device.service -> writeFile: dataUrl received",t),new Promise(function(i,r){requestFileSystem(n,0,function(o){console.log("workplace-native-device.service -> : requested filesystem",n),o.root.getFile(e,{create:!0,exclusive:!1},function(e){console.log("workplace-native-device.service -> : getFile",e),e.createWriter(function(e){console.log("workplace-native-device.service -> created fileWriter:",e),e.onwriteend=i,e.onerror=r,console.log("workplace-native-device.service -> : ",t),fetch(t).then(function(e){return e.blob()}).then(function(t){e.write(t)}),console.log("workplace-native-device.service -> : wrote!")})},r)},r)})},e.prototype.readFile=function(e,t){var i=(void 0===t?{localFileSystem:0}:t).localFileSystem;return new Promise(function(t,n){requestFileSystem(i,0,function(r){console.log("workplace-native-device.service -> : requested filesystem",i),r.root.getFile(e,{create:!0,exclusive:!1},function(e){console.log("workplace-native-device.service -> : getFile",e),e.file(function(e){var i=new FileReader;i.onloadend=function(){console.log("workplace-native-device.service -> readFile: ",i.result),t(i.result)},i.onerror=n,i.readAsDataURL(e)})},n)},n)})},e.prototype.listEntries=function(e,t){void 0===e&&(e="/");var i=(void 0===t?{localFileSystem:0}:t).localFileSystem;return new Promise(function(t,n){requestFileSystem(i,0,function(i){i.root.getDirectory(e,{create:!1},function(e){var i=e.createReader();i.readEntries(t,n)},n)})})},e.prototype.createDirectory=function(e,t){var i=(void 0===t?{localFileSystem:0}:t).localFileSystem;return new Promise(function(t,n){requestFileSystem(i,0,function(i){var r=e.split("/").reduce(function(e,t){return e.then(function(e){return console.log("workplace-native-device.service -> : createDirectory",e,t),new Promise(function(i,n){e.getDirectory(t,{create:!0},i,n)})})},Promise.resolve(i.root));r.then(t)["catch"](n)})})},e.prototype.removeEntry=function(e,t){var i=e.fullPath,n=e.isDirectory,r=(void 0===t?{localFileSystem:0}:t).localFileSystem;return new Promise(function(e,t){requestFileSystem(r,0,function(r){var o=n?"getDirectory":"getFile";r.root[o](i,{create:!1},function(i){i.isDirectory?i.removeRecursively(function(){return e()},t,t):i.remove(function(){return e()},t,t)},t)})})},e.prototype.openWindow=function(e,t,i){return window.open(e,"_system",i)},e.prototype.openInAppBrowser=function(e){return cordova.InAppBrowser.open(e,"_blank","toolbar=yes")},e.prototype.addNativeEventListener=function(e,t){if(!["deviceready","pause","resume"].includes(e))throw new Error("Event is not supported");this.deviceReady&&t("deviceReady"),this.nativeEventListeners[e]&&this.nativeEventListeners[e].push(t)},e.prototype.removeNativeEventListener=function(e,t){if(this.nativeEventListeners[e]){var i=this.nativeEventListeners[e].indexOf(t);i>-1&&this.nativeEventListeners[e].splice(i,1)}},e.prototype.handleNativeEvent=function(e){this.nativeEventListeners[e].forEach(function(t){t(e)})},e.prototype.openWindowIOS=function(e){var t=this.notificationService;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=i[0];return r=r.replace("https://","awbs://"),r=r.replace("http://","awb://"),i.splice(0,1,r),i.splice(1,1,"_system"),t.showInfo("mobile.open.vmwareBrowser.message",null,"mobile.open.vmwareBrowser.title"),e.apply(void 0,i)}},e}();i.WorkplaceNativeDeviceService=n},{}],291:[function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n["throw"](e))}catch(t){o(t)}}function c(e){e.done?r(e.value):new i(function(t){t(e.value)}).then(a,s)}c((n=n.apply(e,t)).next())})},r=this&&this.__generator||function(e,t){function i(e){return function(t){return n([e,t])}}function n(i){if(r)throw new TypeError("Generator is already executing.");

for(;s;)try{if(r=1,o&&(a=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(n){i=[6,n],o=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:i(0),"throw":i(1),"return":i(2)}},o=e("../tab/tab.service"),a=e("../../util/url.helper"),s=e("../actionLog/action-constants"),c=e("../widget/widget.data.interface"),l=e("../apps/application.model.interface"),d=e("../user/user.service"),p=e("../app.icons"),u=e("../errors/workplace-api.error"),h=function(){function e(e,t,i,n,r,o,a,s,c,l,p,u,h,g,m,v,f,b,y,S,_,w,C){this._appsService=e,this._tabService=r,this._stateService=t,this._userSettingService=f,this._userInfoService=b,this._locationService=i,this._host=Messaging.createHost(),this._connections={},this._log=n,this._qService=o,this._layoutService=a,this._notificationService=s,this._windowService=c,this._actionLogService=l,this._workplaceContextService=p,this._dashboardService=h,this._widgetService=u,this._popupService=g,this._workplaceNativeDeviceService=m,this._interframeDragService=v,this._frameLayoutService=y,this._httpService=S,this._deviceService=_,this._tasksService=w,this._language=C,this._userInfoService.channel.subscribe(d.UserService.TOPIC_SELECTED_ROLE_CHANGED,this.notifyExternalApps.bind(this)),this._deviceService.isInternetExplorer()||setInterval(function(){return(new MessageChannel).port1.postMessage("")},50)}return e.$inject=["appsService","$state","$location","$log","tabService","$q","layoutService","notificationService","$window","actionLogService","workplaceContextService","widgetService","dashboardService","popupService","workplaceNativeDeviceService","interframeDragService","userSettingService","userService","frameLayoutService","$http","deviceService","tasksService","language"],e.prototype.openHelpUrl=function(e,t){var i=t?t.getApp():null;if(i&&null!==i){var n=a.UrlHelper.getOriginFromUrl(e.url),r=a.UrlHelper.getOriginFromUrl(i.url),o=n&&null!==n?e.url:r&&null!==r?""+r+e.url:""+e.url;this._appsService.openHelp({name:i.name,iconCls:p.Icons.HELP,description:i.description,helpUrl:o,startMode:e.startMode})}},e.prototype.openAppByUrl=function(e){setTimeout(function(){return window.location.hash=e})},e.prototype.openApp=function(e,t,i,n){var r=this;if(console.log("workplace.api.service -> openApp: ",n),"string"==typeof e&&(e={name:e,queryParams:t}),e.options&&!i&&(i=e.options),this._actionLogService.logAction({category:s.ActionConstants.CATEGORY_API,action:s.ActionConstants.ACTION_API_OPEN_APP,actionInfo:e.name}),i&&(i.connect||i.refresh)){var o=e.queryParams;return e.queryParams=null,delete e.queryParams,this._appsService.openAppByName(e).then(function(e){return r.refreshApp(e,o),e}).then(function(e){return n&&i&&i.splitView&&r.splitView(e,n),e})}return this._appsService.openAppByName(e).then(function(e){return n&&i&&i.splitView&&r.splitView(e,n),e})},e.prototype.selectTab=function(e){this._tabService.selectTab(e)},e.prototype.closeTab=function(e,t){var i=this;if(this._tabService.getTabById(e)){if(this.selectTab(e),t)var n=this._tabService.channel.subscribe(o.TabService.TOPIC_TAB_REMOVE,function(r){r.tabId===e&&(n.unsubscribe(),i.selectTab(t.getId()))});this._tabService.closeTab(e)}else this._appsService.closeModalApp(e)},e.prototype.showAppSupport=function(e,t){var i=this;this._workplaceContextService.getProperty("workplace.origin").then(function(n){"intranet"===n.value&&(t.appName=e.getDescription(),i._tabService.showAppSupportOverlay(e.getId(),t,30))})},e.prototype.isAppAvailable=function(e){return this._appsService.getApp(e).then(function(){return!0})["catch"](function(){return!1})},e.prototype.createConnection=function(e,t,i){var n=this,r=e.getUrl(),o=e.getId(),s=e.getName(),c=a.UrlHelper.getOriginFromUrl(r)||window.location.origin;this._host.createConnection(o,c,t,i).then(function(t){t.onClose(function(){var t=n._tabService.getTabById(o)||(e.frame&&e.frame.connectionGroupId?n._tabService.getTabById(e.frame.connectionGroupId):null);t&&e.createConnection()}),n._log.info('WorkplaceApiService: Created connection with app "'+s+'" ('+o+") restricted to origin "+c),n.registerApiFunctions(t,e),n._connections[o]=t})["catch"](function(e){return n._log.info('WorkplaceApiService: Failed to create connection with app "'+s+'" ('+o+"). Reason: "+e)})},e.prototype.createConnectionToWindow=function(e,t,i){var n=this,r=e.content.app.url,o=e.content.app.name,s=a.UrlHelper.getOriginFromUrl(r)||window.location.origin;this._host.createConnection(i,s,t).then(function(a){a.onClose(function(){t.closed||n.createConnectionToWindow(e,t,i)}),n._log.info('WorkplaceApiService: Created connection with app "'+o+'" ('+i+") restricted to origin "+s),n.registerApiFunctions(a,{getId:function(){return i},getName:function(){return o},getUrl:function(){return r},getDescription:function(){return e.content.app.description},getApp:function(){return e.content.app},getIframePosition:function(){return null},createConnection:function(){return null}}),n._connections[i]=a})["catch"](function(e){return n._log.info('WorkplaceApiService: Failed to create connection with app "'+o+'" ('+i+"). Reason: "+e)})},e.prototype.createLocalConnection=function(e,t){var i=this,n=this._host.createLocalConnection(e,t);return this._host.getConnection(e,t).then(function(t){return i._log.info("WorkplaceApiService: Created local connection for "+e+"."),i.registerApiFunctions(t),n})},e.prototype.getConnection=function(e,t){return this._host.getConnection(e,t)},e.prototype.hasConnection=function(e,t){return this._host.hasConnection(e,t)},e.prototype.registerApiFunctions=function(e,t){var i=this;e.registerApi("openHelpUrl",function(e){return i.logApiCall("openHelpUrl("+e.url+", "+e.urlMode+")",t),i.openHelpUrl(e,t)}),e.registerApi("openApp",function(e,n,r){return i.logApiCall("openApp("+e+")",t),i.openApp(e,n,r,t?t.getId():null).then(function(e){var t=i._qService.defer();return i._host.getConnection(e).then(function(){return t.resolve(e)})["catch"](function(e){return t.reject(e)}),t.promise})}),e.registerApi("selectTab",function(e){return i.logApiCall("selectTab("+e+")",t),i.selectTab(e)}),e.registerApi("closeTab",function(e){return i.logApiCall("closeTab("+e+")",t),i.closeTab(e,t)}),e.registerApi("getTabId",function(){return i.logApiCall("getTabId()",t),t.getId()}),e.registerApi("refreshUserSettings",function(){i.logApiCall("refreshUserSettings()",t),i._userSettingService.refreshSettings()}),e.registerApi("refreshUserInfo",function(e){i.logApiCall("refreshUserInfo()",t),i._userInfoService.refreshUserInfo(e)}),e.registerApi("showAppSupport",function(e){i.logApiCall("showAppSupport("+(e?"cfg":e)+")",t),i.showAppSupport(t,e)}),e.registerApi("isAppAvailable",function(e){return i.logApiCall("isAppAvailable("+e+")",t),i.isAppAvailable(e)}),e.registerApi("showNotification",this.showNotification.bind(this,t)),e.registerApi("createFavorite",function(e){return i.logApiCall("createFavorite("+e.title+", "+e.url+")",t),i.createFavorite(t,e)}),e.registerApi("nativeDeviceCameraGetPicture",this._workplaceNativeDeviceService.cameraGetPicture),e.registerApi("nativeDeviceBarcodeScannerScan",this._workplaceNativeDeviceService.barcodeScannerScan),e.registerApi("setDragObject",function(e){return i._interframeDragService.setDragObject(t,e)}),e.registerApi("setDragCoordinates",function(e){return i._interframeDragService.setDragCoordinates(t,e)}),e.registerApi("acceptDrop",this._interframeDragService.acceptDrop.bind(this._interframeDragService)),e.registerApi("rejectDrop",this._interframeDragService.rejectDrop.bind(this._interframeDragService)),e.registerApi("endDrag",this._interframeDragService.endDrag.bind(this._interframeDragService)),e.registerApi("frameFullScreenToggle",function(e){return i._frameLayoutService.frameFullScreenToggle(t.getId(),e)}),e.registerApi("getAppLinksForBO",function(e,t){return i.logApiCall("getAppLinksForBO("+e+", "+t+")"),i.getAppLinksForBo(e,t)}),e.registerApi("createTask",function(e,n,r,o){return void 0===o&&(o=!1),i.logApiCall("createTask("+n+", "+r+", "+o+")"),i.handleNextOneDeepLink({action:"create",openerId:t.getId(),boType:n,boNumber:r,splitView:o})}),e.registerApi("filterTasksByBO",function(e,n,r){return void 0===r&&(r=!1),i.logApiCall("filterTasksByBO("+e+", "+n+")"),i.handleNextOneDeepLink({action:"filter",openerId:t.getId(),boType:e,boNumber:n,splitView:r})}),e.registerApi("getTaskDeepLink",function(e,t){return i.logApiCall("getTaskDeepLink("+e+")"),i.getTaskDeepLink(e,t)}),e.registerApi("getTabInfo",function(e){i.logApiCall("getTabInfo("+e+"})");var t=i._tabService.getTabById(e);return t?_.merge(_.pick(i._tabService.getTabById(e),["id","iconCls","title","active","visible","closeable","refreshable"]),_.pick(t.content.app,["url"])):null}),e.registerApi("getDashboardDeepLink",function(e){return i.logApiCall("getDashboardDeepLink("+e+")"),i.getDashboardDeepLink(e)}),e.registerApi("addAppToDashboard",function(e,t,n){return i.logApiCall("addAppToDashboard("+e.name+","+t+")"),i.addAppToDashboard(e,t,n)}),e.registerApi("sessionExpired",function(){i.logApiCall("sessionExpired",t),i._workplaceContextService.handleSessionExpired()}),e.registerApi("openLayout",this.openLayout.bind(this,t)),e.registerApi("setLayoutIFrameSize",this.setLayoutIFrameSize.bind(this,t)),e.registerApi("openDashboard",this.openDashboard.bind(this,t)),e.registerApi("insertDashboard",this._dashboardService.insertOrUpdate.bind(this._dashboardService)),e.registerApi("nativeDeviceAddEventListener",this.nativeDeviceAddEventListener.bind(this,t,e)),e.registerApi("nativeDeviceOpenWindow",this.openWindow.bind(this,t)),e.registerApi("nativeDeviceOpenInAppBrowser",this.openInAppBrowser.bind(this,t)),e.registerApi("nativeDeviceWriteFile",this._workplaceNativeDeviceService.writeFile),e.registerApi("nativeDeviceReadFile",this._workplaceNativeDeviceService.readFile),e.registerApi("nativeDeviceListEntries",this._workplaceNativeDeviceService.listEntries),e.registerApi("nativeDeviceCreateDirectory",this._workplaceNativeDeviceService.createDirectory),e.registerApi("nativeDeviceRemoveEntry",this._workplaceNativeDeviceService.removeEntry),e.registerApi("getLang",this.getLang.bind(this,t)),e.registerApi("getLocale",this.getLocale.bind(this,t))},e.prototype.closeConnection=function(e,t){this._connections[e.getId()]=null,delete this._connections[e.getId()],this._host.closeConnection(e.getId(),t),this._log.info('WorkplaceApiService: Closed connection with app "'+e.getName()+'" ('+e.getId()+")")},e.prototype.refreshApp=function(e,t,i){this._host.getConnection(e).then(function(e){return e.callApi("refresh",t,i)})},e.prototype.reloadWorkplace=function(){var e=(new Date).getTime(),t="/";this._workplaceNativeDeviceService.isPlatformIOS()&&(t="/iwp/ios.html"),this._workplaceNativeDeviceService.isPlatformWindows()&&(t="/iwp/windows.html"),this._windowService.location.href=a.UrlHelper.appendQueryString(t,{r:e})},e.prototype.createFavorite=function(e,t){var i=this,n=e.getApp(),r={widgetDefinitionId:t.type||c.WidgetDefinitions.SEARCH_FAVORITE,colspan:n.colspan||t.colSpan||1,rowspan:n.rowspan||t.rowSpan||1,iconCls:t.iconCls,settings:{title:t.title},customSettings:{app:n.name,title:t.title,url:t.url&&""!==t.url?t.url:"",backgroundImageUrl:t.backgroundImageUrl,iconCls:t.iconCls}};return this._popupService.showModalWindow("acceptFavoriteDialog",{titleKey:"dialogs.favorite.shared.accept.title",okButtonKey:"dialogs.favorite.shared.accept.buttons.ok.label",cancelButtonKey:"dialogs.favorite.shared.accept.buttons.cancel.label",widget:r,addWidget:!1}).then(function(e){return i._widgetService.createWidget(r,e.name).then(function(t){return i._dashboardService.addDashboardWidget(e.name,t)})["catch"](function(e){throw{type:"server",message:e.message}})})["catch"](function(){return!1})},e.prototype.addAppToDashboard=function(e,t,i){return n(this,void 0,void 0,function(){var n,o,a,s,l,d;return r(this,function(r){switch(r.label){case 0:return n={widgetDefinitionId:c.WidgetDefinitions.FAVORITE,colspan:e.colspan||1,rowspan:e.rowspan||1,iconCls:e.iconCls,settings:{title:e.description},customSettings:{app:e.name,title:e.description,url:e.url&&""!==e.url?e.url:"",backgroundImageUrl:e.iconUrl,iconCls:e.iconCls},widgetContextMenuOpen:!1},[4,this._dashboardService.getDashboards()];case 1:if(o=r.sent(),a=o.find(function(e){return e.name===t})||o.find(function(e){return e.name===i}),!a)throw{type:"dashboards",message:"No matching dashboard found"};r.label=2;case 2:return r.trys.push([2,5,,6]),[4,this._widgetService.createWidget(n,a.name)];case 3:return s=r.sent(),[4,this._dashboardService.addDashboardWidget(a.name,s)];case 4:return l=r.sent(),[2,l];case 5:throw d=r.sent(),{type:"server",message:d&&null!==d&&null!==d.message?d.message:"Unknown error."};case 6:return[2]}})})},e.prototype.waitForAppClose=function(e,t){var i=this,n=this._qService.defer();return this._host.hasConnection(e,t)?this._host.getConnection(e,t).then(function(t){return t.callApi("beforeClose",e)}).then(function(e){e!==!1?n.resolve():n.reject()})["catch"](function(t){0!==t.code&&i._log.debug("WorkplaceApiService -> waitForAppClose: Error in beforeClose for app id "+e+": "+t.message),n.resolve()}):n.resolve(),n.promise},e.prototype.notifyClose=function(e,t){var i=this,n=this._qService.defer();return this._host.hasConnection(e,t)?this._host.getConnection(e,t).then(function(t){return t.port?t.callApi("close",e).then(function(){return n.resolve()}):(n.resolve(),void i._log.debug("WorkplaceApiService -> waitForAppClose: Sorry, the frame for the app "+e+" has already been destroyed."))})["catch"](function(t){0!==t.code&&i._log.debug("WorkplaceApiService -> waitForAppClose: Error in close for app id "+e+": "+t.message),n.resolve()}):n.resolve(),n.promise},e.prototype.wrapPromise=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=this._qService.defer();return t||r.reject("No such method"),t.apply(e,i).then(function(e){return r.resolve(e)})["catch"](function(e){return r.reject(e)}),r.promise},e.prototype.getAppParameters=function(e,t,i){void 0===t&&(t="getAppParameters");var n=this._qService.defer();return this._host.hasConnection(e,i)?this.getConnection(e,i).then(function(e){return e.callApi(t).then(function(e){return n.resolve(e)})["catch"](function(e){return n.reject(e)})}):n.reject({message:"No connection found on "+e+" and group "+i}),n.promise},e.prototype.openLayout=function(e,t){var i=this;return this.logApiCall("openLayout("+JSON.stringify(t)+")",e),this._frameLayoutService.openLayoutById(t.id,t.context,t.widgetContext).then(function(e){if(!e){var n=new u.WorkplaceApiError(new Error('Layout with id "'+t.id+'" not found'),1);throw n}return i._qService.all(e.frames.filter(function(e){return t.connectIds&&t.connectIds.length?t.connectIds.includes(e.widget.id):!1}).map(function(e){var n=i._qService.defer();return i.getConnection(e.widget.id,t.id).then(function(){return n.resolve(e.widget.id)})["catch"](function(e){return n.reject(e)}),n.promise}))})},e.prototype.setLayoutIFrameSize=function(e,t){this.logApiCall("setLayoutScrollPosition("+JSON.stringify(t)+")",e);var i={};(_.isNumber(t.width)||_.isString(t.width))&&(i.width=+t.width),(_.isNumber(t.height)||_.isString(t.height))&&(i.height=+t.height),this._frameLayoutService.setLayoutIFrameSize(e.getId(),i)},e.prototype.openDashboard=function(e,t){var i=this;this.logApiCall("openDashboard("+JSON.stringify(t)+")",e);var n=t.connectIds||[];return this._dashboardService.openDeepLinkDashoard(t.id,t.context).then(function(e){return i._qService.all(n.map(function(t){var n=i._qService.defer();return i.getConnection(t,e.name).then(function(){return n.resolve(t)})["catch"](function(e){return n.reject(e)}),n.promise})).then(function(){return e.name})})["catch"](function(){throw new u.WorkplaceApiError(new Error('Dashboard with id "'+t.id+'" not found'),1)})},e.prototype.getLang=function(e){return this.logApiCall("getLang()"),this._language.lang},e.prototype.getLocale=function(e){return this.logApiCall("getLocale()"),this._language.locale},e.prototype.showNotification=function(e,t,i){this.logApiCall("showMessage('"+t+"', '"+i+"')"),this._notificationService.showMessage(t,i,null,e.getDescription())},e.prototype.splitView=function(e,t){if(!this._appsService.isExternalWindow(e)&&!this._appsService.isExternalWindow(t)){var i=this._tabService.findTabManagerForTabId(t).id;if(this._layoutService.isSplitLayout()){var n=this._layoutService.findOppositeLayout(i);n&&this._tabService.moveTabToIndex(e,0,n.id)}else this._tabService.splitTabview({tabviewId:i,tabId:e,direction:"row",index:1})}},e.prototype.getAppLinksForBo=function(e,t){var i=this,n=this._qService.defer();return(!e||!t||null===t||t.length>15)&&n.reject({message:"id is longer than 15 characters"}),this._userInfoService.getUser().then(function(r){i._httpService.get("rest/businessObjectsApps",{params:{boType:e,boId:t,deviceType:i._deviceService.device,lang:i._language.lang,demoMode:i._workplaceContextService.demoMode,businessRoles:r.getSelectedRole()&&null!==r.getSelectedRole()?[r.getSelectedRole().roleId]:[]}}).then(function(e){return n.resolve(e)})["catch"](function(e){return n.reject(e)})}),n.promise},e.prototype.handleNextOneDeepLink=function(e){var t=this;return this._appsService.openAppByName({name:l.APP_TASKS_MANAGER,queryParams:{action:e.action,boType:e.boType,boNumber:e.boNumber}}).then(function(i){return e.splitView&&t.splitView(i,e.openerId),i})},e.prototype.getTaskDeepLink=function(e,t){void 0===t&&(t=!1);var i=this._qService.defer();return i.resolve(this._tasksService.getWorkplaceTaskDeepLink(e,t)),i.promise},e.prototype.getDashboardDeepLink=function(e){var t=this._qService.defer();return t.resolve(""+window.location.origin+window.location.pathname+"#/dashboard/"+e),t.promise},e.prototype.logApiCall=function(e,t){t&&this._log.log('WorkplaceApiService: "'+t.getName()+'" ('+t.getId()+") called API function: "+e)},e.prototype.notifyExternalApps=function(e){var t=this,i=e.selectedRole,n=this._appsService.getExternalWindowIds();n&&null!==n&&n.forEach(function(e){t.getConnection(e).then(function(n){i&&null!==i&&n.callApi("roleChanged",i.roleId,i.substitutedUser&&null!==i.substitutedUser?i.substitutedUser.userId:"")["catch"](function(i){return t._log.info("roleChanged through workplace api failed on: "+e+" because: "+i.message)})})})},e.prototype.nativeDeviceAddEventListener=function(e,t,i,n){var r=this;this.logApiCall("nativeDeviceAddEventListener("+i+")",e);var o=function(){t.callApi(n,i)["catch"](function(e){r._log.log("workplace.api.service -> : "+e.message)})};t.registerApi("nativeDeviceRemoveEventListener",function(){r._workplaceNativeDeviceService.removeNativeEventListener(i,o)}),this._workplaceNativeDeviceService.addNativeEventListener(i,o)},e.prototype.openWindow=function(e,t,i,n){this.logApiCall("openWindow("+t+","+i+","+n+")",e),this._workplaceNativeDeviceService.openWindow(t,i,n)},e.prototype.openInAppBrowser=function(e,t){this.logApiCall("openInAppBrowser("+t+")",e),this._workplaceNativeDeviceService.openInAppBrowser(t)},e}();i.WorkplaceApiService=h},{"../../util/url.helper":321,"../actionLog/action-constants":1,"../app.icons":6,"../apps/application.model.interface":14,"../errors/workplace-api.error":166,"../tab/tab.service":231,"../user/user.service":238,"../widget/widget.data.interface":286}],292:[function(e,t,i){"use strict";var n=e("../../util/url.helper"),r=e("../user/role.model"),o=function(){function e(t,i,r,o,a,s,c,l){this._sessionExpired=!1,this._confirmSessionExpiredActive=!1,this._userService=t,this._deviceService=i,this._httpService=o,this._qService=a,this._popupService=c,this._language=l;var d=r.search(),p=n.UrlHelper.fromQueryString(window.location.search);this._demoMode=d.demoMode?d.demoMode:p.demoMode,this.channel=s.channel(e.CHANNEL),this.channel.subscribe(e.TOPIC_SESSION_EXPIRED,this.handleSessionExpired.bind(this)),this._workplacePropsPromise=this._httpService.get("./rest/workplace/properties").success(function(e){return e}).error(function(){return console.warn("Could not fetch workplace properties!")})}return e.$inject=["userService","deviceService","$location","$http","$q","postal","popupService","language"],Object.defineProperty(e.prototype,"demoMode",{get:function(){return this._demoMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionExpired",{get:function(){return this._sessionExpired},enumerable:!0,configurable:!0}),e.prototype.getProperty=function(e){return this._workplacePropsPromise.then(function(t){return t.data.find(function(t){return t.name===e})})},e.prototype.getAppContext=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return this._userService.getUser().then(function(i){var n=i.getSelectedRole(),o={lang:e._language.lang,env:"workplace",strongAuth:i.strongAuth,locale:e._language.locale,deviceType:e._deviceService.device,demoMode:e.demoMode,mwpOrigin:window.location.origin};return n&&null!==n&&(o.role=[n.roleId],n.substitutedUser&&(o.persondeputized=n.substitutedUser.userId),o.moduleOrg=n.diffValues.length>50?[]:_.uniq(n.getDiffValues(r.Role.DIFF_VALUE_MODULEORG).map(function(e){return e.length<4?e:e.substr(0,2)})),o.derivative=n.diffValues.length>50?[]:n.getDiffValues(r.Role.DIFF_VALUE_DERIVATIVE),o.plOrg=n.diffValues.length>50?[]:n.getDiffValues(r.Role.DIFF_VALUE_PLORG)),t.length>0?_.pick(o,t):o})},e.prototype.getDashboardContext=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this.getAppContext.apply(this,i).then(function(n){var r={};e.diffValues&&e.diffValues.forEach(function(e){r[e.type]||(r[e.type]=[]),r[e.type].push(e.value)});var o=Object.assign(n,r,t);return i.length>0?_.pick(o,i):o})},e.prototype.getMergedContext=function(e,t,i){var n=this.convertDiffArray(e),r=this.convertDiffArray(t),o=_.assign({},n,r);return _.pick(o,i)},e.prototype.generateConversationId=function(){return _.sample("0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",e.CONVERSATION_ID_LENGTH).join("")},e.prototype.handleSessionExpired=function(){var e=this;this._sessionExpired=!0,this._confirmSessionExpiredActive||(this._confirmSessionExpiredActive=!0,this._popupService.showConfirm({titleKey:"error.sessionExpired.title",messageKey:"error.sessionExpired",okButtonKey:"dialogs.common.buttons.reload",cancelButtonKey:"dialogs.common.buttons.cancel"},"sessionExpiredDialog")["finally"](function(){return e._confirmSessionExpiredActive=!1}))},e.prototype.convertDiffArray=function(e){return e&&e.length>0?_.groupBy(e,function(e){return e.type}):{}},e}();o.CHANNEL="WORKPLACE_CONTEXT_SERVICE_CHANNEL",o.TOPIC_SESSION_EXPIRED="WORKPLACE_CONTEXT_SERVICE_TOPIC_SESSION_EXPIRED",o.CONVERSATION_ID_LENGTH=20,i.WorkplaceContextService=o},{"../../util/url.helper":321,"../user/role.model":236}],293:[function(e,t,i){t.exports=t.exports='{\n  "appbehavior.close.confirmation": "Workplace verlassen?",\n  "apps.open.not.available": "App nicht verfügbar",\n  "appsmenu.applications": "Applikationen",\n  "appsmenu.dashboards": "Dashboards",\n  "appsmenu.placeholder.filter": "Filter...",\n  "appsmenu.item.strongAuth": "Öffnet diese App in einer neuen Workplace Instanz mit starker Authentifizierung",\n  "appsmenu.item.externalTab": "Öffnet diese App in einem neuen Browser Tab",\n  "appsmenu.item.externalWindow": "Öffnet diese App in einem neuen Browser Fenster",\n  "action.item.logout.text": "Abmelden",\n  "action.item.roles.help.text": "Anleitung zur Rollenbeantragung",\n  "action.item.roleManager.text": "Verantwortlichkeit und Vertretung",\n  "error.userInput.maxTabs": "Maximale Anzahl an Tabs ist {{maxTabs}}.",\n  "error.userInput.openApp": "Anwendung \\"{{name}}\\" wurde nicht gefunden.",\n  "error.http.status.400": "Es werden nur Suchbegriffe mit Mindestlänge 3 Zeichen berücksichtigt.",\n  "error.http.status.403": "Keine ausreichenden Berechtigungen. Bitte entsprechende Zulassung überprüfen.",\n  "error.http.status.401": "Portalanmeldung ist erforderlich.",\n  "error.http.status.404": "Ressource wurde nicht gefunden. Überprüfung der Workplace Konfiguration erforderlich.",\n  "error.http.status.500": "Es ist ein Serverfehler aufgetreten. Bitte erneut versuchen.",\n  "error.http.status.503": "Der Server ist nicht erreichbar. Bitte erneut versuchen.",\n  "error.sessionExpired": "Die Sitzung is abgelaufen. Bitte Workplace erneut laden. Ungespeicherte Änderungen gehen möglicherweise verloren.",\n  "error.sessionExpired.title": "Sitzung abgelaufen",\n  "error.workplace.notAvailable.default": "Der Workplace ist vorübergehend nicht erreichbar.<br> Bitte später erneut versuchen. <br>Kontakt myWorkplace support: <a href=\\"mailto:myWorkplace@bmw.com\\">myWorkplace@bmw.com</a>",\n  "error.workplace.notAvailable.ios": "Der Workplace ist vorübergehend nicht erreichbar.<br> Bitte später erneut versuchen. <br>Kontakt myWorkplace support: <a href=\\"awemailclient://emailcompose?kAWEmailClientEmailTo=myWorkplace@bmw.com\\">myWorkplace@bmw.com</a>",\n  "error.workplace.app.list.legend": "Fallback-Liste mit Direktzugriff auf die Applikationen",\n  "error.reload": "Workplace erneut laden",\n  "error.createTask": "Erstellung der Aufgabe fehlgeschlagen.",\n  "error.apps": "Applikationen",\n  "error.cannot.add.locked.widget": "Sie dürfen kein gesperrtes Widget auf einem Dashboard anlegen",\n  "error.file.content.type.not.allowed": "Upload fehlgeschlagen. Dateiformat nicht unterstützt.",\n  "error.file.general": "Upload fehlgeschlagen.",\n  "error.file.contains.virus": "Die Datei entspricht nicht den Sicherheitsrichtlinien und enthält als verdächtig eingestuften Code. Die Datei kann daher nicht hochgeladen werden.",\n  "dashboard.context.dropdown.label": "Datenstand",\n  "dashboard.widget.system.dash.reset.error": "Dashboard zurückgesetzt.<br><br>Das Dashboard wurde auf initiales System zurückgesetzt, da die geteilte Kopie gelöscht wurde.",\n  "dashboard.category.title": "Neue Kategorie",\n  "dashboard.category.title.edit.placeholder": "Bitte neuen Titel einfügen.",\n  "dashboard.category.delete.confirmation.message" : "Soll die Kategorie \\"{{name}}\\" wirklich gelöscht werden?",\n  "dashboard.category.delete.confirmation.title": "Kategorie löschen",\n  "dashboard.category.delete.confirmation.button.label" : "Löschen",\n  "dashboard.category.title.hover.edit": "Klicken um zu editieren",\n  "dashboard.category.create.favorite": "Link anlegen",\n  "dashboard.category.rename.category": "Kategorie umbenennen",\n  "dashboard.category.delete.category": "Kategorie löschen",\n  "dialogs.category.remove.success": "Kategorie \\"{{name}}\\" wurde gelöscht.",\n  "dashboard.inline.edit.empty": "Bitte Titel einfügen",\n  "dashboard.widget.controls.legend": "Legende",\n  "dashboard.widget.controls.settings": "Link bearbeiten",\n  "dashboard.widget.controls.refresh": "Refresh",\n  "dashboard.widget.controls.shared": "Shared by",\n  "dashboard.widget.controls.shared.info": "{{name}} {{surname}} | {{ department }} hat diesen Link mit dir geteilt.",\n  "dashboard.widget.controls.shared.owner": "Du hast diesen Link geteilt",\n  "dashboard.shared.owner": "Du hast dieses Dashboard geteilt",\n  "favorite.shared.owner": "Du hast dieses Link geteilt",\n  "dashboard.shared.info.external.obo": " | extern im Auftrag von {{department}}",\n  "dashboard.shared.info.internal": " | {{department}}",\n  "dashboard.shared.info.text": " hat dieses Dashboard mit dir geteilt.",\n  "favorite.shared.info.text": " hat dieses Link mit dir geteilt.",\n  "dashboardmenu.item.strongAuth": "Öffnet dieses Dashboard in einer neuen Workplace Instanz mit starker Authentifizierung",\n  "dialogs.dashboard.buttons.add.accept": "Speichern",\n  "dialogs.dashboard.buttons.add.cancel": "Abbrechen",\n  "dialogs.dashboard.add.title": "Dashboard anlegen",\n  "dialogs.dashboard.add.input.placeholder": "Name",\n  "dialogs.dashboard.error.name.required": "Das ist ein Pflichtfeld.",\n  "dialogs.dashboard.error.name.maxlength": "Der Name eines Dashboards darf max. 30 Zeichen (inkl. Leerzeichen) enthalten.",\n  "dialogs.dashboard.buttons.edit.cancel": "Abbrechen",\n  "dialogs.dashboard.buttons.edit.accept": "Speichern",\n  "dialogs.dashboard.edit.title": "Dashboard umbenennen",\n  "dialogs.dashboard.edit.input.placeholder": "Name",\n  "dialogs.dashboard.buttons.delete.cancel": "Abbrechen",\n  "dialogs.dashboard.buttons.reset.cancel": "Abbrechen",\n  "dialogs.dashboard.buttons.delete.accept": "Löschen",\n  "dialogs.dashboard.buttons.reset.accept": "Zurücksetzen",\n  "dialogs.dashboard.delete.title": "Dashboard löschen",\n  "dialogs.dashboard.reset.title": "Dashboard zurücksetzen",\n  "dialogs.dashboard.delete.message": "Soll das Dashboard \\"{{name}}\\" wirklich gelöscht werden?",\n  "dialogs.dashboard.reset.message": "Soll das Dashboard wirklich auf den Originalzustand zurückgesetzt werden? Alle privaten Änderungen gehen dabei verloren.",\n  "dialogs.dashboard.delete.success": "Das Dashboard \\"{{name}}\\" ist gelöscht.",\n  "dialogs.dashboard.reset.success": "Das Dashboard \\"{{name}}\\" wurde zurückgesetzt.",\n  "dialogs.dashboard.share.title": "Dashboard teilen",\n  "dashboard.empty": "Inhalte können über das <i class=\\"iwp-icon-gen_kontextmenu\\"></i> Menü der Kategorie oder durch Drag & Drop aus dem App Menü hinzugefügt werden.",\n  "dashboard.restricted.role": "Das Dashboard ist aufgrund der ausgewählten Businessrolle nicht verfügbar.",\n  "dashboard.strong.auth.mismatch": "Öffnet dieses Dashboard in einer neuen Workplace Instanz mit starker Authentifizierung",\n  "dialogs.favorite.error.max.lines": "Namen dürfen nur aus zwei Zeilen bestehen",\n  "dialogs.favorite.title": "Link anlegen",\n  "dialogs.favorite.label.name": "Name",\n  "dialogs.favorite.error.name.required": "Das ist ein Pflichtfeld.",\n  "dialogs.favorite.error.name.maxlength": "Der Name eines Links darf max. 50 Zeichen (inkl. Leerzeichen) enthalten.",\n  "dialogs.favorite.label.address": "Adresse",\n  "dialogs.favorite.error.address.required": "Adresse wird benötigt.",\n  "dialogs.favorite.error.address.maxlength": "Der Pfad darf max. 2048 Zeichen (inkl. Leerzeichen) enthalten.",\n  "dialogs.favorite.error.address.uri": "Das ist keine gültige Adresse. Bitte Hinweis befolgen.",\n  "dialogs.favorite.info.address.uri": "Web Adresse - Beispiel: https://coma.bmwgroup.net/web/start\\n\\nFile URI\\nWindows UNC kompatibler Network Share - Beispiel:\\nfile:\\\\\\\\europe.bmw.corp\\\\winfs\\\\folder\\\\file.txt\\n\\nMac UNC kompatibler Network Share - Beispiel:\\nsmb://europe.bmw.corp/winfs/folder/file.txt",\n  "dialogs.favorite.info.address.nolocaluri": "Adressen auf das lokale Filesystem werden nicht unterstützt.",\n  "dialogs.favorite.buttons.save": "Speichern",\n  "dialogs.favorite.buttons.cancel": "Abbrechen",\n  "dialogs.favorite.buttons.crop.crop.format.label": "<b>Bildausschnitt</b> und <b>Kachelformat</b> können hier für den Links festgelegt werden.",\n  "dialogs.favorite.buttons.crop.cancel": "Abbrechen",\n  "dialogs.favorite.buttons.crop.accept": "Übernehmen",\n  "dialogs.favorite.edit.title": "Link bearbeiten",\n  "dialogs.favorite.label.picture": "Bild",\n  "dialogs.favorite.buttons.change.picture": "Bild ändern",\n  "dialogs.favorite.buttons.reset.picture": "Standardbild",\n  "dialogs.favorite.buttons.crop.rectangle.label": "Rechteck",\n  "dialogs.favorite.buttons.crop.square.label": "Quadrat",\n  "dialogs.favorite.popup.file.error.title": "Fehler beim Hochladen",\n  "dialogs.favorite.popup.file.error.message": "Das Bild muss im PNG, JPEG oder GIF Format vorliegen und darf max. 3 MB groß sein. Bitte entsprechende Datei hochladen.",\n  "dialogs.favorite.add.success": "Link \\"{{name}}\\" wurde angelegt.",\n  "dialogs.category.add.success": "Eine neue Kategorie wurde erstellt.",\n  "dialogs.favorite.remove.success": "Link \\"{{name}}\\" wurde gelöscht.",\n  "dialogs.favorite.rename.title": "Link umbenennen",\n  "dialogs.favorite.share.title": "Link teilen",\n  "dialogs.favorite.share.empty": "leer",\n  "dialogs.favorite.share.unified.search.placeholder": "z.B. Max Mustermann EG-123",\n  "dialogs.favorite.share.person.search.placeholder": "z.B. Max Mustermann EG-123",\n  "dialogs.favorite.share.team.search.placeholder": "z.B. Projekt Team X",\n  "dialogs.favorite.share.selected.items.label": "Teilen an:",\n  "dialogs.favorite.share.section.title.edit": "Schreibberechtigte",\n  "dialogs.favorite.share.section.title.view": "Leseberechtigte",\n  "dialogs.favorite.share.search.for.label": "Suche nach:",\n  "dialogs.favorite.share.search.for.person.text": "Person",\n  "dialogs.favorite.share.search.for.team.text": "Team",\n  "dialogs.favorite.share.search.tooManyResults": "Es werden maximal 10 Treffer angezeigt. Bitte über Suchkriterien weiter eingrenzen.",\n  "dialogs.favorite.share.search.table.column.header.name": "Name",\n  "dialogs.favorite.share.search.table.column.header.email": "E-Mail",\n  "dialogs.favorite.share.search.table.column.header.department": "Abteilung",\n  "dialogs.favorite.share.search.table.column.header.creator": "Ersteller",\n  "dialogs.favorite.share.search.table.add.item.duplicate": "Der Name ist bereits in der Teamliste vorhanden.",\n  "dialogs.favorite.share.search.table.add.item.self": "Ein Link kann nur mit anderen Anwendern geteilt werden.",\n  "dialogs.favorite.shared.button.accept.label": "Hinzufügen",\n  "dialogs.dashboard.shared.button.accept.label": "Annehmen",\n  "dialogs.favorite.shared.accept.title": "Link annehmen",\n  "dialogs.favorite.shared.accept.buttons.ok.label": "Annehmen",\n  "dialogs.favorite.shared.accept.buttons.cancel.label": "Abbrechen",\n  "dialogs.favorite.shared.accept.dropdown.label": "Link \\"{{name}}\\" ablegen auf:",\n  "dialogs.share.buttons.ok.label": "Teilen",\n  "dialogs.share.buttons.cancel.label": "Abbrechen",\n  "dialogs.share.success": " \\"{{name}}\\" wurde erfolgreich geteilt",\n  "dialogs.share.unshare": "Bitte einen Empfänger für \\"{{name}}\\" auswählen.",\n  "dialogs.favorite.edit.size.title": "Widget Größe anpassen",\n  "dialogs.favorite.edit.size.message": "Klicke im Grid um die Größe des Widgets auf dem Dashboard zu ändern.",\n  "dialogs.favorite.edit.size.original": "Aktuelle Größe: ",\n  "dialogs.favorite.edit.size.new": "Neue Größe: ",\n  "dialogs.favorite.edit.size.buttons.ok.label": "Übernehmen",\n  "dialogs.favorite.edit.size.buttons.cancel.label": "Abbrechen",\n  "dialogs.terms.accept": "Ich stimme zu",\n  "dialogs.terms.cancel": "Schließen",\n  "dialogs.rating.campaign.title": "Bewertung",\n  "dialogs.rating.buttons.ok": "Jetzt bewerten",\n  "dialogs.rating.buttons.cancel": "Zeige das nie wieder",\n  "dialogs.rating.buttons.later": "Nicht jetzt",\n  "dialogs.survey.campaign.title": "Feedback",\n  "dialogs.survey.buttons.ok": "Feedback einreichen",\n  "dialogs.survey.buttons.cancel": "Abbrechen",\n  "dialogs.survey.campaign.body": "Bitte bewerten Sie folgende Aussagen nach Ihrer Zustimmung",\n  "dialogs.survey.info.agree": "Ich stimme vollkommen zu",\n  "dialogs.survey.info.disagree": "Ich stimme überhaupt nicht zu",\n  "dialogs.survey.notification.success.title": "Vielen Dank!",\n  "dialogs.survey.notification.success.content": "Sie haben Ihr Feedback erfolgreich abgesendet.",\n  "dialogs.common.buttons.reload": "Aktualisieren",\n  "dialogs.common.buttons.cancel": "Abbrechen",\n  "dialogs.imprint.title": "Impressum",\n  "dialogs.imprint.content.default": "<p>Diese Webseite wird von der Bayerischen Motoren Werke Aktiengesellschaft (Petuelring 130, 80809 München) betrieben.</p><br><p>Elektronischer Kontakt: <a href=\\"mailto:myWorkplace@bmw.com\\">myWorkplace@bmw.com</a><br>Telefon: +49 89 382 55555</p><br><p>Die BMW AG wird vor allem durch den Vorstand (Harald Krüger, Vorsitzender, Milagros Caiña Carreiro-Andree, Klaus Fröhlich, Pieter Nota, Nicolas Peter, Peter Schwarzenbauer, Andreas Wendt, Oliver Zipse) vertreten.</p><br><p>Vorsitzender des Aufsichtsrates: Norbert Reithofer</p><br><p>Sitz und Registergericht: München HRB 42243<br>Umsatzsteueridentifikationsnummer: DE129273398</p>",\n  "dialogs.imprint.content.ios": "<p>Diese Webseite wird von der Bayerischen Motoren Werke Aktiengesellschaft (Petuelring 130, 80809 München) betrieben.</p><br><p>Elektronischer Kontakt: <a href=\\"awemailclient://emailcompose?kAWEmailClientEmailTo=myWorkplace@bmw.com\\">myWorkplace@bmw.com</a><br>Telefon: +49 89 382 55555</p><br><p>Die BMW AG wird vor allem durch den Vorstand (Harald Krüger, Vorsitzender, Milagros Caiña Carreiro-Andree, Klaus Fröhlich, Pieter Nota, Nicolas Peter, Peter Schwarzenbauer, Andreas Wendt, Oliver Zipse) vertreten.</p><br><p>Vorsitzender des Aufsichtsrates: Norbert Reithofer</p><br><p>Sitz und Registergericht: München HRB 42243<br>Umsatzsteueridentifikationsnummer: DE129273398</p>",\n  "dialogs.messages.task.unsharing.open": "öffnen",\n  "fullscreen.show.tooltip": "Vollbildmodus, Taste F11",\n  "fullscreen.hide.tooltip": "Vollbildmodus beenden, Taste F11",\n  "help.workplace.link": "Workplace Manual",\n  "help.workplace.contact": "Workplace Kontakt",\n  "help.workplace.email": "myWorkplace@bmw.com",\n  "help.selectedApp.link": "{{description}} Hilfe",\n  "help.workplace.guidedtour": "Guided Tour",\n  "help.workplace.guidedtour.firststeps": "Erste Schritte im myWorkplace",\n  "help.workplace.guidedtour.dashboards": "Dashboard gestalten",\n  "help.workplace.guidedtour.favorite":"Link verwalten",\n  "help.workplace.imprint": "Impressum",\n  "horizontal.split.tooltip" : "Horizontaler Split Screen",\n  "logout.confirmation.title": "Abmelden",\n  "logout.confirmation.message": "Bei der Abmeldung werden alle aktiven Sitzungen beendet, nicht gespeicherte Daten gehen verloren. Wirklich abmelden?",\n  "logout.confirmation.button.ok": "Abmelden",\n  "logout.confirmation.button.cancel": "Abbrechen",\n  "logout.confirmation.checkbox.save.state": "Geöffnete Tabs bei der nächsten Anmeldung wiederherstellen",\n  "messages.notification.text": "Ungelesene Mitteilung",\n  "messages.noMessages": "Keine Nachrichten",\n  "menu.item.help": "Hilfe",\n  "menu.item.tasks": "Aufgaben",\n  "menu.item.search": "Suche",\n  "menu.item.user": "Rolle auswählen",\n  "menu.item.user.terms": "Nutzungsbestimmungen",\n  "menu.item.user.terms.title": "Allgemeine Nutzungsbestimmungen für den myWorkplace",\n  "menu.item.messages": "Mitteilungen",\n  "mobile.open.vmwareBrowser.title": "Öffne in browser",\n  "mobile.open.vmwareBrowser.message": "VMWare Web ist über App Catalog verfügbar",\n  "roleContext.derivatives": "ModulOrg: {{module}} | Derivate: {{derivatives}}",\n  "roleContext.plOrg": "ModulOrg: {{module}} | PL-Org: {{plOrg}}",\n  "navbarMenu.tooltip": "Workplace Menü",\n  "notification.type.error": "Fehler",\n  "notification.type.warning": "Warnung",\n  "notification.type.info": "Info",\n  "notification.popup.button.ok": "Ok",\n  "notification.popup.button.cancel": "Abbrechen",\n  "notification.sharing.dashboard.accepted": "Das geteilte Dashboard {{title}} wurde angenommen",\n  "notification.sharing.dashboard.available": "Das Dashboard {{title}} ist bereits vorhanden",\n  "notification.sharing.search.favorite.cannot.be.accepted": "Link kann nicht angenommen werden, da die App {{description}} nicht verfügbar ist. Bitte Berechtigungen überprüfen.",\n  "notification.max.tabs.reached": "Maximale Anzahl von 20 offenen Tabs wurde erreicht. Bitte Tabs schließen und erneut versuchen.",\n  "searchbar.searchInputPlaceholder": "Suche...",\n  "setting.minimizeSidebar": "App-Leiste in schmaler Version",\n  "setting.navigationbarSidebar": "App-Leiste als Sidebar darstellen",\n  "tabview.button.splitscreen.close.tooltip": "Split Screen beenden",\n  "support.supportOverlay.button.article.label": "Artikel",\n  "support.supportOverlay.button.article.tooltip": "Artikel in MyBMWIT Wissensdatenbank anzeigen",\n  "support.supportOverlay.button.article.tooltip.disabled": "Kein Artikel in MyBMWIT Wissensdatenbank gefunden",\n  "support.supportOverlay.button.incident.label": "Ticket",\n  "support.supportOverlay.button.incident.tooltip": "Ticketformular der MyBMWIT aufrufen",\n  "support.supportOverlay.button.chat.label": "Chat",\n  "support.supportOverlay.button.chat.tooltip": "Chat mit der Support Gruppe {{serviceGroup}} starten",\n  "support.form.application": "Applikationsbezeichnung",\n  "support.form.username": "Anwender Name",\n  "support.form.appRole": "Applikationsrolle",\n  "support.form.businessRole": "Businessrolle",\n  "support.form.email": "E-Mail Adresse",\n  "support.form.phone": "Telefonnummber",\n  "support.form.msgCode": "Fehlercode",\n  "support.form.appState": "Prozessschritt",\n  "support.form.serviceGroup": "Service Gruppe",\n  "tasks.message.newTasks": "Aufgabenvorrat wurde aktualisiert.",\n  "tasks.noTasks": "Keine Aufgaben",\n  "tasks.tasksServiceUnavailable": "Aufgaben Service ist nicht erreichbar.",\n  "userinfo.noRoles": "Keine Rollen zugewiesen",\n  "userinfo.substitute": "in Vertretung von",\n  "userinfo.app.settings.startup.": "Starteinstellungen",\n  "userinfo.settings": "Nutzereinstellungen",\n  "userinfo.roles": "Rollen",\n  "tabs.help.title": "Hilfe",\n  "tabs.close.tooltip" : "Schließen",\n  "tabs.settings.tooltip" : "Menü öffnen",\n  "tabs.refresh.tooltip" : "Neu laden",\n  "vertical.split.tooltip" : "Vertikaler Split Screen",\n  "widget.definition.gamstka.description": "gÄMSE, die heute mit dem Änderungsabschluss im Zeitfenster von -28 bis +56 Tagen liegen (alle Wochentage).",\n  "widget.definition.gamstka.column.label.count": "Anzahl",\n  "widget.definition.gamstka.column.label.status": "Status",\n  "widget.definition.gamsstatus.column.label.count": "Anzahl",\n  "widget.definition.gamsstatus.column.label.status": "Status",\n  "widget.definition.stackedbar.column.label.count": "Anzahl",\n  "widget.definition.stackedbar.column.label.status": "Status",\n  "widget.definition.gamsdlz.description": "Von Konzeptdatum bis heute gerechnet (5 Arbeitstage exkl. Samstag, Sonntag, Feiertage).",\n  "widget.definition.gamsdlz.column.label.count": "Anzahl",\n  "widget.definition.gamsdlz.column.label.days": "Offen seit",\n  "widget.definition.training.column.title.count": "Titel",\n  "widget.definition.errorMsg.500": "Es ist ein Serverfehler beim Abruf des Widgets aufgetreten.",\n  "widget.definition.errorMsg.403": "Keine ausreichenden Berechtigungen. Bitte entsprechende Zulassung beantragen.",\n  "widget.definition.errorMsg.404": "Ressource wurde nicht gefunden. Überprüfung der Widget Konfiguration erforderlich.",\n  "widget.favorite.appNotFound": "App wurde nicht gefunden.",\n  "widget.favorite.dragDrop.duplicateEntry.title": "Fehler",\n  "widget.favorite.dragDrop.duplicateEntry": "Link ist auf dem Dashboard bereits vorhanden.",\n  "widget.ekw.description": "Widget zeigt die Einkaufswagen der letzten 90 Tage an.",\n  "widget.ekw.title": "Meine EKW",\n  "widget.ekw.sapSso.error": "Fehler beim Anmelden per SAP SSO",\n  "widget.ekw.header.number": "Nummer",\n  "widget.ekw.header.description": "Title",\n  "widget.ekw.header.status": "Status",\n  "widget.ekw.header.totalValue": "Gesamtwert",\n  "widget.tasks.header.category": "System",\n  "widget.tasks.header.title": "Titel",\n  "widget.tasks.header.due_date": "Fälligkeit",\n  "widget.tasks.description": "Aufgaben",\n  "widget.tasks.title": "Meine Aufgaben",\n  "widget.chart.context.link": "App mit diesem Kontext öffnen",\n  "widget.noData" : "Es wurden keine Daten für {{name}} gefunden",\n  "widget.settings.openapp.browser" : "Neues Fenster öffnen",\n  "widget.settings.create.favorite" : "Link anlegen",\n  "widget.settings.edit.favorite" : "Link bearbeiten",\n  "widget.settings.rename.favorite": "Link umbenennen",\n  "widget.settings.share.favorite" : "Link teilen",\n  "widget.settings.delete.favorite" : "Link löschen",\n  "widget.settings.edit.favorite.size": "Größe bearbeiten",\n  "widget.settings.edit.favorite.maximize": "Maximieren",\n  "widget.settings.share.dashboard" : "Dashboard teilen",\n  "widget.settings.edit.dashboard": "Dashboard umbenennen",\n  "widget.settings.add.category": "Neue Kategorie hinzufügen",\n  "widget.settings.delete.dashboard": "Dashboard löschen",\n  "widget.settings.reset.dashboard": "Dashboard zurücksetzen",\n  "widget.settings.copyLink": "Link kopieren",\n  "widget.delete.confirmation.title": "Link löschen",\n  "widget.delete.confirmation.message" : "Soll der Link \\"{{name}}\\" wirklich gelöscht werden?",\n  "widget.delete.confirmation.button.label" : "Löschen",\n  "widget.pmc.noTableData": "Keine Daten vorhanden.",\n  "widget.pmc.line.chart.data.values.label": "Datumswerte: ",\n  "widget.pmc.line.chart.data.values.30.days": "Letzte 30 Tage",\n  "widget.pmc.line.chart.data.values.90.days": "Letzte 90 Tage (alle 3 Tage)",\n  "widget.pmc.line.chart.data.values.210.days": "Letzte 210 Tage (alle 7 Tage)",\n  "widget.pmc.line.chart.labels.order": "Auftrag:",\n  "widget.pmc.line.chart.labels.reportrange": "Berichtsgroße:",\n  "widget.pmc.line.chart.labels.date": "Datum:",\n  "widget.pmc.line.chart.labels.value": "Wert:",\n  "widget.pmc.line.chart.legend.labels.plan": "Plan:",\n  "widget.pmc.line.chart.legend.labels.estimation": "Prognose:",\n  "widget.pmc.line.chart.legend.labels.target": "Ziel:",\n  "widget.pmc.bar.chart.legend.labels.column": "Säule:",\n  "widget.pmc.bar.chart.legend.labels.category": "Wert:",\n  "widget.dali.punkte.blue": "In Regelbearbeitung",\n  "widget.dali.punkte.red": "Überschritten",\n  "widget.locked.message": "Dieses Widget ist für Sie gesperrt, wegen einer Sichtbarkeitsregel. Bitte wenden Sie sich an einen Administrator.",\n  "widget.restrictions.business.role": "Businessrolle fehlt",\n  "widget.restrictions.portal.role": "Portalrolle fehlt",\n  "widget.restrictions.origin.intranet": "Nicht für Intranet verfügbar",\n  "widget.restrictions.origin.internet": "Nicht für Internet verfügbar",\n  "widget.restrictions.string.auth": "Nur mit starker Authentifizierung verfügbar",\n  "workplace.api.help.label": "Hilfe: {{description}}",\n  "omnisearch.showMore": "Mehr anzeigen...",\n  "omnisearch.noResults": "Keine Ergebnisse gefunden.",\n  "omnisearch.dashboards.title": "Dashboards",\n  "omnisearch.apps.title": "Applikationen",\n  "omnisearch.tasks.title": "Aufgaben",\n  "omnisearch.employee.title": "Personen",\n  "omnisearch.employee.external": "extern",\n  "omnisearch.employee.inOrderOf": "Im Auftrag von {{department}}",\n  "omnisearch.employee.inOrderOf.short": "i.A. {{department}}",\n  "omnisearch.favorite.title": "Links",\n  "omnisearch.knowledgefinder.title": "Wissensfinder",\n  "omnisearch.searchFor.title": "Suche nach \\"{{term}}\\" in",\n  "omnisearch.top.results": "Top 5",\n  "guidedtour.is.active.title": "Guided Tour bereits geöffnet",\n  "guidedtour.is.active.message": "Es ist bereits eine Guided Tour aktiv. Die geöffnete Tour muss geschlossen werden, um eine Tour zu starten.",\n  "guidedtour.config.step.button.next": "Weiter",\n  "guidedtour.config.step.button.previous": "Zurück",\n  "guidedtour.config.step.button.end": "Beenden",\n  "guidedtour.config.step.button.no": "Nicht interessiert",\n  "guidedtour.config.step.button.later": "Später",\n  "guidedtour.config.step.button.sure": "Start",\n  "guidedtour.welcome.step.zero.title": "Willkommen",\n  "guidedtour.welcome.step.zero.description": "Hallo {{name}}, willkommen beim myWorkplace. Mit unserer Guided Tour zeigen wir dir die wichtigsten Funktionen der Plattform. Möchtest du die Tour jetzt starten?",\n  "guidedtour.welcome.step.one.title": "Applikationsmenü",\n  "guidedtour.welcome.step.one.description": "Hier sind die Workplace Apps zu Hause. Ziehe dir deine Apps einfach aufs Dashboard und habe diese damit direkt im Zugriff.",\n  "guidedtour.welcome.step.two.title": "Suche",\n  "guidedtour.welcome.step.two.description": "Schnell finden statt lange suchen. Die Workplace Suche findet Apps, Aufgaben und Kollegen oder kann den Suchbegriff an spezialisierte Suchmaschinen übergeben.",\n  "guidedtour.welcome.step.three.title": "Links erstellen",\n  "guidedtour.welcome.step.three.description": "Möchtest du eigene Links erstellen? Hier kannst du Links auf Webseiten, Dateien, Verzeichnisse und Applikationen erstellen.",\n  "guidedtour.welcome.step.four.title": "Aufgabenvorrat",\n  "guidedtour.welcome.step.four.description": "Alle Aufgaben im Blick. Der zentrale Aufgabenvorrat unterstützt dich beim Erledigen deiner Aufgaben.",\n  "guidedtour.dashboards.step.one.title": "Dashboard anlegen",\n  "guidedtour.dashboards.step.one.description":"Mit einem Klick auf den Button <span class=\'iwp-icon-iwp_dashboard_add\'> </span> kannst du ein neues Dashboard anlegen.",\n  "guidedtour.dashboards.step.two.title": "Apps auf dem Dashboard ablegen",\n  "guidedtour.dashboards.step.two.description": "Ziehe dir deine Apps aus dem App Menü aufs Dashboard und habe diese damit schnell im Zugriff.",\n  "guidedtour.dashboards.step.three.title": "Link auf dem Dashboard anlegen",\n  "guidedtour.dashboards.step.three.description": "Auf dem Dashboard können Links auf Webseiten, Dateien, Verzeichnisse über den Button  <span class=\'iwp-icon-gen_add_favorite\'> </span> als Links angelegt werden.",\n  "guidedtour.dashboards.step.four.title": "Links auf dem Dashboard verschieben",\n  "guidedtour.dashboards.step.four.description": "Auf dem Dashboard können die Links per Drag & Drop angeordnet werden.",\n  "guidedtour.dashboards.step.four.image": "./assets/guidedTourImages/widget_drag_drop.gif",\n  "guidedtour.dashboards.step.five.title": "Dashboard umbenennen und löschen",\n  "guidedtour.dashboards.step.five.description": "Mit den Funktionen <span class=\'iwp-icon-gen_edit\'></span> und <span class=\'iwp-icon-gen_delete\'></span> kannst du ein von dir angelegtes Dashboard umbenennen bzw. komplett löschen.",\n  "guidedtour.dashboards.step.five.image": "./assets/guidedTourImages/RenameAndDeleteDashboard_DE.png",\n  "guidedtour.favorite.step.one.title": "Link anlegen",\n  "guidedtour.favorite.step.one.description":"Nutze die Funktion <span class=\'iwp-icon-gen_add_favorite\'> </span>  um Links auf Webseiten, Dateien, Verzeichnisse zu erstellen.",\n  "guidedtour.favorite.step.two.title": "Link bearbeiten",\n  "guidedtour.favorite.step.two.description": "Klicke auf „Links bearbeiten“ und ändere den Namen, Link oder das Bild der Kachel.",\n  "guidedtour.favorite.step.two.image": "./assets/guidedTourImages/EditFavorite_DE.png",\n  "guidedtour.favorite.step.three.title": "Link teilen",\n  "guidedtour.favorite.step.three.description": "Klicke auf „Link teilen“ und wähle Kollegen bzw. Teams aus, mit denen du den Links teilen möchtest. Klicke anschließend auf den Button „Teilen“. ",\n  "guidedtour.favorite.step.three.image": "./assets/guidedTourImages/ShareFavorite_DE.gif",\n  "guidedtour.favorite.step.four.title": "Link empfangen",\n  "guidedtour.favorite.step.four.description": "Öffne das Mitteilungsmenü und entscheide auf welchem  Dashboard der Link abgelegt werden soll. Du kannst den Links auch später annehmen",\n  "guidedtour.favorite.step.four.image": "./assets/guidedTourImages/ReceiveFavorite_DE.gif",\n  "guidedtour.favorite.step.five.title": "Symbolik für Links",\n  "guidedtour.favorite.step.five.description": "Geteilter Link <span class=\'iwp-icon-iwp_share_owner\'> </span>   <p>Empfangener Link <span class=\'iwp-icon-iwp_share_participant\'> </span> </p>",\n  "guidedtour.favorite.step.six.title": "Link löschen",\n  "guidedtour.favorite.step.six.description": "Für das Löschen von einem Links klicke auf den Button <span class=\'iwp-icon-gen_kontextmenu\'> </span> und wähle die Funktion „Link löschen“. ",\n  "guidedtour.favorite.step.six.image": "./assets/guidedTourImages/DeleteFavorite_DE.png",\n  "guidedtour.termsofuse": "<p><h1><u>Geheimhaltungs- und Informationsschutzverpflichtung</u></h1></p>  <p>Im Folgenden ist unter „BMW“ die BMW AG und deren verbundene Unternehmen zu verstehen. Durch Ihre Tätigkeit in BMW Projekten und / oder durch die Nutzung von BMW Computer-Systemen haben Sie Zugang zu Informationen, die von großer Bedeutung für den wirtschaftlichen Bestand von BMW sind.</p><p>Sie verpflichten sich deshalb zur Geheimhaltung gegenüber allen Nicht-Berechtigten. In diesem Zusammenhang verweisen wir insbesondere auf die Bestimmungen des Gesetzes gegen den unlauteren Wettbewerb (§§ 17 ff) und auf die Regelungen des Strafgesetzbuches (§§ 201 ff).</p> <p>Sie verpflichten sich ferner, alle Aktivitäten zu unterlassen, die zu einer Zerstörung oder Manipulation von Datenbeständen oder Computer-Systemen durch Sie oder Dritte führen könnten. Wir verweisen auf die Regelungen § 303a,b StGB (Datenveränderung, Computersabotage).</p><p><h1><u>Informationsschutzbestimmungen</p></h1></u><p><ul><li>Sie sind dafür verantwortlich, dass die gespeicherten Daten nur im Rahmen Ihrer Aufgabenstellung verarbeitet oder genutzt werden. Dies gilt auch nach Beendigung Ihres Beschäftigungsverhältnisses oder nach Ablauf des Dienstleistungsvertrages.</li><li>Bestehende Vorschriften über den Umgang bzw. die Sicherung von Daten sind einzuhalten. Rechenzeit darf nur zur Aufgabenerfüllung genutzt werden. Verbrauch von Rechenzeit für private Zwecke oder Drittfirmen außerhalb der Aufgabenstellung ist untersagt.</li><li>Alle nach Eingabe Ihrer User-Id am Terminal bis zur Abmeldung (Logoff) durchgeführten Aktivitäten gelten als von Ihnen getätigt.</li><li>Das Passwort ist geheim zu halten. Sollte das Passwort Unbefugten trotzdem bekannt werden, muss es sofort geändert werden.</li><li>Zum Schutz der Programme/Daten ist die notwendige Sorgfalt anzuwenden; festgestellte Mängel sind dem Allgemeinen Service Zentrum – ASZ (+49 (0) 89 382 55555) zu melden.</li><li>Bei der Verarbeitung und Nutzung personenbezogener Daten sind die Vorschriften des BDSG zu beachten.</li><li>Bei einem Stellenwechsel müssen Sie eine Korrektur bestehender Zugriffsberechtigungen entsprechend Ihrer geänderten Aufgabenstellung veranlassen.</li><li>Bei Beendigung Ihres Beschäftigungsverhältnisses oder mit Ablauf des Dienstleistungsvertrages müssen Sie rechtzeitig die Löschung der UserId veranlassen.</li><li>Das Recht zur Nutzung von Computerprogrammen, die im Zeitraum des Beschäftigungs- oder Vertragsverhältnisses erstellt wurden, geht auf den Auftraggeber über.</li><li>Diese Verpflichtungserklärung lässt andere Geheimhaltungsvorschriften unberührt.</li></ul><p>Bei Verstoß gegen diese Regelung oder missbräuchlicher Handhabung der User-Id (Ausleihen, Übertragen, etc.) behält sich BMW die Sperrung der User-Id und rechtliche Konsequenzen vor.</p>",\n  "open.favorite.copyUrl.success.mac": "Link wurde erfolgreich in die Zwischenablage kopiert. Im Finder CMD+K drücken und Link einfügen um Datei zu öffnen.",\n  "open.favorite.copyUrl.success.win": "Link wurde erfolgreich in die Zwischenablage kopiert. Im Windows-Explorer Alt+E drücken und Link einfügen um Datei zu öffnen.",\n  "d3.locale":"{\\"decimal\\":\\",\\",\\"thousands\\":\\".\\",\\"grouping\\":[3],\\"currency\\":[\\"\\",\\"\\u00a0€\\"],\\"dateTime\\":\\"%A,der%e.%B%Y,%X\\",\\"date\\":\\"%d.%m.%Y\\",\\"time\\":\\"%H:%M:%S\\",\\"periods\\":[\\"AM\\",\\"PM\\"],\\"days\\":[\\"Sonntag\\",\\"Montag\\",\\"Dienstag\\",\\"Mittwoch\\",\\"Donnerstag\\",\\"Freitag\\",\\"Samstag\\"],\\"shortDays\\":[\\"So\\",\\"Mo\\",\\"Di\\",\\"Mi\\",\\"Do\\",\\"Fr\\",\\"Sa\\"],\\"months\\":[\\"Januar\\",\\"Februar\\",\\"März\\",\\"April\\",\\"Mai\\",\\"Juni\\",\\"Juli\\",\\"August\\",\\"September\\",\\"Oktober\\",\\"November\\",\\"Dezember\\"],\\"shortMonths\\":[\\"Jan\\",\\"Feb\\",\\"Mrz\\",\\"Apr\\",\\"Mai\\",\\"Jun\\",\\"Jul\\",\\"Aug\\",\\"Sep\\",\\"Okt\\",\\"Nov\\",\\"Dez\\"]}",\n  "tooltip.user.account.deleted": "Account gelöscht",\n  "layout.dropzone.remove.widget": "Remove widget",\n  "layout.dropzone.cancel.drop": "Abbrechen"\n}\n';

},{}],294:[function(e,t,i){t.exports=t.exports='{\n  "appbehavior.close.confirmation": "Leave workplace?",\n  "apps.open.not.available": "App not available",\n  "appsmenu.applications": "Applications",\n  "appsmenu.dashboards": "Dashboards",\n  "appsmenu.placeholder.filter": "Filter...",\n  "appsmenu.item.strongAuth": "Open this app in new workplace instance with strong authentication",\n  "appsmenu.item.externalTab": "Open this app in a new browser tab",\n  "appsmenu.item.externalWindow": "Open this app in a new browser window",\n  "action.item.logout.text": "Logout",\n  "action.item.roles.help.text": "How to get a role",\n  "action.item.roleManager.text": "Role manager",\n  "error.userInput.maxTabs": "Cannot open more than {{maxTabs}} tabs.",\n  "error.userInput.openApp": "Application \\"{{name}}\\" was not found.",\n  "error.http.status.400": "Please check your search terms. The minimum length of a search term is 3 characters.",\n  "error.http.status.403": "Insufficient permissions. Please check the appropriate access rights.",\n  "error.http.status.401": "Portal registration is required.",\n  "error.http.status.404": "Resource was not found. Please check workplace configuration.",\n  "error.http.status.500": "An Error has occured on the server. Please try again.",\n  "error.http.status.503": "Server cannot be reached. Please try again.",\n  "error.sessionExpired": "Your session has been timed out. Please refresh the workplace. Unsaved changes might be lost!",\n  "error.sessionExpired.title": "Session expired",\n  "error.workplace.notAvailable.default": "The workplace is temporarily not available.<br>Please try again later.<br> Contact myWorkplace support: <a href=\\"mailto:myWorkplace@bmw.com\\">myWorkplace@bmw.com</a>",\n  "error.workplace.notAvailable.ios": "The workplace is temporarily not available.<br>Please try again later.<br> Contact myWorkplace support: <a href=\\"awemailclient://emailcompose?kAWEmailClientEmailTo=myWorkplace@bmw.com\\">myWorkplace@bmw.com</a>",\n  "error.workplace.app.list.legend": "Fallback list with direct access to the applications",\n  "error.reload": "Reload Workplace",\n  "error.createTask": "Task could not be created.",\n  "error.apps": "Applications",\n  "error.cannot.add.locked.widget": "Adding a locked widget to a dashboard is not allowed",\n  "error.file.content.type.not.allowed": "Upload failed. Unsupported file type.",\n  "error.file.general": "Upload failed.",\n  "error.file.contains.virus": "The file does not meet the security guidelines and contains potential malicious code. Therefore it can\'t be uploaded.",\n  "dashboard.context.dropdown.label": "Data status",\n  "dashboard.widget.system.dash.reset.error": "Dashboard reset.<br><br>Dashboard has been reset to the inital system dashboard because the shared copy has been deleted.",\n  "dashboard.category.title": "New category",\n  "dashboard.category.title.edit.placeholder": "Please insert new title.",\n  "dashboard.category.delete.confirmation.message" : "Should the category \\"{{name}}\\" be deleted?",\n  "dashboard.category.delete.confirmation.title": "Delete Category",\n  "dashboard.category.delete.confirmation.button.label" : "Delete",\n  "dashboard.category.title.hover.edit": "Click to edit",\n  "dashboard.category.create.favorite": "Create link",\n  "dashboard.category.rename.category": "Rename category",\n  "dashboard.category.delete.category": "Delete category",\n  "dialogs.category.remove.success": "Category \\"{{name}}\\" has been deleted.",\n  "dashboard.inline.edit.empty": "Please insert titel",\n  "dashboard.widget.controls.legend": "Legend",\n  "dashboard.widget.controls.settings": "Edit link",\n  "dashboard.widget.controls.refresh": "Refresh",\n  "dashboard.widget.controls.shared": "Shared by",\n  "dashboard.widget.controls.shared.info": "{{name}} {{surname}} | {{ department }} has shared this link with you.",\n  "dashboard.widget.controls.shared.owner": "You have shared this link",\n  "dashboard.shared.owner": "You have shared this dashboard",\n  "favorite.shared.owner": "You have shared this favorite",\n  "dashboard.shared.info.external.obo": " | external on behalf of {{department}}",\n  "dashboard.shared.info.internal": " | {{department}}",\n  "dashboard.shared.info.text": " has shared this dashboard with you.",\n  "favorite.shared.info.text": " has shared this favorite with you.",\n  "dashboardmenu.item.strongAuth": "Open this dashboard in new workplace instance with strong authentication",\n  "dialogs.dashboard.buttons.add.accept": "Save",\n  "dialogs.dashboard.buttons.add.cancel": "Cancel",\n  "dialogs.dashboard.add.title": "Add dashboard",\n  "dialogs.dashboard.add.input.placeholder": "Name",\n  "dialogs.dashboard.error.name.required": "It is a mandatory field.",\n  "dialogs.dashboard.error.name.maxlength": "The name of a dashboard must be 30 characters max. (including spaces).",\n  "dialogs.dashboard.buttons.edit.cancel": "Cancel",\n  "dialogs.dashboard.buttons.edit.accept": "Save",\n  "dialogs.dashboard.edit.title": "Rename dashboard",\n  "dialogs.dashboard.edit.input.placeholder": "Name",\n  "dialogs.dashboard.buttons.delete.cancel": "Cancel",\n  "dialogs.dashboard.buttons.reset.cancel": "Cancel",\n  "dialogs.dashboard.buttons.delete.accept": "Delete",\n  "dialogs.dashboard.buttons.reset.accept": "Reset",\n  "dialogs.dashboard.delete.title": "Delete dashboard",\n  "dialogs.dashboard.reset.title": "Reset dashboard",\n  "dialogs.dashboard.delete.message": "Should the dashboard \\"{{name}}\\" be deleted?",\n  "dialogs.dashboard.reset.message": "Are you sure the dashboard should be reverted to its original state? All your changes will be lost.",\n  "dialogs.dashboard.delete.success": "The dashboard \\"{{name}}\\" is deleted.",\n  "dialogs.dashboard.reset.success": "The dashboard \\"{{name}}\\" has been reset.",\n  "dialogs.dashboard.share.title": "Share dashboard",\n  "dialogs.common.buttons.reload": "Refresh",\n  "dialogs.common.buttons.cancel": "Cancel",\n  "dashboard.empty": "Content can be added by the <i class=\\"iwp-icon-gen_kontextmenu\\"></i> symbol in this category or by drag&drop from the application catalog or the menu.",\n  "dashboard.restricted.role": "The dashboard is not available due to the selected business role.",\n  "dashboard.strong.auth.mismatch": "Open this dashboard in new workplace instance with strong authentication",\n  "dialogs.favorite.error.max.lines": "Only two lines are possible for names.",\n  "dialogs.favorite.title": "Add link",\n  "dialogs.favorite.label.name": "Name",\n  "dialogs.favorite.error.name.required": "It is a mandatory field.",\n  "dialogs.favorite.error.name.maxlength": "The name of a link must be 50 characters max. (including spaces).",\n  "dialogs.favorite.label.address": "Address",\n  "dialogs.favorite.error.address.required": "Address is required.",\n  "dialogs.favorite.error.address.maxlength": "The path must be 2048 characters max. (including spaces).",\n  "dialogs.favorite.error.address.uri": "The address is not correct. Please follow the instructions below.",\n  "dialogs.favorite.info.address.uri": "Web address - Example: https://coma.bmwgroup.net/web/start\\n\\nFile URI\\nWindows UNC compatible network share - Example:\\nfile:\\\\\\\\europe.bmw.corp\\\\winfs\\\\folder\\\\file.txt\\n\\nMac UNC compatible network share - Example:\\nsmb://europe.bmw.corp/winfs/folder/file.txt",\n  "dialogs.favorite.info.address.nolocaluri": "Address to local filesystem is not supported.",\n  "dialogs.favorite.buttons.save": "Save",\n  "dialogs.favorite.buttons.cancel": "Cancel",\n  "dialogs.favorite.buttons.crop.crop.format.label": "The <b>image</b> cut-out and <b> tile </b> format can be determined here for the link.",\n  "dialogs.favorite.buttons.crop.cancel": "Cancel",\n  "dialogs.favorite.buttons.crop.accept": "Accept",\n  "dialogs.favorite.edit.title": "Edit link",\n  "dialogs.favorite.label.picture": "Picture",\n  "dialogs.favorite.buttons.change.picture": "Edit picture",\n  "dialogs.favorite.buttons.reset.picture": "Default picture",\n  "dialogs.favorite.buttons.crop.rectangle.label": "Rectangle",\n  "dialogs.favorite.buttons.crop.square.label": "Square",\n  "dialogs.favorite.popup.file.error.title": "Upload error",\n  "dialogs.favorite.popup.file.error.message": "The image must be in PNG, JPEG or GIF format and must be of 3 MB max. in size. Please upload the appropriate file.",\n  "dialogs.favorite.add.success": "Link \\"{{name}}\\" has been created.",\n  "dialogs.category.add.success": "Category has been created.",\n  "dialogs.favorite.remove.success": "Link \\"{{name}}\\" has been deleted.",\n  "dialogs.favorite.share.title": "Share link",\n  "dialogs.favorite.share.empty": "empty",\n  "dialogs.favorite.share.unified.search.placeholder": "eg. Max Mustermann EG-123",\n  "dialogs.favorite.share.person.search.placeholder": "eg. Max Mustermann EG-123",\n  "dialogs.favorite.share.team.search.placeholder": "eg. Project team X",\n  "dialogs.favorite.share.section.title.edit": "Can edit",\n  "dialogs.favorite.share.section.title.view": "Can view",\n  "dialogs.favorite.share.selected.items.label": "Share with:",\n  "dialogs.favorite.share.search.for.label": "Search for:",\n  "dialogs.favorite.share.search.for.person.text": "Person",\n  "dialogs.favorite.share.search.for.team.text": "Team",\n  "dialogs.favorite.share.search.table.column.header.name": "Name",\n  "dialogs.favorite.share.search.table.column.header.email": "Email",\n  "dialogs.favorite.share.search.table.column.header.department": "Department",\n  "dialogs.favorite.share.search.table.column.header.creator": "Creator",\n  "dialogs.favorite.share.search.tooManyResults": "A maximum of 10 hits are displayed. Please further refine the search criteria.",\n  "dialogs.favorite.share.search.table.add.item.duplicate": "The name is already in the list.",\n  "dialogs.favorite.share.search.table.add.item.self": "A link can only be shared with other users.",\n  "dialogs.favorite.shared.button.accept.label": "Add",\n  "dialogs.dashboard.shared.button.accept.label": "Accept",\n  "dialogs.favorite.shared.accept.title": "Accept link",\n  "dialogs.favorite.shared.accept.buttons.ok.label": "Accept",\n  "dialogs.favorite.shared.accept.buttons.cancel.label": "Cancel",\n  "dialogs.favorite.shared.accept.dropdown.label": "Add link \\"{{name}}\\" to:",\n  "dialogs.share.buttons.ok.label": "Share",\n  "dialogs.share.buttons.cancel.label": "Cancel",\n  "dialogs.share.success": "\\"{{name}}\\" has been successfully shared",\n  "dialogs.share.unshare": "Please choose a recipient for \\"{{name}}\\".",\n  "dialogs.favorite.edit.size.title": "Change widget size",\n  "dialogs.favorite.edit.size.message": "Click within the grid to adjust the widget size on the dashboard.",\n  "dialogs.favorite.edit.size.original": "Current size: ",\n  "dialogs.favorite.edit.size.new": "New size: ",\n  "dialogs.favorite.edit.size.buttons.ok.label": "Apply",\n  "dialogs.favorite.edit.size.buttons.cancel.label": "Cancel",\n  "dialogs.favorite.rename.title": "Rename link",\n  "dialogs.terms.accept": "I agree",\n  "dialogs.terms.cancel": "Close",\n  "dialogs.rating.campaign.title": "Rating",\n  "dialogs.rating.buttons.ok": "Rate now",\n  "dialogs.rating.buttons.cancel": "Never show this again",\n  "dialogs.rating.buttons.later": "Not now",\n  "dialogs.survey.campaign.title": "Feedback",\n  "dialogs.survey.buttons.ok": "Submit feedback",\n  "dialogs.survey.buttons.cancel": "Cancel",\n  "dialogs.survey.campaign.body": "Please rate these statements from „strongly disagree“ to „strongly agree“:",\n  "dialogs.survey.info.agree": "I strongly agree",\n  "dialogs.survey.info.disagree": "I strongly disagree",\n  "dialogs.survey.notification.success.title": "Thank you!",\n  "dialogs.survey.notification.success.content": "Your feedback has been submitted successfully!",\n  "dialogs.imprint.title": "Imprint",\n  "dialogs.imprint.content.default": "<p>This website is operated by Bayerische Motoren Werke Aktiengesellschaft (Petuelring 130, 80809 Munich).</p><br><p>Electronic contact: <a href=\\"mailto:myWorkplace@bmw.com\\">myWorkplace@bmw.com</a><br>Telephone: +49 89 382 55555</p><br><p>BMW AG is mainly represented by the Management Board (Harald Krüger, Chairman, Milagros Caiña Carreiro-Andree, Klaus Fröhlich, Pieter Nota, Nicolas Peter, Peter Schwarzenbauer, Andreas Wendt, Oliver Zipse).</p><br><p>Chairman of the Supervisory Board: Norbert Reithofer</p><br><p>Registered and registered court: Munich HRB 42243<br>Sales tax identification number: DE129273398</p>",\n  "dialogs.imprint.content.ios": "<p>This website is operated by Bayerische Motoren Werke Aktiengesellschaft (Petuelring 130, 80809 Munich).</p><br><p>Electronic contact: <a href=\\"awemailclient://emailcompose?kAWEmailClientEmailTo=myWorkplace@bmw.com\\">myWorkplace@bmw.com</a><br>Telephone: +49 89 382 55555</p><br><p>BMW AG is mainly represented by the Management Board (Harald Krüger, Chairman, Milagros Caiña Carreiro-Andree, Klaus Fröhlich, Pieter Nota, Nicolas Peter, Peter Schwarzenbauer, Andreas Wendt, Oliver Zipse).</p><br><p>Chairman of the Supervisory Board: Norbert Reithofer</p><br><p>Registered and registered court: Munich HRB 42243<br>Sales tax identification number: DE129273398</p>",\n  "dialogs.messages.task.unsharing.open": "Open",\n  "fullscreen.show.tooltip": "Fullscreen, short key F11",\n  "fullscreen.hide.tooltip": "Escape fullscreen, short key F11",\n  "help.workplace.link": "Workplace Manual",\n  "help.workplace.contact": "Workplace Contact",\n  "help.workplace.email": "myWorkplace@bmw.com",\n  "help.selectedApp.link": "{{description}} Help",\n  "help.workplace.guidedtour": "Guided Tour",\n  "help.workplace.guidedtour.firststeps": "First steps in myWorkplace",\n  "help.workplace.guidedtour.dashboards": "Design dashboard",\n  "help.workplace.guidedtour.favorite":"Manage Link",\n  "help.workplace.imprint": "Imprint",\n  "horizontal.split.tooltip" : "Horizontal Split Screen",\n  "logout.confirmation.title": "Logout",\n  "logout.confirmation.message": "When logging off, all active sessions are terminated and all unsaved data will be lost. Do you really want to log off ?.",\n  "logout.confirmation.button.ok": "Logout",\n  "logout.confirmation.button.cancel": "Cancel",\n  "logout.confirmation.checkbox.save.state": "Restore open tabs at the next login",\n  "messages.notification.text": "New unread message",\n  "messages.noMessages": "No messages",\n  "menu.item.help": "Help",\n  "menu.item.tasks": "Tasks",\n  "menu.item.search": "Search",\n  "menu.item.user": "Change Role",\n  "menu.item.user.terms": "Terms of Use",\n  "menu.item.messages": "Messages",\n  "mobile.open.vmwareBrowser.title": "Opening in browser",\n  "mobile.open.vmwareBrowser.message": "VMWare Web is available in App Catalog",\n  "roleContext.derivatives": "ModuleOrg: {{module}} | Derivatives: {{derivatives}}",\n  "roleContext.plOrg": "ModuleOrg: {{module}} | PL-Org: {{plOrg}}",\n  "navbarMenu.tooltip": "Workplace Menu",\n  "notification.type.error": "Error",\n  "notification.type.warning": "Warning",\n  "notification.type.info": "Info",\n  "notification.popup.button.ok": "Ok",\n  "notification.popup.button.cancel": "Cancel",\n  "notification.sharing.dashboard.accepted": "Shared dashboard: {{title}} accepted",\n  "notification.sharing.dashboard.available": "Shared dashboard: {{title}} is already available",\n  "notification.sharing.search.favorite.cannot.be.accepted": "Link cannot be accepted because the app {{description}} is not available. Please check the role requirements.",\n  "notification.max.tabs.reached": "Maximum number of 20 open tabs reached. Please close some tabs and try again.",\n  "searchbar.searchInputPlaceholder": "Search...",\n  "setting.minimizeSidebar": "Show app bar in minimized version",\n  "setting.navigationbarSidebar": "Show app bar as sidebar",\n  "tabview.button.splitscreen.close.tooltip" : "Close Split Screen",\n  "support.supportOverlay.button.article.label": "Article",\n  "support.supportOverlay.button.article.tooltip": "Show article in MyBMWIT knowledge database",\n  "support.supportOverlay.button.article.tooltip.disabled": "No article found in MyBMWIT knowledge database",\n  "support.supportOverlay.button.incident.label": "Incident",\n  "support.supportOverlay.button.incident.tooltip": "Go to incident form of MyBMWIT",\n  "support.supportOverlay.button.chat.label": "Chat",\n  "support.supportOverlay.button.chat.tooltip": "Open chat with support group {{serviceGroup}}",\n  "support.form.application": "Application name",\n  "support.form.username": "Username",\n  "support.form.appRole": "Application role",\n  "support.form.businessRole": "Business role",\n  "support.form.email": "Email address",\n  "support.form.phone": "Phone",\n  "support.form.msgCode": "Error code",\n  "support.form.appState": "Process step",\n  "support.form.serviceGroup": "Service group",\n  "tasks.message.newTasks": "Tasks have been refreshed",\n  "tasks.noTasks": "No tasks.",\n  "tasks.tasksServiceUnavailable": "Tasks service not available",\n  "userinfo.noRoles": "No roles assigned.",\n  "userinfo.substitute": "on behalf of",\n  "userinfo.app.settings.startup.": "Startup preferences",\n  "userinfo.settings": "User settings",\n  "userinfo.roles": "Roles",\n  "tabs.help.title": "Help",\n  "tabs.close.tooltip" : "Close",\n  "tabs.settings.tooltip" : "Open menu",\n  "tabs.refresh.tooltip" : "Refresh",\n  "vertical.split.tooltip" : "Vertical Split Screen",\n  "widget.definition.gamstka.description": "gÄMSE with termination date between -28 and +56 days (all working days).",\n  "widget.definition.gamstka.column.label.count": "Amount",\n  "widget.definition.gamstka.column.label.status": "Status",\n  "widget.definition.gamsstatus.column.label.count": "Amount",\n  "widget.definition.gamsstatus.column.label.status": "Status",\n  "widget.definition.stackedbar.column.label.count": "Amount",\n  "widget.definition.stackedbar.column.label.status": "Status",\n  "widget.definition.gamsdlz.description": "Calculated since concept starting from today (5 working days, excl. Saturday, Sunday and Holidays).",\n  "widget.definition.gamsdlz.column.label.count": "Amount",\n  "widget.definition.gamsdlz.column.label.status": "Open since",\n  "widget.definition.dali.column.label.count": "Sum",\n  "widget.definition.dali.column.label.status": "",\n  "widget.definition.training.column.title.count": "Title",\n  "widget.definition.errorMsg.500": "An Error has occured on the server. Please try to refresh.",\n  "widget.definition.errorMsg.403": "Insufficient permissions. Please request for appropriate approvals or access rights.",\n  "widget.definition.errorMsg.404": "Resource was not found. Please check widget configuration.",\n  "widget.favorite.appNotFound": "App was not found.",\n  "widget.favorite.dragDrop.duplicateEntry.title": "Error",\n  "widget.favorite.dragDrop.duplicateEntry": "Link exists already on the dashboard.",\n  "widget.chart.context.link": "Open App with this context",\n  "widget.noData" : "No data has been found for {{name}}",\n  "widget.ekw.description": "Widget shows the shopping baskets for the last 90 days.",\n  "widget.ekw.title": "My EKW",\n  "widget.ekw.sapSso.error": "Error while authenticating with SAP SSO service",\n  "widget.ekw.header.number": "Number",\n  "widget.ekw.header.description": "Title",\n  "widget.ekw.header.status": "Status",\n  "widget.ekw.header.totalValue": "Total Value",\n  "widget.tasks.header.category": "System",\n  "widget.tasks.header.title": "Title",\n  "widget.tasks.header.due_date": "Due date",\n  "widget.tasks.description": "Tasks",\n  "widget.tasks.title": "My Tasks",\n  "widget.settings.openapp.browser" : "Open new window",\n  "widget.settings.create.favorite" : "Create link",\n  "widget.settings.edit.favorite" : "Edit link",\n  "widget.settings.rename.favorite": "Rename link",\n  "widget.settings.share.favorite" : "Share link",\n  "widget.settings.delete.favorite" : "Delete link",\n  "widget.settings.edit.favorite.size": "Change size",\n  "widget.settings.edit.favorite.maximize": "Maximize",\n  "widget.settings.share.dashboard" : "Share dashboard",\n  "widget.settings.edit.dashboard": "Rename dashboard",\n  "widget.settings.add.category": "Add new category",\n  "widget.settings.delete.dashboard": "Delete dashboard",\n  "widget.settings.reset.dashboard": "Reset dashboard",\n  "widget.settings.copyLink": "Copy link",\n  "widget.delete.confirmation.title": "Delete link",\n  "widget.delete.confirmation.message" : "Should the link be deleted \\"{{name}}\\"?",\n  "widget.delete.confirmation.button.label" : "Delete",\n  "widget.pmc.noTableData": "No data available.",\n  "widget.pmc.line.chat.data.values.label": "Data values: ",\n  "widget.pmc.line.chart.data.values.30.days": "Last 30 days",\n  "widget.pmc.line.chart.data.values.90.days": "Last 90 days (every 3 days)",\n  "widget.pmc.line.chart.data.values.210.days": "Last 210 days (every 7 days)",\n  "widget.pmc.line.chart.labels.order": "Order:",\n  "widget.pmc.line.chart.labels.reportrange": "Report range:",\n  "widget.pmc.line.chart.labels.date": "Date:",\n  "widget.pmc.line.chart.labels.value": "Value:",\n  "widget.pmc.line.chart.legend.labels.plan": "Plan:",\n  "widget.pmc.line.chart.legend.labels.estimation": "Estimation:",\n  "widget.pmc.line.chart.legend.labels.target": "Target:",\n  "widget.pmc.bar.chart.legend.labels.column": "Column:",\n  "widget.pmc.bar.chart.legend.labels.category": "Value:",\n  "widget.dali.punkte.blue": "In work",\n  "widget.dali.punkte.red": "Overdue",\n  "widget.locked.message": "There\'s a visibility restriction that prevents you from seeing this widget. Please contact an administrator.",\n  "widget.restrictions.business.role": "Business role missing",\n  "widget.restrictions.portal.role": "Portal role missing",\n  "widget.restrictions.origin.intranet": "Not available for intranet",\n  "widget.restrictions.origin.internet": "Not available for internet",\n  "widget.restrictions.string.auth": "Only available with strong auth",\n  "workplace.api.help.label": "Help:  {{description}}",\n  "omnisearch.showMore": "Show more...",\n  "omnisearch.noResults": "No results found.",\n  "omnisearch.dashboards.title": "Dashboards",\n  "omnisearch.apps.title": "Applications",\n  "omnisearch.tasks.title": "Tasks",\n  "omnisearch.employee.title": "Persons",\n  "omnisearch.employee.external": "external",\n  "omnisearch.employee.inOrderOf": "on behalf of {{department}}",\n  "omnisearch.employee.inOrderOf.short": "OBO {{department}}",\n  "omnisearch.favorite.title": "Links",\n  "omnisearch.knowledgefinder.title": "Knowledge finder",\n  "omnisearch.searchFor.title": "Search for \\"{{term}}\\" in",\n  "omnisearch.top.results": "Top 5",\n  "guidedtour.is.active.title": "Guided Tour already started",\n  "guidedtour.is.active.message": "The Tour has to be closed before another tour can be started.",\n  "guidedtour.config.step.button.next": "Next",\n  "guidedtour.config.step.button.previous": "Previous",\n  "guidedtour.config.step.button.end": "Complete",\n  "guidedtour.config.step.button.no": "Nope",\n  "guidedtour.config.step.button.later": "Maybe Later",\n  "guidedtour.config.step.button.sure": "Sure",\n  "guidedtour.welcome.step.zero.title": "Welcome",\n  "guidedtour.welcome.step.zero.description": "{{name}}, welcome to myWorkplace. Want to join our Guided Tour?",\n  "guidedtour.welcome.step.one.title": "Applications menu",\n  "guidedtour.welcome.step.one.description": "That\'s the place were all the apps are at home. Just drag your links to the dashboard to have immediate access.",\n  "guidedtour.welcome.step.two.title": "Search",\n  "guidedtour.welcome.step.two.description": "Want to find things instantly? Just type. The search will find apps, tasks and your colleagues. You can pass on your search to specialized search engines.",\n  "guidedtour.welcome.step.three.title": "Create links",\n  "guidedtour.welcome.step.three.description": "Want to bookmark a webpage or a file? This function creates a links on the dashboard.",\n  "guidedtour.welcome.step.four.title": "Tasks",\n  "guidedtour.welcome.step.four.description": "Get things done! All your tasks are now combined in one list.",\n  "guidedtour.dashboards.step.one.title": "Create dashboard",\n  "guidedtour.dashboards.step.one.description":"By click on the button <span class=\'iwp-icon-iwp_dashboard_add\'> </span> you can create a new dashboard.",\n  "guidedtour.dashboards.step.two.title": "Saving apps on the dashboard",\n  "guidedtour.dashboards.step.two.description": "Drag you apps from the app menu to dashboard and have them quickly accessed.",\n  "guidedtour.dashboards.step.three.title": "Saving a links on the dashboard",\n  "guidedtour.dashboards.step.three.description": "Links on website, files or directory can be placed on the dashboard by click the button <span class=\'iwp-icon-gen_add_favorite\'> </span> .",\n  "guidedtour.dashboards.step.four.title": "Move links to  the dashboard",\n  "guidedtour.dashboards.step.four.description": "The links can be arranged on dashboard with drag&drop.",\n  "guidedtour.dashboards.step.four.image": "./assets/guidedTourImages/widget_drag_drop.gif",\n  "guidedtour.dashboards.step.five.title": "Rename and delete a dashboard",\n  "guidedtour.dashboards.step.five.description": "With functions  <span class=\'iwp-icon-gen_edit\'></span> and <span class=\'iwp-icon-gen_delete\'></span>  you can rename or delete your dashboard completely.",\n  "guidedtour.dashboards.step.five.image": "./assets/guidedTourImages/RenameAndDeleteDashboard_EN.png",\n  "guidedtour.favorite.step.one.title": "Create a links",\n  "guidedtour.favorite.step.one.description":"Use the function <span class=\'iwp-icon-gen_add_favorite\'> </span> to create  link for website, files or directory.",\n  "guidedtour.favorite.step.two.title": "Edit a link",\n  "guidedtour.favorite.step.two.description": "Click on the „Edit links“ and edit the name, link or picture of link.",\n  "guidedtour.favorite.step.two.image": "./assets/guidedTourImages/EditFavorite_EN.png",\n  "guidedtour.favorite.step.three.title": "Share a links",\n  "guidedtour.favorite.step.three.description": "Click \\"Share links\\" and select colleges or teams to share your links with them.",\n  "guidedtour.favorite.step.three.image": "./assets/guidedTourImages/ShareFavorite_EN.gif",\n  "guidedtour.favorite.step.four.title": "Receive of links",\n  "guidedtour.favorite.step.four.description": "Open the message in the message menu und select the target dashboard where you want to save the link. The link will be stored in the message menu, so that you can add it later as well.",\n  "guidedtour.favorite.step.four.image": "./assets/guidedTourImages/ReceiveFavorite_EN.gif",\n  "guidedtour.favorite.step.five.title": "Icons of link",\n  "guidedtour.favorite.step.five.description": "Shared link <span class=\'iwp-icon-iwp_share_owner\'> </span> <p>Received link <span class=\'iwp-icon-iwp_share_participant\'> </span> </p>",\n  "guidedtour.favorite.step.six.title": "Delete link",\n  "guidedtour.favorite.step.six.description": "To delete of favorite click on the button <span class=\'iwp-icon-gen_kontextmenu\'> </span> und select the option \\"Delete link\\".",\n  "guidedtour.favorite.step.six.image": "./assets/guidedTourImages/DeleteFavorite_EN.png",\n  "guidedtour.termsofuse": "<p><h1><u>Obligation to maintain confidentiality and protect information </u></h1></p><p>Hereinafter “BMW” means the BMW AG and its affiliated companies. Your participation in BMW projects and / or the use of BMW computer systems, gives you access to information which is of great commercial value to BMW.</p><p>You are therefore obliged to maintain confidentiality when dealing with unauthorised persons. We would like to draw particular attention to the stipulations of the Law against Unfair Competition (Section 17 ff) and to the regulations of the Criminal Code (Section 201 ff).</p> <p>You are further obliged to refrain from any activity which could lead to the destruction or manipulation of databases or computer systems by yourself or a third party. We would like to draw particular attention to the stipulations of sections 303a and 303b of the Criminal Code (modification of data, computer sabotage).</p><p><h1><u>Information Protection Regulations</p></h1></u><p><ul><li>It is prohibited to process, disclose, make accessible or use any data of BMW AG or its affiliates, other than for the respective purpose of executing a rightfully allocated task. This prohibition extends beyond the completion of duties at BMW.</li><li>Existing regulations on the handling, i.e. securing of data of BMW must be adhered to. Computer time may only be utilised in the framework of the set tasks. The usage of computer time for private purposes or third party companies beyond the specific task is strictly prohibited.</li><li>All activities after your User is logged on until your User is logged off are registered as initiated by yourself.</li><li>The password must be kept secret. If the password becomes known by another person, it must be changed immediately.</li><li>The necessary care must be applied within the framework of set tasks. In order to ensure data / program protection, any irregularities/short comings must be reported immediately to the General Service Centre – ASZ (+49 (0) 89 382 5555 5).</li><li>The use of personal data must be in accordance with corresponding laws.</li><li>It is your responsibility to initiate changes to your access rights should any change to your environment occur, e.g. new or extended Project tasks.</li><li>The respective USERID must be cancelled immediately when you leave the company (disengagement).</li><li>All rights to programs established within the duration of contract are property of BMW and its affiliates.</li><li>This declaration does not affect any other previous secrecy obligations.</li></ul><p>BMW reserves the right to bar a User-Id and to take juridical action in accordance with the company policy in the event of breach of contract or incorrect handling of the User-Id (borrowing, transferring, etc.). </p>",\n  "open.favorite.copyUrl.success.mac": "Link successfully copied to clipboard. Press CMD+K in Finder and paste the link to open the file.",\n  "open.favorite.copyUrl.success.win": "Link successfully copied to clipboard. Press Alt+E in File Explorer and paste the link to open the file.",\n  "d3.locale":"{\\"decimal\\":\\".\\",\\"thousands\\":\\",\\",\\"grouping\\":[3],\\"currency\\":[\\"$\\",\\"\\"],\\"dateTime\\":\\"%a%b%e%X%Y\\",\\"date\\":\\"%m/%d/%Y\\",\\"time\\":\\"%H:%M:%S\\",\\"periods\\":[\\"AM\\",\\"PM\\"],\\"days\\":[\\"Sunday\\",\\"Monday\\",\\"Tuesday\\",\\"Wednesday\\",\\"Thursday\\",\\"Friday\\",\\"Saturday\\"],\\"shortDays\\":[\\"Sun\\",\\"Mon\\",\\"Tue\\",\\"Wed\\",\\"Thu\\",\\"Fri\\",\\"Sat\\"],\\"months\\":[\\"January\\",\\"February\\",\\"March\\",\\"April\\",\\"May\\",\\"June\\",\\"July\\",\\"August\\",\\"September\\",\\"October\\",\\"November\\",\\"December\\"],\\"shortMonths\\":[\\"Jan\\",\\"Feb\\",\\"Mar\\",\\"Apr\\",\\"May\\",\\"Jun\\",\\"Jul\\",\\"Aug\\",\\"Sep\\",\\"Oct\\",\\"Nov\\",\\"Dec\\"]}",\n  "tooltip.user.account.deleted": "Account Deleted",\n  "layout.dropzone.remove.widget": "Remove widget",\n  "layout.dropzone.cancel.drop": "Abort"\n}\n'},{}],295:[function(e,t,i){t.exports=t.exports='{\n  "appbehavior.close.confirmation": "Dejar sesión?",\n  "apps.open.not.available": "Aplicación no disponible",\n  "appsmenu.applications": "Aplicaciones",\n  "appsmenu.dashboards": "Panel de control",\n  "appsmenu.placeholder.filter": "Filtro...",\n  "appsmenu.item.strongAuth": "Abrir esta aplicación en nueva sesión con autenticación segura",\n  "appsmenu.item.externalTab": "Abrir esta aplicación en un nueva pestaña en el buscador ",\n  "appsmenu.item.externalWindow": "Abrir esta aplicación en una nueva ventana del buscador",\n  "action.item.logout.text": "Cerrar sesión",\n  "action.item.roles.help.text": "Como obtener un rol",\n  "action.item.roleManager.text": "Administrador de roles",\n  "error.userInput.maxTabs": "No se pueden abrir más de {{maxTabs}} pestañas.",\n  "error.userInput.openApp": "La aplicación \\"{{name}}\\" no fue encontrada.",\n  "error.http.status.400": "Por favor checar tus términos de búsqueda. El mínimo de caracteres de búsqueda es de 3.",\n  "error.http.status.403": "Falta de autorización. Por favor checar los derechos de acceso apropiados.",\n  "error.http.status.401": "Registro en el portal es requerido.",\n  "error.http.status.404": "Los recursos no fueron encontrados. Por favor checar la configuración del lugar de trabajo.",\n  "error.http.status.500": "Un error ocurrió con el servidor. Por favor inténtalo de nuevo.",\n  "error.http.status.503": "No se puede conectar con el servidor. Por favor inténtalo de nuevo.",\n  "error.sessionExpired": "El tiempo de tu sesión ha expirado. Por favor actualiza tu sesión. Cambios sin guardar se perderán!",\n  "error.sessionExpired.title": "El tiempo de tu sesión expiro",\n  "error.workplace.notAvailable.default": "La sesión esta temporalmente no.<br>Por favor inténtalo más tarde.<br>Contactar con soporte técnico: <a href=\\"mailto:myWorkplace@bmw.com\\">myWorkplace@bmw.com</a>",\n  "error.workplace.notAvailable.ios": "La sesión esta temporalmente no.<br>Por favor inténtalo más tarde.<br>Contactar con soporte técnico: <a href=\\"awemailclient://emailcompose?kAWEmailClientEmailTo=myWorkplace@bmw.com\\">myWorkplace@bmw.com</a>",\n  "error.workplace.app.list.legend": " Lista alternativa con acceso directo a las aplicaciones",\n  "error.reload": "Recargar sesión",\n  "error.createTask": "La tarea no se pudo crear.",\n  "error.file.content.type.not.allowed": "Upload failed. Unsupported file type.",\n  "error.file.general": "Upload failed.",\n  "error.file.contains.virus": "The file does not meet the security guidelines and contains potential malicious code. Therefore it can\'t be uploaded.",\n  "dashboard.context.dropdown.label": "Data status",\n  "dashboard.widget.system.dash.reset.error": "System dash was restarted",\n  "dashboard.category.title": "Nueva categoría",\n  "dashboard.category.title.edit.placeholder": " Por favor poner nuevo título.",\n  "dashboard.category.delete.confirmation.message": " Seguro que quieres eliminar la categoría \\"{{name}}\\"?",\n  "dashboard.category.delete.confirmation.title": "Eliminar Categoría",\n  "dashboard.category.delete.confirmation.button.label": "Eliminar",\n  "dashboard.category.title.hover.edit": "Hacer Clic para editar",\n  "dashboard.category.create.favorite": "Create link",\n  "dashboard.category.rename.category": "Rename category",\n  "dashboard.category.delete.category": "Delete category",\n  "dialogs.category.remove.success": "La Categoría \\"{{name}}\\" se ha eliminado.",\n  "dashboard.inline.edit.empty": "Por favor poner el título",\n  "error.apps": "Aplicaciones",\n  "dashboard.widget.controls.legend": "Leyenda",\n  "dashboard.widget.controls.settings": "Editar los enlaces",\n  "dashboard.widget.controls.refresh": "Actualizar",\n  "dashboard.widget.controls.shared": "compartido por",\n  "dashboard.widget.controls.shared.info": "{{name}} {{surname}} | {{ department }} ha compartido este enlace contigo.",\n  "dashboard.widget.controls.shared.owner": "Has compartido este enlace",\n  "dashboard.shared.owner": "Has compartido este panel de control",\n  "favorite.shared.owner": "Has compartido este link",\n  "dashboard.shared.info.external.obo": " | externo en orden de {{department}}",\n  "dashboard.shared.info.internal": " | {{department}}",\n  "dashboard.shared.info.text": " ha compartido este panel de instrumentos contigo.",\n  "favorite.shared.info.text": " ha compartido este link contigo.",\n  "dashboardmenu.item.strongAuth": "Abrir este panel de instrumentos en una nueva sesión con autenticación segura",\n  "dialogs.dashboard.buttons.add.accept": "Guardar",\n  "dialogs.dashboard.buttons.add.cancel": "Cancelar",\n  "dialogs.dashboard.add.title": "Agregar panel",\n  "dialogs.dashboard.add.input.placeholder": "Nombre",\n  "dialogs.dashboard.error.name.required": "Es un campo obligatorio a rellenar.",\n  "dialogs.dashboard.error.name.maxlength": "El nombre del panel debe de tener 30 caracteres máximo (incluyendo espacios).",\n  "dialogs.dashboard.buttons.edit.cancel": "Cancelar",\n  "dialogs.dashboard.buttons.edit.accept": "Guardar",\n  "dialogs.dashboard.edit.title": "Cambiar nombre de panel",\n  "dialogs.dashboard.edit.input.placeholder": "Nombre",\n  "dialogs.dashboard.buttons.delete.cancel": "Cancelar",\n  "dialogs.dashboard.buttons.reset.cancel": "Cancelar",\n  "dialogs.dashboard.buttons.delete.accept": "Eliminar",\n  "dialogs.dashboard.buttons.reset.accept": "Reset",\n  "dialogs.dashboard.delete.title": "Eliminar panel",\n  "dialogs.dashboard.reset.title": "Reset dashboard",\n  "dialogs.dashboard.delete.message": "Seguro que quieres eliminar el panel \\"{{name}}\\"?",\n  "dialogs.dashboard.reset.message": "Are you sure the dashboard should be reverted to its original state? All your changes will be lost.",\n  "dialogs.dashboard.delete.success": "El panel \\"{{name}}\\" ha sido eliminado.",\n  "dialogs.dashboard.share.title": "Compartir panel",\n  "dialogs.common.buttons.reload": "Actualizar",\n  "dialogs.common.buttons.cancel": "Cancelar",\n  "dashboard.empty": "Los enlaces se pueden agregar al menú de la aplicación por medio de arrastrar y soltar. Algunos enlaces se pueden crear por medio de este símbolo en el panel.  <i class=\\"iwp-icon-gen_kontextmenu\\"></i> ",\n  "dashboard.restricted.role": "El panel no está disponible debido al rol de negocios seleccionado.",\n  "dashboard.strong.auth.mismatch": "Abrir este panel de instrumentos en una nueva sesión con autenticación segura.",\n  "dialogs.favorite.error.max.lines": "Only two lines are possible for names.",\n  "dialogs.favorite.title": "Agregar enlace",\n  "dialogs.favorite.label.name": "Nombre",\n  "dialogs.favorite.error.name.required": "Es un campo obligatorio.",\n  "dialogs.favorite.error.name.maxlength": " El nombre del enlace debe de tener 50 caracteres máximo (incluyendo espacios).",\n  "dialogs.favorite.label.address": "Dirección",\n  "dialogs.favorite.error.address.required": "La dirección es requerida.",\n  "dialogs.favorite.error.address.maxlength": "La dirección debe de tener un máximo de 2048 caracteres (incluyendo espacios).",\n  "dialogs.favorite.error.address.uri": "La dirección no es correcta. Por favor sigue las instrucciones de abajo.",\n  "dialogs.favorite.info.address.uri": "Dirección Web - Ejemplo: https://coma.bmwgroup.net.\\n\\nFile URI - Windows UNC compatible network share (currently only supported by IE11) - Ejemplo: file:\\\\\\\\share\\\\folder\\\\file.txt",\n  "dialogs.favorite.info.address.nolocaluri": "La dirección al sistema de archivos local no está admitida.",\n  "dialogs.favorite.buttons.save": "Guardar",\n  "dialogs.favorite.buttons.cancel": "Cancelar",\n  "dialogs.favorite.buttons.crop.crop.format.label": "La <b>imagen</b> recortada y <b> en mosaico </b> puede ser modificado en los enlaces.",\n  "dialogs.favorite.buttons.crop.cancel": "Cancelar",\n  "dialogs.favorite.buttons.crop.accept": "Aceptar",\n  "dialogs.favorite.edit.title": "Editar enlace",\n  "dialogs.favorite.label.picture": "Foto",\n  "dialogs.favorite.buttons.change.picture": "Editar foto",\n  "dialogs.favorite.buttons.reset.picture": "Foto predeterminada",\n  "dialogs.favorite.buttons.crop.rectangle.label": "Rectángulo",\n  "dialogs.favorite.buttons.crop.square.label": "Cuadrado",\n  "dialogs.favorite.popup.file.error.title": "Error al cargar",\n  "dialogs.favorite.popup.file.error.message": "La imagen debe de estar en formato PNG, JPEG o GIF y tiene que tener máximo 3MB de tamaño. Por favor cargar el archivo apropiado. ",\n  "dialogs.favorite.add.success": "El link \\"{{name}}\\" ha  sido creado.",\n  "dialogs.category.add.success": "La categoría ha sido creada.",\n  "dialogs.favorite.remove.success": "El enlace \\"{{name}}\\" ha  sido creado.",\n  "dialogs.favorite.share.title": "Compartir enlace",\n  "dialogs.favorite.share.empty": "Vacío",\n  "dialogs.favorite.share.unified.search.placeholder": "ejemplo. Juan Hernandez EG-123",\n  "dialogs.favorite.share.person.search.placeholder": " ejemplo. Juan Hernandez EG-123",\n  "dialogs.favorite.share.team.search.placeholder": "ejemplo. Proyecto de equipo X",\n  "dialogs.favorite.share.section.title.edit": "Pueden editar",\n  "dialogs.favorite.share.section.title.view": "Pueden ver",\n  "dialogs.favorite.share.selected.items.label": "Compartir con:",\n  "dialogs.favorite.share.search.for.label": "Buscar:",\n  "dialogs.favorite.share.search.for.person.text": "Persona",\n  "dialogs.favorite.share.search.for.team.text": "Equipo",\n  "dialogs.favorite.share.search.table.column.header.name": "Nombre",\n  "dialogs.favorite.share.search.table.column.header.email": "Email",\n  "dialogs.favorite.share.search.table.column.header.department": "Departamento",\n  "dialogs.favorite.share.search.table.column.header.creator": "Creador",\n  "dialogs.favorite.share.search.tooManyResults": "Se mostrara un máximo de 10 resultados. Por favor especifica tus criterios de búsqueda.",\n  "dialogs.favorite.share.search.table.add.item.duplicate": "El nombre ya ha sido utilizado en la lista.",\n  "dialogs.favorite.share.search.table.add.item.self": "Un enlace solo puede ser compartido con otro usuario.",\n  "dialogs.favorite.shared.button.accept.label": "Agregar",\n  "dialogs.dashboard.shared.button.accept.label": "Aceptar",\n  "dialogs.favorite.shared.accept.title": "Aceptar enlace",\n  "dialogs.favorite.shared.accept.buttons.ok.label": "Aceptar",\n  "dialogs.favorite.shared.accept.buttons.cancel.label": "Cancelar",\n  "dialogs.favorite.shared.accept.dropdown.label": "Agregar enlace \\"{{name}}\\" a:",\n  "dialogs.share.buttons.ok.label": "Compartir",\n  "dialogs.share.buttons.cancel.label": "Cancelar",\n  "dialogs.share.success": "\\"{{name}}\\" ha sido compartido con éxito",\n  "dialogs.share.unshare": "Por favor escoja un recipiente para \\"{{name}}\\".",\n  "dialogs.favorite.edit.size.title": "Cambiar el tamaño del complemento.",\n  "dialogs.favorite.edit.size.message": "Hacer clic dentro de la cuadricula para ajustar el tamaño del panel.",\n  "dialogs.favorite.edit.size.original": "Tamaño actual: ",\n  "dialogs.favorite.edit.size.new": "Nuevo tamaño: ",\n  "dialogs.favorite.edit.size.buttons.ok.label": "Aplicar",\n  "dialogs.favorite.edit.size.buttons.cancel.label": "Cancelar",\n  "dialogs.terms.accept": "Aceptar",\n  "dialogs.terms.cancel": "Cerrar",\n  "dialogs.rating.campaign.title": "Clasificación",\n  "dialogs.rating.buttons.ok": "Califica ahora",\n  "dialogs.rating.buttons.cancel": "Nunca muestra esto",\n  "dialogs.rating.buttons.later": "Ahora no",\n  "dialogs.survey.campaign.title": "Feedback",\n  "dialogs.survey.buttons.ok": "Enviar feedback",\n  "dialogs.survey.buttons.cancel": "Cerrar",\n  "dialogs.survey.campaign.body": "Por favor califique estas declaraciones desde „totalmente en desacuerdo“ a „muy de acuerdo“:",\n  "dialogs.survey.info.agree": "Estoy muy de acuerdo",\n  "dialogs.survey.info.disagree": "Totalmente en desacuerdo",\n  "dialogs.survey.notification.success.title": "Gracias!",\n  "dialogs.survey.notification.success.content": "Gracias para su feedback!",\n  "dialogs.imprint.title": "Imprimir",\n  "dialogs.imprint.content.default": "<p>This website is operated by Bayerische Motoren Werke Aktiengesellschaft (Petuelring 130, 80809 Munich).</p><br><p>Electronic contact: <a href=\\"mailto:myWorkplace@bmw.com\\">myWorkplace@bmw.com</a><br>Telephone: +49 89 382 55555</p><br><p>BMW AG is mainly represented by the Management Board (Harald Krüger, Chairman, Milagros Caiña Carreiro-Andree, Klaus Fröhlich, Pieter Nota, Nicolas Peter, Peter Schwarzenbauer, Andreas Wendt, Oliver Zipse).</p><br><p>Chairman of the Supervisory Board: Norbert Reithofer</p><br><p>Registered and registered court: Munich HRB 42243<br>Sales tax identification number: DE129273398</p>",\n  "dialogs.imprint.content.ios": "<p>This website is operated by Bayerische Motoren Werke Aktiengesellschaft (Petuelring 130, 80809 Munich).</p><br><p>Electronic contact: <a href=\\"awemailclient://emailcompose?kAWEmailClientEmailTo=myWorkplace@bmw.com\\">myWorkplace@bmw.com</a><br>Telephone: +49 89 382 55555</p><br><p>BMW AG is mainly represented by the Management Board (Harald Krüger, Chairman, Milagros Caiña Carreiro-Andree, Klaus Fröhlich, Pieter Nota, Nicolas Peter, Peter Schwarzenbauer, Andreas Wendt, Oliver Zipse).</p><br><p>Chairman of the Supervisory Board: Norbert Reithofer</p><br><p>Registered and registered court: Munich HRB 42243<br>Sales tax identification number: DE129273398</p>",\n  "dialogs.messages.task.unsharing.open": "Open",\n  "fullscreen.show.tooltip": "Pantalla completa, con la tecla F11",\n  "fullscreen.hide.tooltip": "Salir de pantalla completa, con la tecla F11",\n  "help.workplace.link": "Workplace Manual",\n  "help.workplace.contact": "Workplace Contacto",\n  "help.workplace.email": "myWorkplace@bmw.com",\n  "help.selectedApp.link": "{{description}} Ayuda",\n  "help.workplace.guidedtour": "Tutorial",\n  "help.workplace.guidedtour.firststeps": "Primeros pasos en myWorkplace",\n  "help.workplace.guidedtour.dashboards": "Designar panel",\n  "help.workplace.guidedtour.favorite": "Manejar enlaces",\n  "help.workplace.imprint": "Imprimir",\n  "horizontal.split.tooltip": "Rotar la pantalla a horizontal",\n  "logout.confirmation.title": "Cerrar sesión",\n  "logout.confirmation.message": "Al cerrar sesión, todas las sesiones activas cierran y se perderán los cambios no guardados. Estas seguro de querer cerrar sesión?.",\n  "logout.confirmation.button.ok": "Cerrar sesión",\n  "logout.confirmation.button.cancel": "Cancelar",\n  "logout.confirmation.checkbox.save.state": "Restaurar las ventanas abiertas en la próxima sesión.",\n  "messages.notification.text": "Nuevo mensaje sin leer",\n  "messages.noMessages": "Sin mensajes",\n  "menu.item.help": "Ayuda",\n  "menu.item.tasks": "Tareas",\n  "menu.item.search": "Buscar",\n  "menu.item.user": "Cambiar rol",\n  "menu.item.user.terms": "Términos de uso",\n  "menu.item.messages": "Mensajes",\n  "roleContext.derivatives": "ModuleOrg: {{module}} | Derivativas: {{derivatives}}",\n  "roleContext.plOrg": "ModuleOrg: {{module}} | PL-Org: {{plOrg}}",\n  "navbarMenu.tooltip": "Menú del panel",\n  "notification.type.error": "Error",\n  "notification.type.warning": "Alerta",\n  "notification.type.info": "Información",\n  "notification.popup.button.ok": "Ok",\n  "notification.popup.button.cancel": "Cancelar",\n  "notification.sharing.dashboard.accepted": "Panel compartido: {{title}} aceptado",\n  "notification.sharing.dashboard.available": "Panel compartido: {{title}} ya está disponible",\n  "searchbar.searchInputPlaceholder": "Buscar...",\n  "setting.minimizeSidebar": " Mostrar barra de aplicaciones en versión minimizada ",\n  "setting.navigationbarSidebar": " Mostrar barra de aplicaciones como barra lateral ",\n  "tabview.button.splitscreen.close.tooltip": " Cerrar pantalla dividida ",\n  "support.supportOverlay.button.article.label": "Artículo",\n  "support.supportOverlay.button.article.tooltip": "Mostrar artículo en la base de datos de conocimiento MyBMWIT ",\n  "support.supportOverlay.button.article.tooltip.disabled": "No se encontró artículo en la base de datos de conocimiento MyBMWIT",\n  "support.supportOverlay.button.incident.label": "Incidente",\n  "support.supportOverlay.button.incident.tooltip": "Ir al formulario de incidente de MyBMWIT",\n  "support.supportOverlay.button.chat.label": "Chat",\n  "support.supportOverlay.button.chat.tooltip": "Abrir chat con el grupo de soporte {{serviceGroup}}",\n  "support.form.application": "Nombre de la aplicación",\n  "support.form.username": "Nombre de usuario",\n  "support.form.appRole": "Rol de aplicación",\n  "support.form.businessRole": "Rol de negocios",\n  "support.form.email": "Dirección de correo electrónico",\n  "support.form.phone": "Teléfono",\n  "support.form.msgCode": "Código de error",\n  "support.form.appState": "Paso de proceso",\n  "support.form.serviceGroup": "Grupo de servicio",\n  "tasks.message.newTasks": "Las tareas se han actualizado",\n  "tasks.noTasks": "Sin tareas.",\n  "tasks.tasksServiceUnavailable": "Servicio de tareas no disponible",\n  "userinfo.noRoles": "Sin roles asignados.",\n  "userinfo.substitute": "en nombre de",\n  "userinfo.app.settings.startup.": "Preferencias de inicio",\n  "userinfo.settings": "Ajustes de usuario",\n  "userinfo.roles": "Roles",\n  "tabs.help.title": "Ayuda",\n  "tabs.close.tooltip": "Cerrar",\n  "tabs.settings.tooltip": "Abre el menú",\n  "tabs.refresh.tooltip": "Actualizar",\n  "vertical.split.tooltip": "Pantalla dividida vertical",\n  "widget.definition.gamstka.description": "gÄMSE con fecha de finalización entre -28 y +56 días (todos los días laborales).",\n  "widget.definition.gamstka.column.label.count": "Cantidad",\n  "widget.definition.gamstka.column.label.status": "Estado",\n  "widget.definition.gamsstatus.column.label.count": "Cantidad",\n  "widget.definition.gamsstatus.column.label.status": "Estado",\n  "widget.definition.stackedbar.column.label.count": "Cantidad",\n  "widget.definition.stackedbar.column.label.status": "Estado",\n  "widget.definition.gamsdlz.description": "Calculado desde el concepto a partir de hoy (5 días hábiles, excluyendo sábados, domingos y feriados.",\n  "widget.definition.gamsdlz.column.label.count": "Cantidad",\n  "widget.definition.gamsdlz.column.label.status": "Abierto desde",\n  "widget.definition.dali.column.label.count": "Suma",\n  "widget.definition.dali.column.label.status": "",\n  "widget.definition.training.column.title.count": "Título",\n  "widget.definition.errorMsg.500": " Se ha producido un error en el servidor. Por favor, intente actualizar.",\n  "widget.definition.errorMsg.403": " Permisos insuficientes. Solicite aprobaciones o derechos de acceso apropiados.",\n  "widget.definition.errorMsg.404": " El recurso no fue encontrado. Por favor, compruebe la configuración del widget.",\n  "widget.favorite.appNotFound": "La aplicación no fue encontrada.",\n  "widget.favorite.dragDrop.duplicateEntry.title": "Error",\n  "widget.favorite.dragDrop.duplicateEntry": " Enlace ya existe en el panel.",\n  "widget.chart.context.link": "Abra la aplicación con este contexto",\n  "widget.noData": " No se han encontrado datos para {{name}}",\n  "widget.ekw.description": "El Widget muestra las cestas de compras durante los últimos 90 días.",\n  "widget.ekw.title": "Mi EKW",\n  "widget.ekw.sapSso.error": " Error al autenticarse con el servicio SAP SSO ",\n  "widget.ekw.header.number": "Número",\n  "widget.ekw.header.description": "Título",\n  "widget.ekw.header.status": "Estado",\n  "widget.ekw.header.totalValue": "Valor total",\n  "widget.tasks.header.category": "Task category",\n  "widget.tasks.header.title": "Title",\n  "widget.tasks.header.due_date": "Due date",\n  "widget.tasks.description": "Tasks",\n  "widget.tasks.title": "My Tasks",\n  "widget.settings.openapp.browser": "Abrir nueva ventana",\n  "widget.settings.create.favorite": "Crear enlace",\n  "widget.settings.edit.favorite": "Editar enlace",\n  "widget.settings.share.favorite": "Compartir enlace",\n  "widget.settings.delete.favorite": "Borrar enlace",\n  "widget.settings.edit.favorite.size": "Cambiar tamaño",\n  "widget.settings.edit.favorite.maximize": "Maximize",\n  "widget.settings.share.dashboard": "Compartir panel",\n  "widget.settings.edit.dashboard": "Renombrar panel",\n  "widget.settings.add.category": "Agregar nueva categoría",\n  "widget.settings.delete.dashboard": "Borrar panel",\n  "widget.settings.reset.dashboard": "Reset dashboard",\n  "widget.delete.confirmation.title": "Borrar enlace",\n  "widget.delete.confirmation.message": "¿Debería eliminarse el enlace \\"{{name}}\\"?",\n  "widget.delete.confirmation.button.label": "Eliminar",\n  "widget.pmc.noTableData": "Datos no disponibles.",\n  "widget.pmc.line.chat.data.values.label": "Valores de datos: ",\n  "widget.pmc.line.chart.data.values.30.days": "Últimos 30 días",\n  "widget.pmc.line.chart.data.values.90.days": "Últimos 90 días (cada 3 días)",\n  "widget.pmc.line.chart.data.values.210.days": "Últimos 210 días (cada 7 días)",\n  "widget.pmc.line.chart.labels.order": "Ordenar:",\n  "widget.pmc.line.chart.labels.reportrange": "Reportar rango:",\n  "widget.pmc.line.chart.labels.date": "Fecha:",\n  "widget.pmc.line.chart.labels.value": "Valor:",\n  "widget.pmc.line.chart.legend.labels.plan": "Plan:",\n  "widget.pmc.line.chart.legend.labels.estimation": "Estimación:",\n  "widget.pmc.line.chart.legend.labels.target": "Objetivo:",\n  "widget.pmc.bar.chart.legend.labels.column": "Columna:",\n  "widget.pmc.bar.chart.legend.labels.category": "Valor:",\n  "widget.dali.punkte.blue": "En trabajo",\n  "widget.dali.punkte.red": "Con retraso",\n  "widget.locked.message": " Hay una restricción de visibilidad que le impide ver este widget. Por favor contacte a un administrador.",\n  "widget.restrictions.business.role": "Falta rol de negocios",\n  "widget.restrictions.portal.role": "Falta rol de portal",\n  "widget.restrictions.origin.intranet": "No disponible para intranet",\n  "widget.restrictions.origin.internet": "No disponible para internet",\n  "widget.restrictions.string.auth": "Solo disponible con autorización fuerte",\n  "workplace.api.help.label": "Ayuda: {{description}}",\n  "omnisearch.showMore": "Mostrar más...",\n  "omnisearch.noResults": "No se han encontrado resultados.",\n  "omnisearch.dashboards.title": "Paneles",\n  "omnisearch.apps.title": "Aplicaciones",\n  "omnisearch.tasks.title": "Tareas",\n  "omnisearch.employee.title": "Personas",\n  "omnisearch.employee.external": "externo",\n  "omnisearch.employee.inOrderOf": "en orden de {{department}}",\n  "omnisearch.employee.inOrderOf.short": "OBO {{department}}",\n  "omnisearch.favorite.title": "Enlaces",\n  "omnisearch.knowledgefinder.title": "Buscador de conocimiento",\n  "omnisearch.searchFor.title": "Buscar \\"{{term}}\\" en",\n  "omnisearch.top.results": "Top 5",\n  "guidedtour.is.active.title": "Visita guiada ya comenzada",\n  "guidedtour.is.active.message": " El Tour debe cerrarse antes de que se pueda iniciar otro recorrido.",\n  "guidedtour.config.step.button.next": "Siguiente",\n  "guidedtour.config.step.button.previous": "Previo",\n  "guidedtour.config.step.button.end": "Completo",\n  "guidedtour.config.step.button.no": "Nope",\n  "guidedtour.config.step.button.later": "Quizás más tarde",\n  "guidedtour.config.step.button.sure": "Seguro",\n  "guidedtour.welcome.step.zero.title": "Bienvenido",\n  "guidedtour.welcome.step.zero.description": "{{name}}, bienvenido a mi lugar de trabajo. ¿Quieres unirte a nuestro tour guiado?",\n  "guidedtour.welcome.step.one.title": "Menú de aplicaciones",\n  "guidedtour.welcome.step.one.description": " Ese es el lugar donde estaban todas las aplicaciones en casa. Simplemente arrastre sus enlaces al tablero para tener acceso inmediato.",\n  "guidedtour.welcome.step.two.title": "Buscar",\n  "guidedtour.welcome.step.two.description": " ¿Quieres encontrar cosas al instante? Sólo escriba. La búsqueda encontrará aplicaciones, tareas y sus colegas. Puede pasar su búsqueda a motores de búsqueda especializados.",\n  "guidedtour.welcome.step.three.title": "Crear enlaces",\n  "guidedtour.welcome.step.three.description": "¿Quieres marcar una página web o un archivo? Esta función crea un enlace en el panel.",\n  "guidedtour.welcome.step.four.title": "Tareas",\n  "guidedtour.welcome.step.four.description": " ¡Termina las cosas! Todas sus tareas ahora se combinan en una lista.",\n  "guidedtour.dashboards.step.one.title": "Crear panel ",\n  "guidedtour.dashboards.step.one.description": " Al hacer clic en el botón <span class = \'iwp-icon-iwp_dashboard_add\'> </ span> puede crear un nuevo panel.",\n  "guidedtour.dashboards.step.two.title": "Guardando aplicaciones en el panel",\n  "guidedtour.dashboards.step.two.description": " Arrastre sus aplicaciones desde el menú de la aplicación al panel y acceda rápidamente a ellas.",\n  "guidedtour.dashboards.step.three.title": "Guardando un enlace en el panel",\n  "guidedtour.dashboards.step.three.description": " Los enlaces en el sitio web, los archivos o el directorio se pueden colocar en el panel haciendo clic en el botón <span class = \'iwp-icon-gen_add_favorite\'> </ span>.",\n  "guidedtour.dashboards.step.four.title": "Mover enlace al panel",\n  "guidedtour.dashboards.step.four.description": " Los enlaces se pueden organizar en el panel con arrastrar y soltar.",\n  "guidedtour.dashboards.step.four.image": "./assets/guidedTourImages/widget_drag_drop.gif",\n  "guidedtour.dashboards.step.five.title": "Renombrar y eliminar un panel",\n  "guidedtour.dashboards.step.five.description": "Con las funciones  <span class=\'iwp-icon-gen_edit\'></span> y <span class=\'iwp-icon-gen_delete\'></span>  puede cambiar el nombre o eliminar completamente su panel.",\n  "guidedtour.dashboards.step.five.image": "./assets/guidedTourImages/RenameAndDeleteDashboard_EN.png",\n  "guidedtour.favorite.step.one.title": "Crear un enlace",\n  "guidedtour.favorite.step.one.description": "Usar la función <span class=\'iwp-icon-gen_add_favorite\'> </span> para crear enlaces para sitios web, archivos o directorio.",\n  "guidedtour.favorite.step.two.title": "Editar un enlace",\n  "guidedtour.favorite.step.two.description": "Hacer clic en \\"Editar enlace\\" y edite el nombre, enlace o foto del enlace.",\n  "guidedtour.favorite.step.two.image": "./assets/guidedTourImages/EditFavorite_EN.png",\n  "guidedtour.favorite.step.three.title": "Compartir un enlace",\n  "guidedtour.favorite.step.three.description": "Clic en \\"Compartir enlace\\" y selecciona colegas o equipos para compartir tus enlaces con ellos.",\n  "guidedtour.favorite.step.three.image": "./assets/guidedTourImages/ShareFavorite_EN.gif",\n  "guidedtour.favorite.step.four.title": "Recibe de tu enlace",\n  "guidedtour.favorite.step.four.description": " Abra el mensaje en el menú de mensajes y seleccione el panel de destino en el que desea guardar el enlace. El enlace se almacenará en el menú de mensajes, para que pueda agregarlo más tarde también.",\n  "guidedtour.favorite.step.four.image": "./assets/guidedTourImages/ReceiveFavorite_EN.gif",\n  "guidedtour.favorite.step.five.title": "Iconos de enlace",\n  "guidedtour.favorite.step.five.description": "Enlace compartido <span class=\'iwp-icon-iwp_share_owner\'> </span> <p>Enlace compartido <span class=\'iwp-icon-iwp_share_participant\'> </span> </p>",\n  "guidedtour.favorite.step.six.title": "Eliminar enlace",\n  "guidedtour.favorite.step.six.description": "Para eliminar de enlaces, haga clic en el botón <span class=\'iwp-icon-gen_kontextmenu\'> </span> y seleccione la opción \\"Eliminar enlace\\".",\n  "guidedtour.favorite.step.six.image": "./assets/guidedTourImages/DeleteFavorite_EN.png",\n  "guidedtour.termsofuse": "<p><h1><u> Obligación de mantener la confidencialidad y proteger la información </u></h1></p><p>En lo sucesivo, \\"BMW\\" significa BMW AG y sus empresas afiliadas. Su participación en proyectos de BMW y / o el uso de sistemas informáticos de BMW le da acceso a información que es de gran valor comercial para BMW.</p><p> Por lo tanto, está obligado a mantener la confidencialidad cuando se trata de personas no autorizadas. Nos gustaría llamar especialmente la atención sobre las estipulaciones de la Ley contra la Competencia Desleal (Sección 17 ff) y sobre las reglamentaciones del Código Penal (Sección 201 ff). p> <p> También está obligado a abstenerse de cualquier actividad que podría conducir a la destrucción o manipulación de bases de datos o sistemas informáticos por usted o un tercero. Quisiéramos llamar especialmente la atención sobre las estipulaciones de los artículos 303a y 303b del Código Penal (modificación de datos, sabotaje informático)..</p><p><h1><u> Regulaciones de protección de información </p></h1></u><p><ul><li> Está prohibido procesar, divulgar, hacer accesible o usar cualquier dato de BMW AG o sus afiliados, excepto para el propósito respectivo de ejecutar una tarea correctamente asignada. Esta prohibición se extiende más allá de la finalización de los deberes en BMW.</li><li>Se deben cumplir las regulaciones existentes sobre el manejo, es decir, la seguridad de los datos de BMW. El tiempo de la computadora solo se puede utilizar en el marco de las tareas establecidas. El uso del tiempo de la computadora para fines privados o de terceros fuera de la tarea específica está estrictamente prohibido.</li><li> Todas las actividades posteriores a la iniciación de sesión de su Usuario hasta que se cierre la sesión de su Usuario se registran como iniciadas por usted mismo.</li><li> La contraseña debe mantenerse en secreto. Si la contraseña es conocida por otra persona, debe cambiarse de inmediato.</li><li> El cuidado necesario deberá ser aplicado dentro del marco de trabajo del conjunto de las tareas. Para asegurar los datos / la protección del programa, cualquier irregularidad / pedidos incompletos deben de ser reportados inmediatamente al Centro de General de Servicios – ASZ (+49 (0) 89 382 5555 5).</li><li>El uso de datos personales debe de concordar con las leyes correspondientes.</li><li>Es tu responsabilidad para iniciar cambios en los derechos de acceso debería ocurrir cualquier cambio ejemplo: Tareas nuevas o proyectos extendidos</li><li>El respectivo identificación de usuario (USERID) debe ser cancelado inmediatamente cuando dejas la compañía.</li><li>Todos los derechos para los programas establecidos dentro de la duración del contrato son propiedad de BMW y sus afiliados. </li><li>Esta declaración no afecta a otras obligaciones de secreto.</li></ul><p>BMW se reserva el derecho de bloquear a la identificación de un usuario (User-Id) y tomar acción judicial de acuerdo con la política de la compañía en el caso de incumplimiento de contrato o uso incorrecto del manejo de la identificación del usuario (prestar, transferir, etc.). </p>",\n  "open.favorite.copyUrl.success.mac": "Link successfully copied to clipboard. Press CMD+K in Finder and paste the link to open the file.",\n  "open.favorite.copyUrl.success.win": "Link successfully copied to clipboard. Press Alt+E in File Explorer and paste the link to open the file.",\n  "d3.locale": "{  \\"decimal\\": \\",\\",  \\"thousands\\": \\".\\",  \\"grouping\\": [3],  \\"currency\\": [\\"€\\", \\"\\"],  \\"dateTime\\": \\"%a %b %e %X %Y\\",  \\"date\\": \\"%d/%m/%Y\\",  \\"time\\": \\"%H:%M:%S\\",  \\"periods\\": [\\"AM\\", \\"PM\\"],  \\"days\\": [\\"Domingo\\", \\"Lunes\\", \\"Martes\\", \\"Miércoles\\", \\"Jueves\\", \\"Viernes\\", \\"Sábado\\"],  \\"shortDays\\": [\\"Dom\\", \\"Lun\\", \\"Mar\\", \\"Mi\\", \\"Jue\\", \\"Vie\\", \\"Sab\\"],  \\"months\\": [\\"Enero\\", \\"Febrero\\", \\"Marzo\\", \\"Abril\\", \\"Mayo\\", \\"Junio\\", \\"Julio\\", \\"Agosto\\", \\"Septiembre\\", \\"Octubre\\", \\"Noviembre\\", \\"Diciembre\\"],  \\"shortMonths\\": [\\"Ene\\", \\"Feb\\", \\"Mar\\", \\"Abr\\", \\"May\\", \\"Jun\\", \\"Jul\\", \\"Ago\\", \\"Sep\\", \\"Oct\\", \\"Nov\\", \\"Dic\\"]}",\n  "tooltip.user.account.deleted": "Account Deleted",\n  "layout.dropzone.remove.widget": "Eliminar enlace",\n  "layout.dropzone.cancel.drop": "Cancelar"\n}\n';

},{}],296:[function(e,t,i){"use strict";function n(e,t,i,n){return{restrict:"A",scope:{utilBootstrapPopoverViewModel:"=",utilBootstrapPopoverTemplate:"="},link:function(o,a,s){var c,l;t(o.utilBootstrapPopoverTemplate).then(function(t){i.put(o.utilBootstrapPopoverTemplate,t);var s=e(i.get(o.utilBootstrapPopoverTemplate));o.vm=o.utilBootstrapPopoverViewModel,a.popover({html:!0,content:s(o),viewport:{selector:"body",padding:5}}),a.on("click",function(e){return a.attr("aria-describedby")?(a.popover("hide"),!1):void a.focus()}),c=n.channelResize.subscribe(r.LayoutService.TOPIC_RESIZE,function(){return a.popover("hide")}),l=n.channelEvent.subscribe(r.LayoutService.TOPIC_EVENT_HIDE_POPOVERS,function(){return a.popover("hide")})}),a.on("$destroy",function(){a.popover("destroy"),c.unsubscribe(),l.unsubscribe()})}}}n.$inject=["$compile","$templateRequest","$templateCache","layoutService"];var r=e("../../app/layout/layout.service");i.popoverDirective=n},{"../../app/layout/layout.service":189}],297:[function(e,t,i){"use strict";var n=function(){function e(e,t){this.translateService=e,this.qService=t}return e.$inject=["$translate","$q"],e.prototype.getLocale=function(){var e=this;return this.locale?this.qService.resolve(this.locale):this.translateService("d3.locale").then(function(t){if(t)return e.locale=d3.locale(JSON.parse(t)),e.locale;throw new Error("No d3 locale available for current language!")})},e}();i.D3LocaleService=n},{}],298:[function(e,t,i){"use strict";function n(e,t){var i=e.description&&null!==e.description?e.description.toLocaleLowerCase():"",n=t.description&&null!==t.description?t.description.toLocaleLowerCase():"";return i>n?1:-1}i.descriptionSorter=n},{}],299:[function(e,t,i){"use strict";var n=function(){function e(t,i,n){this._device=r.DESKTOP,this._ios=!1,this._deviceDetector=i,this._$logService=t;var o=screen.orientation||screen.mozOrientation||screen.msOrientation;o&&o.type&&(o=o.type);var a=o?o.endsWith("secondary"):!1,s=o?o.startsWith("portrait"):!1,c=screen.width;a&&s&&(c=screen.height),this._device=c>e.DEVICE_BREAKPOINT?r.DESKTOP:r.MOBILE,this._device===r.MOBILE&&this._deviceDetector.os===n.WINDOWS&&(this._device=r.DESKTOP,this._$logService.info("DeviceService: Screen size suggests mobile device, but OS is Windows. Overriding device to desktop.")),this._$logService.info("DeviceService: Detected device "+(this.device===r.MOBILE?"MOBILE":"DESKTOP")+". Breakpoint: "+e.DEVICE_BREAKPOINT),this._devicePixelRatio=window&&window.devicePixelRatio?window.devicePixelRatio:1,this._ios=this.getIsIOS()}return e.$inject=["$log","deviceDetector","OS"],Object.defineProperty(e.prototype,"device",{get:function(){return this._device},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"devicePixelRatio",{get:function(){return this._devicePixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIOS",{get:function(){return this._ios},enumerable:!0,configurable:!0}),e.prototype.isMobile=function(){return this._device===r.MOBILE},e.prototype.isInternetExplorer=function(){return"undefined"==typeof this._ie&&(this._ie=_.isUndefined(this._deviceDetector.browser)||null===this._deviceDetector.browser||-1===this._deviceDetector.browser.indexOf("ie")?!1:!0),this._ie},e.prototype.getIsIOS=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},e}();n.DEVICE_BREAKPOINT=992,i.DeviceService=n;var r;!function(e){e[e.DESKTOP=1]="DESKTOP",e[e.MOBILE=2]="MOBILE"}(r=i.Devices||(i.Devices={}))},{}],300:[function(e,t,i){"use strict";var n=e("../../app/widget/widget.data.interface"),r=e("../../app/dashboard/dashboard"),o=function(){function e(e,t,i,n){this._draggableItemData=e,this._layoutService=t,this._deviceService=i,this._beforeDrag=n}return e.prototype.initElement=function(e){this._deviceService.isMobile()||(this._el=e,this._dragEl=e,this._dragEl.css({"-ms-touch-action":"none","touch-action":"none"}),this._interactable=interact(this._dragEl.get(0)).draggable({onstart:this.onDraggableStart.bind(this),onmove:this.onDraggableMove.bind(this),onend:this.onDraggableEnd.bind(this)}))},e.prototype.cleanupElement=function(){this._interactable&&this._interactable.unset()},e.prototype.onDraggableStart=function(e){this._beforeDrag&&this._beforeDrag(),this._layoutService.publishDragStart(),this._layoutService.setDragActive(!0),this._dragEl.data("transfer",{widgetDefinitionId:this._draggableItemData.widgetDefinitionId||n.WidgetDefinitions.FAVORITE,colspan:this._draggableItemData.colspan||1,rowspan:this._draggableItemData.rowspan||1,customSettings:this._draggableItemData.customSettings||{app:this._draggableItemData.name}}),this._cloneEl=this._el.clone(),this._el.parent().append(this._cloneEl),this._cloneEl.addClass("draggable-app-item-ghost dragging").appendTo(".viewport"),this._dragEl.addClass(r.Dashboard.DD_GROUP_DASHBOARD)},e.prototype.onDraggableMove=function(e){if(this._cloneEl){var t=(parseFloat(this._cloneEl.data("x"))||0)+e.dx,i=e.pageY+e.dy;this._cloneEl.css("transform","translate("+t+"px, "+i+"px)"),this._cloneEl.data("x",t),this._cloneEl.data("y",i)}},e.prototype.onDraggableEnd=function(e){this._layoutService.publishDragEnd(),this._layoutService.setDragActive(!1),this._cloneEl.remove(),this._dragEl.removeClass(r.Dashboard.DD_GROUP_DASHBOARD);var t=e.target;t.placeholderEl&&t.removePlaceholder(),t.transferObject=null,t.dragEl=null},e}();i.DraggableMenuItem=o},{"../../app/dashboard/dashboard":161,"../../app/widget/widget.data.interface":286}],301:[function(e,t,i){"use strict";var n=function(){function e(){}return e.prototype.initialize=function(e){this._el=e,this._el.css({"-ms-touch-action":"none","touch-action":"none"}),this._interactable=interact(e.get(0)).draggable({onstart:this.onDraggableStart.bind(this),onend:this.onDraggableEnd.bind(this),onmove:this.onDraggableMove.bind(this)}).on("down",this.onDraggablePointerDown.bind(this)).on("up",this.onDraggablePointerUp.bind(this))},e.prototype.onDraggableStart=function(e){this._el.addClass("dragging"),this.draggableOnStart({event:e})},e.prototype.onDraggableEnd=function(e){this._el.removeClass("dragging"),this.draggableOnEnd({event:e}),this._el.css("transform",""),this._el.removeData("x"),this._el.removeData("y")},e.prototype.onDraggableMove=function(e){if(this.draggableTranslate){var t=(parseFloat(this._el.data("x"))||0)+e.dx,i=parseFloat(this._el.data("y"))||0;this._el.css("transform","translate("+t+"px, 0px)"),this._el.data("x",t),this._el.data("y",i)}this.draggableOnMove({event:e})},e.prototype.onDraggablePointerDown=function(e){this.draggableOnDown({event:e})},e.prototype.onDraggablePointerUp=function(e){this.draggableOnUp({event:e})},e.prototype.destroy=function(){this._el=null,this._interactable.unset(),this._interactable=null},e}();i.DraggableController=n},{}],302:[function(e,t,i){"use strict";function n(){return{restrict:"A",scope:{ddGroup:"@",ddAxis:"@",draggableOnStart:"&",draggableOnEnd:"&",draggableOnMove:"&",draggableOnDown:"&",draggableOnUp:"&"},controller:r.DraggableController,controllerAs:"vm",bindToController:!0,link:function(e,t,i,n){n.initialize(t),n.draggableOnStart=_.wrap(n.draggableOnStart,function(t,i){t(i),e.$apply()}),n.draggableOnEnd=_.wrap(n.draggableOnEnd,function(t,i){t(i),e.$apply()}),n.draggableOnMove=_.wrap(n.draggableOnMove,function(t,i){t(i),e.$apply()}),n.draggableOnDown=_.wrap(n.draggableOnDown,function(t,i){t(i),e.$apply()}),n.draggableOnUp=_.wrap(n.draggableOnUp,function(t,i){t(i),e.$apply()}),t.on("$destroy",function(){n.destroy()})}}}var r=e("./draggable.controller");i.draggableDirective=n},{"./draggable.controller":301}],303:[function(e,t,i){"use strict";var n=function(){function e(e){this._$=e}return e.$inject=["jQuery"],e.prototype.initialize=function(e){this._el=e,this.enable(this.enabled)},e.prototype.createDropzone=function(e){this._dropzone=interact(e.get(0)).dropzone({accept:this.ddGroup?this.ddGroup:null,ondragenter:this.handleDragEnter.bind(this),ondragleave:this.handleDragLeave.bind(this),ondrop:this.handleDrop.bind(this),ondropactivate:this.handleDropActivate.bind(this),ondropdeactivate:this.handleDropDeActivate.bind(this),ondropmove:this.handleDropMove.bind(this)})},e.prototype.removeDropzone=function(){this._dropzone&&(this._dropzone.unset(),this._dropzone=null,this._transfer=null)},e.prototype.enable=function(e){e?this.createDropzone(this._el):this.removeDropzone()},e.prototype.destroy=function(){this.removeDropzone(),this._$=null,this._el=null,this._transfer=null},e.prototype.handleDropActivate=function(e){this._el.addClass("util-dropzone-active"),this._transfer=this._$(e.relatedTarget).data("transfer"),this.onDropzoneActivate({transfer:this._transfer,event:e})},e.prototype.handleDropDeActivate=function(e){this._el.removeClass("util-dropzone-active util-dropzone-over"),this._transfer=null,this.onDropzoneDeactivate({event:e})},e.prototype.handleDragEnter=function(){this._el.addClass("util-dropzone-over"),this.onDragEnter&&this.onDragEnter({transfer:this._transfer})},e.prototype.handleDragLeave=function(){this._el.removeClass("util-dropzone-over"),this.onDragLeave&&this.onDragLeave({transfer:this._transfer})},e.prototype.handleDrop=function(){this.onDrop&&this.onDrop({transfer:this._transfer})},e.prototype.handleDropMove=function(e){this.onDropMove&&this.onDropMove({transfer:this._transfer,event:e})},e}();i.DropzoneController=n},{}],304:[function(e,t,i){"use strict";function n(){return{restrict:"A",scope:{onDrop:"&dropzoneOnDrop",onDropMove:"&dropzoneOnDropMove",onDropzoneActivate:"&?dropzoneOnActivate",onDropzoneDeactivate:"&?dropzoneOnDeactivate",onDragEnter:"&dropzoneOnDragEnter",onDragLeave:"&?dropzoneOnDragLeave",ddGroup:"@",enabled:"=dropzoneEnabled"},controller:r.DropzoneController,controllerAs:"vm",bindToController:!0,link:function(e,t,i,n){n.initialize(t),n.onDrop=_.wrap(n.onDrop,function(e,t){e(t)}),n.onDropMove=_.wrap(n.onDropMove,function(e,t){e(t)}),n.onDragEnter=_.wrap(n.onDragEnter,function(e,t){return e(t)}),n.onDragLeave=_.wrap(n.onDragLeave,function(e,t){e&&e(t)}),n.onDropzoneActivate=_.wrap(n.onDropzoneActivate,function(e,t){e&&e(t)}),n.onDropzoneDeactivate=_.wrap(n.onDropzoneDeactivate,function(e,t){e&&e(t)});var r=e.$watch("vm.enabled",function(e){return n.enable(e)});t.on("$destroy",function(){n.destroy(),r()})}}}var r=e("./dropzone.controller");i.dropzoneDirective=n},{"./dropzone.controller":303}],305:[function(e,t,i){"use strict";function n(e){return{restrict:"A",compile:function(t,i){var n=e(i.utilInteractHold);return function(e,t){var i=!1,r=function(t){i=!0,e.$apply(function(){n(e,{$event:t})})},o=function(e){i&&(e.preventDefault(),e.stopImmediatePropagation(),i=!1)},a=interact(t.get(0)).on("hold",r).on("click",o,!0);t.on("$destroy",function(){a.off("hold",r).off("click",o).unset()})}}}}n.$inject=["$parse"],i.holdDirective=n},{}],306:[function(e,t,i){"use strict";var n=function(){function e(e,t,i,n,r){this._anim1=null,this._anim2=null,this._draggables=[],this._positions=[],this._animateService=i,this._animateCssService=n,this._timeoutService=r,this._$=t,"undefined"==typeof this.ddAxis&&(this.ddAxis="x"),"undefined"==typeof this.ddGroup&&(this.ddGroup="sortable")}return e.$inject=["$scope","jQuery","$animate","$animateCss","$timeout"],e.prototype.initialize=function(e){this._sortableEl=e,interact(this._sortableEl.get(0)).dropzone({accept:"."+this.ddGroup,ondropmove:this.onDropzoneDropMove.bind(this),ondragenter:this.onDropzoneDragEnter.bind(this),ondragleave:this.onDropzoneDragLeave.bind(this),ondrop:this.onDropzoneDrop.bind(this)})},e.prototype.addDraggable=function(e,t,i){e.addClass(this.ddGroup);var n=interact(e.get(0)).draggable(Object.assign({},i,{onstart:this.onDraggableStart.bind(this),onend:this.onDraggableEnd.bind(this),onmove:this.onDraggableMove.bind(this)}));return this._draggables.push(e.get(0)),e.css({"-ms-touch-action":"none","touch-action":"none"}),e.data("transfer",t),n},e.prototype.onDraggableStart=function(e){var t=this.createGhostElement(e.target);t.insertBefore(e.target);var i=this.createPlaceholderElement(e.target);i.insertBefore(e.target);var n=this._$(e.target);n.hide();var r=this.getElementIndex(i);n.data("index",r),n.data("ghost",t),n.data("placeholder",i),this.onStart({transfer:n.data("transfer")})},e.prototype.onDraggableEnd=function(e){var t=this,i=this._$(e.target),n=i.data("ghost"),r=i.data("placeholder");n.remove(),r.remove(),i.show(),i.removeData("sortable"),i.removeData("index"),i.removeData("ghost"),i.removeData("placeholder"),this.onEnd({transfer:i.data("transfer")}),this._draggables.forEach(function(e){return e.removeAttribute("style")}),this._draggables.sort(function(e,i){return t._sortableEl.children().index(e)-t._sortableEl.children().index(i)})},e.prototype.onDraggableMove=function(e){var t=this._$(e.target),i=t.data("ghost"),n=(parseFloat(i.data("x"))||0)+e.dx,r=(parseFloat(i.data("y"))||0)+e.dy;i.css({transform:"translate("+n+"px, "+r+"px)"}),i.data("x",n),i.data("y",r)},e.prototype.animateItems=function(e,t,i){var n=this,r=this._$(e).position(),o=this._$(t).position();null!==this._anim1&&this._anim1.end(),null!==this._anim2&&this._anim2.end(),this._anim1=this._animateCssService(this._$(e),{from:{transform:"translate("+-1*i*Math.abs(r.left-o.left)+"px, "+-1*i*Math.abs(r.top-o.top)+"px)"},to:{transform:"translate(0px,0px)"},duration:.15,easing:"ease-out"}),this._anim2=this._animateCssService(this._$(t),{from:{transform:"translate("+i*Math.abs(r.left-o.left)+"px, "+i*Math.abs(r.top-o.top)+"px)"},to:{transform:"translate(0px,0px)"},duration:.15,easing:"ease-out"}),this._timeoutService(function(){n._anim1.start().then(function(){n._anim1=null})["catch"](function(){n._anim1=null}),n._anim2.start().then(function(){n._anim2=null})["catch"](function(){n._anim2=null})},50)},e.prototype.onDropzoneDragEnter=function(e){var t=this._$(e.relatedTarget),i=t.data("placeholder");this.updatePositions(i),this.insertPlaceholder(i,this.findPositionIndex(e.dragEvent.pageX,e.dragEvent.pageY)),this.onDropEnter({transfer:t.data("transfer")})},e.prototype.onDropzoneDragLeave=function(e){var t=this._$(e.relatedTarget),i=t.data("placeholder");i.detach(),this.onDropLeave({transfer:t.data("transfer")})},e.prototype.onDropzoneDropMove=function(e){var t=this.findPositionIndex(e.dragEvent.pageX,e.dragEvent.pageY),i=this._$(e.relatedTarget),n=i.data("placeholder"),r=i.data("index");if(t!==r&&!this.isAnimating()){var o=this.insertPlaceholder(n,t,r);i.data("index",t),this.updatePositions(n),o&&this.animateItems(n.get(0),o,r>t?-1:1)}},e.prototype.onDropzoneDrop=function(e){var t=this._$(e.relatedTarget),i=t.data("index");this.onSort({transfer:t.data("transfer"),index:i})},e.prototype.getNewIndex=function(e){var t=this._$(e.target),i=t.offset(),n=this.getElementIndex(t);return"x"===this.ddAxis?e.dragmove.pageX<i.left+t.outerWidth()/2?n:n+1:"y"===this.ddAxis&&e.dragmove.pageY<i.top+t.outerHeight()/2?n:n+1},e.prototype.getElementIndex=function(e){var t=e.parent().children().not(".util-sortable-ghost").not(":hidden").index(e);return t},e.prototype.createGhostElement=function(e){var t=this._$(e),i=t.position();return t.show().clone().addClass("util-sortable-ghost").css({position:"absolute",zIndex:99,opacity:.85,width:e.clientWidth,height:e.clientHeight,top:i.top,left:i.left})},e.prototype.createPlaceholderElement=function(e){var t=this._$(e);return t.show().clone().addClass("util-sortable-placeholder")},e.prototype.removeDraggable=function(e,t){t.removeClass(this.ddGroup);var i=this._draggables.indexOf(t.get(0));i>-1&&this._draggables.splice(i,1),e.unset(),t.removeData("transfer"),t.removeData("sortable"),t.removeData("ghost"),t.removeData("placeholder"),t.removeData("index")},e.prototype.destroy=function(){this._draggables=[],this._$=null},e.prototype.updatePositions=function(e){var t=this;this._positions=[{x1:0,x2:0,y1:0,y2:0}].concat(this.getDraggableElements().map(function(e){var i=t._$(e),n=i.offset(),r=i.outerWidth(),o=i.outerHeight();return{x1:n.left,x2:n.left+r,y1:n.top,y2:n.top+o}})).map(function(e,t,i){var n=i[t+1];return{x1:e.x1+(e.x2-e.x1)/2,x2:n?n.x1+(n.x2-n.x1)/2:e.x2,y1:e.y1+(e.y2-e.y1)/2,y2:n?n.y1+(n.y2-n.y1)/2:e.y2}})},e.prototype.insertPlaceholder=function(e,t,i){var n,r=this.getDraggableElements();return n=t>=i?r[t-1]:r[t],n?t>=i?e.insertAfter(n):e.insertBefore(n):t>=i?this._sortableEl.prepend(e.get(0)):this._sortableEl.append(e.get(0)),n},e.prototype.findPositionIndex=function(e,t){var i=this;return this._positions.indexOf(this._positions.find(function(n,r){var o=i._positions.length;if(0===r){if("x"===i.ddAxis&&e<n.x1)return!0;if("y"===i.ddAxis&&e<n.y1)return!0}if(r===o-1){if("x"===i.ddAxis&&e>n.x2)return!0;if("y"===i.ddAxis&&e>n.y2)return!0}return"x"===i.ddAxis?e>=n.x1&&e<=n.x2:t>=n.y1&&t<=n.y2}))},e.prototype.getDraggableElements=function(e){var t=[];return this._$(this._draggables).not(":hidden").add(e).each(function(e,i){t.push(i)}),t},e.prototype.isAnimating=function(){return null!==this._anim1||null!==this._anim2},e}();i.SortableController=n},{}],307:[function(e,t,i){"use strict";function n(){return{restrict:"A",scope:{sortableId:"@?",ddGroup:"@",ddAxis:"@",onSort:"&",onStart:"&",onEnd:"&",onDropEnter:"&",onDropLeave:"&"},controller:r.SortableController,controllerAs:"vm",bindToController:!0,link:function(e,t,i,n){n.initialize(t),n.onStart=_.wrap(n.onStart,function(t,i){t(i),e.$apply()}),n.onEnd=_.wrap(n.onEnd,function(t,i){t(i),e.$apply()}),"function"==typeof n.onDropEnter&&(n.onDropEnter=_.wrap(n.onDropEnter,function(t,i){t(i),e.$apply()})),"function"==typeof n.onDropEnter&&(n.onDropLeave=_.wrap(n.onDropLeave,function(t,i){t(i),e.$apply()})),t.on("$destroy",function(){n.destroy()})}}}var r=e("./sortable.controller");i.sortableDirective=n},{"./sortable.controller":306}],308:[function(e,t,i){"use strict";function n(e){return{require:"^utilInteractSortable",restrict:"A",link:function(t,i,n,r){var o,a=e(n.transfer)(t),s=e(n.allowDrag)(t),c=t.$watch(n.ddEnabled,function(e){o&&!e?(r.removeDraggable(o,i),o=null):("undefined"==typeof s||s)&&(o=r.addDraggable(i,a))});i.on("$destroy",function(){o&&(r.removeDraggable(o,i),c())})}}}n.$inject=["$parse"],i.sortableDraggableDirective=n},{}],309:[function(e,t,i){"use strict";var n=function(){function e(){}return e.prototype.$get=function(){return{locale:this.locale,lang:this.locale.split("-")[0]}},e}();i.LanguageProvider=n},{}],310:[function(e,t,i){"use strict";function n(e){var t=document.createElement("input");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}i.clipboardCopy=n},{}],311:[function(e,t,i){"use strict";function n(e,t){window.open(e,t)}function r(e){return void 0===e&&(e=""),l.convertLinkType(e)}function o(e){var t=r(e);window.open(t,"_blank")}function a(e){void 0===e&&(e="");var t=l.getLinkType(e);switch(t){case l.LINK_TYPE.EXTERNAL_APP:return"_self";default:return"_blank"}}function s(e){var t=l.getLinkType(e);switch(t){case l.LINK_TYPE.URL:n(e,"_blank");break;case l.LINK_TYPE.EXTERNAL_APP:n(e,"_self");break;case l.LINK_TYPE.FILE:o(e)}}function c(e){var t=r(e);d.clipboardCopy(t)}var l=e("./link.type"),d=e("./clipboard.copy");i.getOsSpecificLink=r,i.getLinkTarget=a,i.openLink=s,i.copyLink=c},{"./clipboard.copy":310,"./link.type":312}],312:[function(e,t,i){"use strict";function n(e){return new RegExp(l.URL).test(e)||new RegExp(l.BOXER).test(e)?d.URL:new RegExp(l.EXTERNAL_APP).test(e)?d.EXTERNAL_APP:new RegExp(l.FILE).test(e)?d.FILE:d.INVALID}function r(e,t){void 0===t&&(t=o.getClientOs());var i=n(e);switch(i){case d.FILE:return t===o.OS_TYPE.NOT_DETECTED?e:t===o.OS_TYPE.WINDOWS?e.replace(new RegExp(/^(smb:\/{2,})/),"file:\\\\").replace(new RegExp(/\//g),"\\"):t===o.OS_TYPE.IOS?e.replace(/^http:/,"awb:").replace(/^https:/,"awbs:"):t===o.OS_TYPE.MAC?e.replace(new RegExp(/^(file:\\{2,})/),"smb://").replace(new RegExp(/^(file:\/{2,})/),"smb://").replace(new RegExp(/\\+/g),"/"):e;case d.URL:return t===o.OS_TYPE.IOS?e.replace(/^http:/,"awb:").replace(/^https:/,"awbs:"):e;case d.INVALID:case d.EXTERNAL_APP:return e;default:return e}}var o=e("./os.client"),a="mailto:(?=.)(?:[^\\s])+@(?=.)(?:[^\\s])+\\.(?=.)(?:[^\\s])+",s="im:<sip:(?=.)(?:[^\\s])+@(?=.)(?:[^\\s])+\\.(?=.)(?:[^\\s])+>",c="tel:[0-9]+(?=.)(?:[^\\s])",l={URL:"^((http[s]?://(?=.)(?:[^\\s])+\\.{0,1}(?=.)(?:[^\\s])+))$",EXTERNAL_APP:"^("+a+"|"+s+"|"+c+")$",FILE:"^file:\\\\(.+)|file://(.+)|smb://(.+)",BOXER:"^boxer://(.+)"};i.VALIDATION_REGEX=l;var d;!function(e){e[e.URL=0]="URL",e[e.EXTERNAL_APP=1]="EXTERNAL_APP",e[e.FILE=2]="FILE",e[e.INVALID=3]="INVALID"}(d||(d={})),i.LINK_TYPE=d,i.getLinkType=n,i.convertLinkType=r},{"./os.client":313}],313:[function(e,t,i){"use strict";function n(){return a}var r,o={WINDOWS:"^(.*)?(Win)(.*)?$",LINUX:"^(.*)?(Linux)(.*)?$",MAC:"^(.*)?(Mac)(.*)?$",IOS:"^(.*)?(iPad|iPhone|iPod)(.*)?$"};!function(e){e[e.WINDOWS=0]="WINDOWS",e[e.LINUX=1]="LINUX",e[e.MAC=2]="MAC",e[e.IOS=3]="IOS",e[e.NOT_DETECTED=4]="NOT_DETECTED"}(r||(r={})),i.OS_TYPE=r;var a=function(){var e=window.navigator.platform;return new RegExp(o.WINDOWS).test(e)?r.WINDOWS:new RegExp(o.LINUX).test(e)?r.LINUX:new RegExp(o.MAC).test(e)?r.MAC:new RegExp(o.IOS).test(e)?r.IOS:r.NOT_DETECTED}();i.getClientOs=n},{}],314:[function(e,t,i){"use strict";function n(){var e=function(e,t){return e?new Date(e).toLocaleDateString(t.replace("_","-")):""};return e.$stateful=!0,e}i.localizedDateFilter=n},{}],315:[function(e,t,i){"use strict";function n(){var e=function(e,t){return e&&t?e.toLocaleString(t.replace("_","-")):""};return e.$stateful=!0,e}i.localizedNumberFilter=n},{}],316:[function(e,t,i){"use strict";function n(){return{restrict:"A",link:function(e,t){var i=new Optiscroll(t.get(0));e.$on("$destroy",function(){return i.destroy()})}}}i.optiscrollDirective=n},{}],317:[function(e,t,i){"use strict";function n(){return function(e,t){var i=(""+e).replace(/<[^>]+>/gm,"");return t&&e.length>t?i.substring(0,t):i}}i.plainTextFilter=n},{}],318:[function(e,t,i){"use strict";function n(e,t){function i(t,i,n){if(t){var r=e(t)(i);n.replaceWith(r),i.$on("$destroy",function(){r.remove()})}}return{scope:{templateUrl:"@",template:"=",vm:"="},restrict:"E",link:function(e,n,r){r.template&&e.$watch("template",function(t){i(t,e,n)}),r.templateUrl&&i(t.get(r.templateUrl),e,n)}}}n.$inject=["$compile","$templateCache"],i.utilTemplateDirective=n},{}],319:[function(e,t,i){"use strict";function n(e){return{restrict:"A",compile:function(t,i){var n=e(i.utilThrottleClick);return function(e,t){t.on("click",_.throttle(function(){var t=function(){n(e)};e.$apply(t)},2e3,!0))}}}}n.$inject=["$parse"],i.throttleclickDirective=n},{}],320:[function(e,t,i){"use strict";var n=function(){function e(e){var t=this;this.children=[],Object.keys(e).forEach(function(i){"children"===i?e.children.forEach(function(e){t.addChild(e)}):t[i]=e[i]})}return e.deserialize=function(t,i){if(i.children){var n=i.children.map(function(i){return e.deserialize(t,i)});i.children=n}return new t(i)},e.serialize=function(t){var i=_.cloneDeep(t);return e._serialize(i)},e.walkDepthFirst=function(t,i,n,r){void 0===n&&(n=!0),void 0===r&&(r="post");var o;return n&&"pre"===r&&(o=t(i)),o?o:(i.children&&(o=i.children.find(function(i){return e.walkDepthFirst(t,i,!0,r)})),o?o:(n&&"post"===r&&(o=t(i)),o))},e._serialize=function(t){t.parent&&delete t.parent;var i=t.children.map(function(t){return e._serialize(t)});return t.children=i,t},e.prototype.addChild=function(e,t){e.parent&&e.parent.removeChild(e),"undefined"==typeof t&&(t=this.children.length),this.children.splice(t,0,e),e.parent=this},e.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),e.parent=null)},e.prototype.replaceChild=function(e,t){var i=this.children.indexOf(e);i>-1&&(this.removeChild(e),this.addChild(t,i))},e.prototype.walkDepthFirstPost=function(e,t){void 0===t&&(t=!0);var i;return(i=this.children.find(function(t){return t.walkDepthFirstPost(e)}))?i:(t&&(i=e(this)),i)},e.prototype.walkDepthFirstPre=function(e,t){void 0===t&&(t=!0);var i;return t&&(i=e(this)),i?i:i=this.children.find(function(t){return t.walkDepthFirstPre(e)})},e.prototype.findChild=function(e){var t=null;return this.walkDepthFirstPre(function(i){return e(i)?(t=i,!0):void 0},!1),t},e.prototype.findChildById=function(e){return this.findChild(function(t){return t.id===e})},e.prototype.leaves=function(){var e=[];return this.walkDepthFirstPre(function(t){0===t.children.length&&e.push(t)},!1),e},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),e.prototype.clone=function(e){var t=new e({id:this._id});return this.children.forEach(function(i){t.addChild(i.clone(e))}),t},e.prototype.destroy=function(){this.children.forEach(function(e){e.destroy()}),this.children=[],this.parent=null},e}();i.Node=n},{}],321:[function(e,t,i){"use strict";var n=function(){function e(){}return e.toQueryString=function(e){return Object.keys(e).sort().map(function(t){var i=e[t];return Array.isArray(i)?i.length>0?i.filter(function(e){return"undefined"!=typeof e&&null!==e&&""!==e}).map(function(e){return t+"="+encodeURIComponent(""+e)}).join("&"):"":"undefined"!=typeof i&&null!==i&&""!==i?t+"="+encodeURIComponent(""+i):""}).filter(function(e){return""!==e}).join("&")},e.appendQueryString=function(t,i){var n=e.toQueryString(i),r=t.split("#"),o=r[1];return t=r[0],-1===t.indexOf(n)&&(t=t.indexOf("?")>-1?t+"&"+n:t+"?"+n),o?[t,o].join("#"):t},e.mergeQueryString=function(t,i){var n=t.split("#"),r=n[1];t=n[0];var o=t.indexOf("?"),a={};if(o>-1){var s=t.slice(o+1);a=e.fromQueryString(s),t=t.slice(0,o)}return r&&(t=[t,r].join("#")),e.appendQueryString(t,Object.assign(a,i))},e.fromQueryString=function(e){var t={};return e=e.startsWith("?")?e.substr(1):e,e.split("&").forEach(function(e){var i=e.split("="),n=i[0],r=decodeURIComponent(i[1]);if("undefined"!=typeof t[n]){if(!Array.isArray(t[n])){var o=t[n];t[n]=[],t[n].push(o)}t[n].push(r)}else t[n]=r}),t},e.removeQueryString=function(e){return e.split("?")[0]},e.fromUrl=function(t){var i=t.split("?")[1];return i?e.fromQueryString(i.split("#")[0]):{}},e.replaceHash=function(t,i){return e.HASH_REG_EXP.exec(t)?t.replace(e.HASH_REG_EXP,"#"+i):t+="#"+i},e.getOriginFromUrl=function(e){var t=/(http[s]*:\/\/.+?)($|[\/,#,\?,$]+.*)/i.exec(e);return t?t[1]:null},e.isFileProtocol=function(t){var i=e.getProtocolFromUrl(t);return"file"===i||"smb"===i},e.getProtocolFromUrl=function(e){var t=/^([a-z]+):(\/\/|\\\\)/i.exec(e);return t?t[1]:"http"},e.getFileExtensionFromUrl=function(e){var t=/.*?\.([a-z,\d]*)$/i.exec(e);return t?t[1].toLowerCase():null},e}();n.HASH_REG_EXP=/#(.*)$/,i.UrlHelper=n},{}]},{},[7]),angular.module("app").run(["$templateCache",function(e){e.put("app/apps/app-blocked.html",'<div class="app-locked-app __el"><span class="locked-icon iwp-icon-gen_locked" uib-tooltip-html=vm.restrictionText tooltip-placement="auto bottom" tooltip-trigger="\'mouseenter\'" tooltip-enable=true></span> <span class=locked-text>{{::vm.lockedText}}</span></div>'),e.put("app/apps/apps.frame.component.html","<div class=app-apps-frame-component ng-style=vm.style><iframe ng-style=vm.iframeStyle></iframe><app-components-loader loading=vm.loading theme=theme-dark center-content=true container-stretch=true spinner-size=large></app-components-loader><div class=iFrameDndMask ng-if=vm.dndMask><span class=iwp-icon-gen_locked></span></div></div>"),e.put("app/dashboard/category.html",'<div class=appComponentsDashboardCategory><div ng-if=vm.showTitle class=categoryHeader role=button data-toggle=collapse href=#widgetsContainer-{{vm.cat.id}} aria-expanded="{{vm.isExpanded ? \'true\' : \'false\'}}" aria-controls=widgetsContainer-{{vm.generatedId}} util-interact-sortable-draggable transfer=vm.cat dd-enabled=!vm.cat.editing allow-drag="!vm.sharedDashboard && !vm.isMobile"><div class=title><span ng-if=!vm.cat.editing>{{ vm.cat.title }}</span><inline-edit ng-if=vm.cat.editing disable=vm.sharedDashboard ng-click=vm.stopCollapse($event) editing=vm.cat.editing is-new=vm.cat.isNew val=vm.cat.title on-change=vm.handleInlineEditChange(value) max-title-length=50 default-value="\'dashboard.category.title\' | translate"></inline-edit><div class="category-view-settings-icon context-home open-right" ng-class="{\'open\': vm.contextMenuExpanded }" ng-click=vm.toggleContextMenu($event) ng-if="!vm.cat.editing && vm.userHasQNumber()"><a class="tab-control tabs-settings __tabControlSettings" title="{{::\'tabs.settings.tooltip\' | translate}}"><i class=iwp-icon-gen_kontextmenu></i></a><app-components-dropdown-menu><app-components-dropdown-menu-item key="{{::\'dashboard.category.create.favorite\' | translate}}" icon-cls=iwp-icon-gen_link ng-click=vm.createLink($event)></app-components-dropdown-menu-item><app-components-dropdown-menu-item key="{{::\'dashboard.category.rename.category\' | translate}}" icon-cls=iwp-icon-gen_edit ng-click=vm.renameCategory($event)></app-components-dropdown-menu-item><app-components-dropdown-menu-item key="{{::\'dashboard.category.delete.category\' | translate}}" icon-cls=iwp-icon-gen_delete ng-click=vm.deleteCategory($event)></app-components-dropdown-menu-item></app-components-dropdown-menu></div></div><div class=caret-section><span ng-class="{\'iwp-icon-gen_nav_arrow_up\': vm.isExpanded, \'iwp-icon-gen_nav_arrow_down\': !vm.isExpanded}" class="arrow categoryIcons"></span></div></div><div class="categoryContent collapse" id=widgetsContainer-{{::vm.cat.id}} ng-class="{in: vm.isExpanded}"><div class=categoryEmpty ng-if=vm.emptyCategory><span translate=dashboard.empty></span></div><div ng-transclude></div></div></div>'),e.put("app/dashboard/dashboard.html",'<div id=dashboard-{{::vm.dashboardName}} class=app-dashboard dd-droup ng-init="dashboard = vm" ng-class="{draggin: vm.draggin, \'app-dashboard-bgimage\': vm.dashboardBgImage}" ng-style="{\'background\': vm.dashboardBgImage && vm.dashboardBgImage !== null ? vm.dashboardBgImage: \'\' }"><app-components-loader loading=vm.loading theme=theme-dark center-content=true container-stretch=true spinner-size=large></app-components-loader><div class="dashboard-restricted dashboard-message" ng-if=vm.restricted><i class=iwp-icon-gen_locked></i> <span>{{::\'dashboard.restricted.role\' | translate}}</span></div><div class="dashboard-restricted dashboard-message" ng-if="!vm.restricted && vm.strongAuthMismatch"><i class=iwp-icon-gen_locked></i> <span class=strongAuth ng-click=vm.handleMismatchTextClick()>{{::"dashboard.strong.auth.mismatch" | translate}} <i class=iwp-icon-gen_goto></i></span></div><div class="app-components-container-grid-layout-item gridlayout-dropzone-delete" util-interact-dropzone dropzone-enabled=vm.dropzoneEnabled dropzone-on-drop=vm.handleDropDelete(transfer)><div class=dropzone-bg></div><div class=info><i class=iwp-icon-gen_delete></i> <span>{{vm.dropzoneMessageKey | translate}}</span></div></div><div class="app-components-container-grid-layout-item dashboard-context-dropdown" ng-if=::vm.dashboard.contextBased><span class=info>{{::\'dashboard.context.dropdown.label\' | translate}}</span><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button id=context-change-selector data-toggle=dropdown aria-haspopup=true aria-expanded=true><span class=current-selection>{{vm.currentDataContext && vm.currentDataContext.displayValue ? vm.currentDataContext.displayValue : vm.currentDataContext.value }}</span> <span class="icon iwp-icon-gen_arrow_down"></span></button><ul class=dropdown-menu aria-labelledby=searchSourceSelector><li ng-repeat="item in ::vm.contextDropdownItems track by $index" ng-click=vm.selectContext(item)><a href=#><span>{{::(item.displayValue ? item.displayValue : item.value)}}</span></a></li></ul></div></div><div class=categories ng-class="{categoryDragging: vm.categoryDragging}" util-interact-sortable dd-axis=y dd-group=dd-group-category on-start=vm.onCategorySortStart(transfer) on-end=vm.onCategorySortEnd(transfer) on-sort="vm.onCategorySort(transfer, index)" ng-if="!vm.restricted && !vm.strongAuthMismatch"><category ng-repeat="category in dashboard.categories track by category.id" cat=category shared-dashboard=dashboard.isShared dashboard-id=dashboard.dashboardName show-title=dashboard.showCategoryTitles() on-delete=dashboard.handleCategoryDelete(category) on-category-toggle=dashboard.handleCategoryToggle(category) on-before-category-hide=dashboard.handleBeforeCategoryHide(category) on-title-change="dashboard.handleCategoryTitleChange(category.id, value)" auto-scroll-selector=.app-dashboard><app-components-container-grid-layout ng-if=category.initialized gutter=dashboard.gutter column-width=140 header-height=32 on-grid-update-start=dashboard.handleGridUpdateStart() on-grid-update-end=dashboard.handleGridUpdateEnd() on-drop-item="dashboard.handleDropItem(target, dropTarget, insertBefore, category)" on-drag-start="dashboard.handleDragStart(target, category)" on-drag-end=dashboard.handleDragEnd(target) dd-group={{::dashboard.ddGroup}} dnd-manager=dashboard.dndManager component-on-render="dashboard.handleGridLayoutRender(instance, category)" grid-items=dashboard.items[category.id] dropzone-enabled="dashboard.dropzoneEnabled && !dashboard.isShared && !vm.isMobile"><app-components-grid-layout-item ng-repeat="item in dashboard.items[category.id] track by item.definition.id" ng-init="dashboard = $parent.$parent.$parent.$parent.dashboard" auto-scroll-selector=.app-dashboard dropzone-enabled="dashboard.dropzoneEnabled && !dashboard.isShared && !vm.isMobile" dd-group={{::dashboard.ddGroup}} grid-layout-item-model=item.definition><div class=widget-container ng-init="dashboard = $parent.$parent.dashboard; item = $parent.$parent.item">{{widgetTitle = dashboard.getWidgetTitle(item); ""}}<div class=widget-title app-components-grid-layout-item-drag-handle ng-class="{\'hasIcon\': dashboard.getWidgetIcon(item),\n                 \'hasNoControls\': dashboard.hasNoControls(item),\n                 \'hasLongTitle\': widgetTitle.multiLineTitle.length === 0 && dashboard.hasLongTitle(item, widgetTitle.title),\n                 \'disabled\': dashboard.isShared\n                 }" dragging-disabled=dashboard.isShared><i class="widget-icon {{::dashboard.getWidgetIcon(item)}}"></i><h2 ng-if="::widgetTitle.multiLineTitle.length > 0" class=multiline-title title="{{::widgetTitle.multiLineTitle.join(\'&#013\') | translate}}"><span ng-repeat="multiLineItemTitle in ::widgetTitle.multiLineTitle track by $index">{{::multiLineItemTitle | translate}}</span></h2><h2 ng-if="::widgetTitle.multiLineTitle.length === 0" ng-bind-html="::dashboard.dbToHtmlLineBreak(widgetTitle.title) | translate" title="{{::widgetTitle.title | translate}}"></h2><div class=widget-controls ng-class="{\'open\': item.definition.widgetContextMenuOpen}"><a class=widget-control ng-if="::(dashboard.hasControl(\'settings\', item) && dashboard.controlHasOptions(\'settings\', item) && dashboard.hasQNumber())" id=widgetControl ng-click="dashboard.toggleContextMenu($event, item)"><i class=iwp-icon-gen_kontextmenu title="{{::\'dashboard.widget.controls.settings\' | translate}}"></i> </a><a class=widget-control ng-if="::dashboard.hasControl(\'refresh\', item)"><i class=iwp-icon-gen_refresh title="{{::\'dashboard.widget.controls.refresh\' | translate}}" ng-click="dashboard.handleWidgetControlClick(\'refresh\', item, category.id, $event)"></i> </a><a class=widget-control ng-if="::dashboard.hasControl(\'legend\', item)" util-bootstrap-popover util-bootstrap-popover-view-model=item.widget util-bootstrap-popover-template=item.definition.settings.legendTemplateUrl role=button tabindex=0 data-toggle=popover data-placement=bottom data-trigger=focus ng-click="dashboard.logControl(\'legend\', item)"><i class=iwp-icon-gen_info title="{{::\'dashboard.widget.controls.legend\' | translate}}"></i> </a><a class=widget-control ng-if="::dashboard.hasControl(\'maximize\', item)"><i class=iwp-icon-ci_maximize title="{{::\'widget.settings.edit.favorite.maximize\' | translate}}" ng-click="dashboard.handleWidgetControlClick(\'maximizeWidget\', item, category.id, $event)"></i> </a><a class=widget-control ng-if="::(dashboard.hasControl(\'shared\', item) && !dashboard.belongsToUser(item))" util-bootstrap-popover util-bootstrap-popover-view-model="{\n                    owner: false,\n                    sharedBy: item.definition.sharedBy,\n                    isDashboard: false\n                   }" util-bootstrap-popover-template="\'app/sharing/share.owner.legend.html\'" data-toggle=popover data-placement=bottom data-trigger=hover><i class=iwp-icon-iwp_share_participant></i></a> <a class=widget-control ng-if="::(dashboard.hasControl(\'shared\', item) && dashboard.belongsToUser(item))" util-bootstrap-popover util-bootstrap-popover-view-model="{\n                    owner: true,\n                    isDashboard: false\n                   }" util-bootstrap-popover-template="\'app/sharing/share.owner.legend.html\'" data-toggle=popover data-placement=bottom data-trigger=hover><i class=iwp-icon-iwp_share_owner></i></a><app-components-dropdown-menu area-labelledby=widgetControl ng-if=::dashboard.hasQNumber()><app-components-dropdown-menu-item ng-if="::dashboard.hasOption(\'settings\', \'edit\', item)" item-click="dashboard.handleWidgetControlClick(\'editWidget\',item, category.id, $event)" icon-cls=iwp-icon-gen_edit key="{{::\'widget.settings.edit.favorite\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="::dashboard.hasOption(\'settings\', \'rename\', item)" item-click="dashboard.handleWidgetControlClick(\'renameWidget\',item, category.id, $event)" icon-cls=iwp-icon-gen_edit key="{{::\'widget.settings.rename.favorite\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="::dashboard.hasOption(\'settings\', \'size\', item)" item-click="dashboard.handleWidgetControlClick(\'editWidgetSize\', item, category.id, $event)" icon-cls=iwp-icon-iwp_resize_widget key="{{::\'widget.settings.edit.favorite.size\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="::dashboard.hasOption(\'settings\', \'share\', item)" item-click="dashboard.handleWidgetControlClick(\'shareWidget\', item, category.id, $event)" icon-cls=iwp-icon-iwp_share key="{{::\'widget.settings.share.favorite\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="::dashboard.hasOption(\'settings\', \'delete\', item)" item-click="dashboard.handleWidgetControlClick(\'deleteWidget\',item, category.id, $event)" icon-cls=iwp-icon-gen_delete key="{{::\'widget.settings.delete.favorite\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-show="dashboard.hasOption(\'settings\', \'copy_link\', item)" item-click="dashboard.handleWidgetControlClick(\'copy_link\',item, category.id, $event)" icon-cls=iwp-icon-gen_copy key="{{\'widget.settings.copyLink\' | translate}}"></app-components-dropdown-menu-item></app-components-dropdown-menu></div></div><div class=widget-content><app-widget-chart-stacked-bar ng-if="::item.definition.type === \'stacked-bar-chart\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext context-diff-values=dashboard.dashboard.diffValues on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-chart-stacked-bar><app-tlt-widget-chart ng-if="::item.definition.type === \'tlt-chart\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext context-diff-values=dashboard.dashboard.diffValues on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-tlt-widget-chart><app-widget-chart ng-if="::item.definition.type === \'chart\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext context-diff-values=dashboard.dashboard.diffValues on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-chart><app-widget-chart-waterfall ng-if="::item.definition.type === \'waterfall-chart\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-chart-waterfall><app-widget-list ng-if="::item.definition.type === \'multiLink\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext dashboard-name=::dashboard.dashboard.name on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-list><app-widget-tile ng-if="::item.definition.type === \'tile\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-tile><app-widget-live-tile ng-if="::item.definition.type === \'live-tile\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-live-tile><app-locked-widget ng-if="::item.definition.type === \'locked\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-locked-widget><app-iframe-widget ng-if="::item.definition.type === \'iframe\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext dashboard-name=::dashboard.dashboard.name on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-iframe-widget><app-widget-favorite ng-if="::item.definition.type === \'favorite\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-favorite><app-widget-ekw ng-if="::item.definition.type === \'ekw\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-ekw><app-widget-tasks ng-if="::item.definition.type === \'tasks\'" instance-id=::item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-tasks><app-widget-table ng-if="::item.definition.type === \'table\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-widget-table><app-pmc-widget ng-if="::item.definition.type === \'pmc\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-pmc-widget><app-pmc-line-chart-widget ng-if="::item.definition.type === \'pmc-line\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></app-pmc-line-chart-widget><dashboard-link-widget ng-if="::item.definition.type === \'dashboard-link\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></dashboard-link-widget><web-component-widget ng-if="::item.definition.type === \'web-component\'" instance-id=item.definition.id definition=item.definition dashboard-context=dashboard.dashboardContext on-render="dashboard.onRenderWidgetCallback(id, widget, category.id)" on-destroy="dashboard.onDestroyWidgetCallback(id, widget, category.id)"></web-component-widget></div></div></app-components-grid-layout-item></app-components-container-grid-layout></category></div></div>'),
e.put("app/errors/error.html",'<div class="app-layout error" ng-class=vm.layoutClasses><div app-layout-responsive-spy class=hidden-xs></div><nav class="app-components-titlebar navbar navbar-inverse navbar-fixed-top"><div class="titlebar-item bmw-env-logo" ng-if="vm.menuId !== \'right-titlebar\' "><div class=logo-container></div></div><div class="titlebar-item actionbar clearfix"><h2 class=title>myWorkplace</h2></div></nav><div class=viewport><div class=layout-container><div class=error-container><p translate={{vm.workplaceNotAvailableKey}}></p><button class="btn-primary btn" ng-click=vm.reloadWorkplace()>{{ \'error.reload\' | translate }}</button></div><div class="apps-container apps-container-desktop" ng-if="!vm.isMobile() && vm.appListLength > 0"><h4>{{\'error.workplace.app.list.legend\' | translate}}</h4><div class=glossary-wrapper><ul class=glossary><li ng-repeat="(letter, active) in vm.appListGlossary track by letter | orderBy: $sanitize(letter)"><a ng-click=vm.goToAppsSection(letter) ng-if=active class=active>{{letter}}</a> <a ng-if=!active class=inactive>{{letter}}</a></li></ul></div><div class=apps-list-wrapper><div class=app-list-wrapper ng-repeat="(letter, active) in vm.appListGlossary track by letter | orderBy: $sanitize(letter)" id={{letter}}><div class=section-wrap ng-if=active><h2>{{letter}}</h2><ul class=apps-list><li ng-repeat="app in vm.appList[letter]"><a ng-click=vm.openAppFromErrorPage(app.url)>{{app.desc}}</a></li></ul></div></div></div></div><div class="apps-container apps-container-mobile" ng-if="vm.isMobile() && vm.appListLength > 0"><h4>{{\'error.workplace.app.list.legend\' | translate}}</h4><div class=glossary-wrapper><ul class=glossary><li ng-repeat="(letter, active) in vm.appListGlossary track by letter | orderBy: $sanitize(letter)"><a ng-click=vm.goToAppsSection(letter) ng-if=active class=active>{{letter}}</a> <a ng-if=!active class=inactive>{{letter}}</a></li></ul></div><div class=apps-list-wrapper><div class=app-list-wrapper ng-repeat="(letter, active) in vm.appListGlossary track by letter | orderBy: $sanitize(letter)" id={{letter}}><div class=section-wrap ng-if=active><h2>{{letter}}</h2><ul class=apps-list><li ng-repeat="app in vm.appList[letter]" ng-if=app.mobile><a ng-click=vm.openAppFromErrorPage(app.url)>{{app.desc}}</a></li></ul></div></div></div></div></div></div></div>'),e.put("app/frameLayout/frame-layout-menu-item.html",'<div class=frameLayoutMenuItem><a href="" class=list-group-item ng-click=vm.handleClick()><span class=layoutIcon ng-class=vm.layout.iconCls></span> <span class=layoutDescription>{{vm.layout.description}}</span> <i class="infoIcon infoIcon-strongAuth iwp-icon-gen_locked" ng-show=vm.layout.strongAuth title="{{ \'dashboardmenu.item.strongAuth\' | translate }}"></i></a></div>'),e.put("app/frameLayout/frame-layout.html",'<div class=frameLayoutContainer><div class=frameLayout ng-class="{\'horizontalLayout\': vm.layout.type === 0, \'spltterDragging\': vm.adapter.isSplitterDragging}" ng-if="!vm.layout.locked && !vm.restricted"><div ng-repeat="splitter in vm.adapter.splitters" ng-style=splitter.getSplitterStyle(vm.fullScreenFrame) ng-class=splitter.cls class=splitter util-interact-draggable dd-axis={{::splitter.axis}} draggable-on-end="splitter.splitterEndDrag(event, vm.frames)" draggable-on-move=splitter.splitterDragMove(event) draggable-on-down="splitter.splitterDragDown(event, vm.layout.frames)" draggable-on-up=splitter.splitterDragUp(event)></div><app-apps-frame-component frame=frame ng-repeat="frame in vm.frames"></app-apps-frame-component></div><div ng-if="vm.layout.locked || vm.restricted" class=lockedLayout><i class=iwp-icon-gen_locked></i> <span translate=dashboard.restricted.role class=ng-scope></span></div></div>'),e.put("app/guidedTour/guidedTour-list.html",'<div class=app-guided-tour-list><ul class="nav list-group"><li ng-repeat="tour in vm.tours" class=list-group-item><app-components-action-item text-key="{{ tour.title | translate }}" icon-cls=iwp-icon-tc_tutorial ng-click=vm.handleTourClick(tour.id)></app-components-action-item></li></ul></div>'),e.put("app/layout/layout.html",'<div class=app-layout ng-class=vm.layoutClasses><div app-layout-responsive-spy responsive-spy-callback=vm.responsiveSpyCallback(responsiveInfo)></div><app-components-sidebar id=navigationbar custom-class="navigationbar app-animation-navigationbar" expanded="vm.navigationbarExpandedSetting.value && vm.navigationbarSidebarSetting.value" sidebar-auto-close=!vm.navigationbarSidebarSetting.value><app-components-loader loading=vm.loadingNavbar theme=theme-light center-content=true container-stretch=true spinner-size=medium></app-components-loader><app-components-navbar-menu menu-id=navigationbar></app-components-navbar-menu><app-components-apps-menu menu-id=dashboards apps-menu-title=appsmenu.dashboards apps=vm.dashboards type=dashboards item-click-handler=vm.dashboardItemClickHandler(app) header-icons=vm.dashboardsHeaderIcons><frame-layout-menu-item ng-repeat="appsLayout in vm.appsLayouts track by appsLayout.id" layout=appsLayout></frame-layout-menu-item></app-components-apps-menu><app-components-apps-menu menu-id=applications apps-menu-title=appsmenu.applications type=apps apps=vm.apps item-click-handler=vm.appItemClickHandler(app)></app-components-apps-menu><div class=app-components-appsmenu ng-if=vm.demoMode><ul class="nav appsmenu-list"><li class=app-components-appsmenu-item><a ng-click=vm.startCordova()><span class="sidebar-icon iwp-icon-gen_calc" ng-class=::vm.iconCls></span> <span class=item-label>Cordova</span></a></li></ul></div></app-components-sidebar><div class=viewport><app-components-loader loading=vm.loading></app-components-loader><div class=overlay-container></div><div class="application-container app-animation-navigationbar __applicationLayer"><app-apps-frame-component ng-repeat="frame in vm.frames track by frame.id" frame=frame></app-apps-frame-component></div><div class="application-container app-animation-navigationbar" ng-repeat="dashboard in vm.dashboards track by dashboard.name" ng-style=vm.getStyleForFrame(dashboard)><div class=application-container-inner ng-style=vm.getStyleForFrameInner(dashboard)><app-apps-frame-component ng-repeat="frame in $parent.vm.getFramesByTabManager(dashboard) track by frame.id" frame=frame></app-apps-frame-component></div></div><div id=layout-container class="layout-container app-animation-navigationbar"><app-layout-split can-split="vm.canSplit(direction, index)" on-split="vm.onSplit(transfer, params)"></app-layout-split><app-tab-layout layout=vm.layout></app-tab-layout></div><app-components-sidebar id=taskbar custom-class="taskbar overlay app-animation-taskbar" expanded=false sidebar-auto-close=true></app-components-sidebar></div></div>'),e.put("app/layout/layout.split.html",'<div class=app-layout-split><div class="mask top" util-interact-dropzone dropzone-enabled="vm.canSplitMask(\'column\', 0)" dd-group=.dd-group-tab dropzone-on-drop="vm.onSplitMaskDrop(transfer, {direction: \'column\', index: 0});"><div class=mask-indicator></div></div><div class="mask left" util-interact-dropzone dropzone-enabled="vm.canSplitMask(\'row\', 0)" dd-group=.dd-group-tab dropzone-on-drop="vm.onSplitMaskDrop(transfer, {direction: \'row\', index: 0});"><div class=mask-indicator></div></div><div class="mask right" util-interact-dropzone dropzone-enabled="vm.canSplitMask(\'row\', 1)" dd-group=.dd-group-tab dropzone-on-drop="vm.onSplitMaskDrop(transfer, {direction: \'row\', index: 1});"><div class=mask-indicator></div></div><div class="mask bottom" util-interact-dropzone dropzone-enabled="vm.canSplitMask(\'column\', 1)" dd-group=.dd-group-tab dropzone-on-drop="vm.onSplitMaskDrop(transfer, {direction: \'column\', index: 1});"><div class=mask-indicator></div></div></div>'),e.put("app/menu/menu.overlay.html",'<div class=app-menu-MenuOverlay ng-class=::vm.customClass><div class="container-fluid optiscroll" ng-class="{isSubmenu: vm.isSubmenu}" util-optiscroll><div class=menuOverlay-content><div class=menuOverlay-header><a role=button ng-click=vm.handleHeaderClick($event)><i class=iwp-icon-gen_arrow_left></i></a></div><util-template template=vm.menuContent.template vm=vm.menuContent.vm></util-template></div></div></div>'),e.put("app/messages/message-item.html",'<li class="app-messages-message-item list-group-item" ng-class="{unread: !vm.data.read, activeMenu: vm.hasActiveMenu}" ng-click=vm.handleClick($event)><i class="chevron iwp-icon-gen_arrow_left"></i> <a role=button><i ng-class=vm.categoryIcon></i><div class=title>{{vm.data.title}}<div class=teaser>{{vm.data.description | plainText:100 }}</div></div></a></li>'),e.put("app/messages/message-list.html",'<div class=app-messages-message-list><ul class="nav list-group" ng-if="vm.messages.length > 0"><app-messages-message-item ng-repeat="message in vm.messages" data=message on-click=vm.handleMessageItemClick(messageItem)></app-messages-message-item></ul><div class=message ng-if="vm.messages.length === 0">{{ "messages.noMessages" | translate }}</div></div>'),e.put("app/messages/messages-info-item.html","<div class=messages-info-item><div class=messages-info-icon><i class=iwp-icon-gen_bell></i> <span ng-if=\"vm.count > 0\" class=badge>{{vm.count | localizedNumber: vm.appLocale}}</span></div><div class=messages-info-label>{{'menu.item.messages' | translate }}</div></div>"),e.put("app/sharing/share.owner.legend.html","<div class=app-components-appsmenu-share-icon-info><p ng-if=vm.owner>{{ vm.isDashboard ? ( 'dashboard.shared.owner' | translate ) : ( 'favorite.shared.owner' | translate ) }}</p><p ng-if=!vm.owner><span ng-class=\"{'deleted': vm.sharedBy.deleted}\">{{ vm.sharedBy && vm.sharedBy.name ? vm.sharedBy.name : '' }} {{ vm.sharedBy && vm.sharedBy.surname ? vm.sharedBy.surname : '' }} </span><span ng-if=!vm.sharedBy.external>{{'dashboard.shared.info.internal' | translate: vm.sharedBy}}</span> <span ng-if=vm.sharedBy.external>{{'dashboard.shared.info.external.obo' | translate: vm.sharedBy}}</span> {{ vm.isDashboard ? ( 'dashboard.shared.info.text' | translate ) : ( 'favorite.shared.info.text' | translate ) }}</p></div>"),e.put("app/support/support-overlay.html",'<div class=app-support-overlay><a class=support-button ng-class="{disabled: !vm.hasArticle}" title="{{vm.hasArticle ? \'support.supportOverlay.button.article.tooltip\' : \'support.supportOverlay.button.article.tooltip.disabled\' | translate }}" ng-click=vm.handleArticleClick()><i class="support-button-icon iwp-icon-gen_manual"></i> <span class=support-button-label>{{"support.supportOverlay.button.article.label" | translate }}</span> </a><a class=support-button title="{{\'support.supportOverlay.button.chat.tooltip\' | translate:vm.supportConfig }}" href={{vm.chatUrl}} target=serviceNow><i class="support-button-icon iwp-icon-gen_message"></i> <span class=support-button-label>{{"support.supportOverlay.button.chat.label" | translate }}</span> </a><a class=support-button title="{{\'support.supportOverlay.button.incident.tooltip\' | translate }}" href={{vm.incidentUrl}} target=serviceNow><i class="support-button-icon iwp-icon-gen_ticket"></i> <span class=support-button-label>{{"support.supportOverlay.button.incident.label" | translate }}</span></a><div class=support-close ng-click=vm.hide()><i class=iwp-icon-gen_close></i></div></div>'),e.put("app/tab/tab.layout.html",'<div class=app-tab-layout ng-class=::vm.customClass ng-style=vm.getStyleForLayout()><div class=layout-content ng-if="vm.layout.children.length > 0" ng-repeat="item in vm.layout.children track by item.id" ng-style=::$parent.vm.getStyleForLayout(item)><div class=tab-layout-divider ng-if="$index > 0" ng-class=::$parent.vm.layout.direction util-interact-draggable dd-axis={{::$parent.vm.ddAxis}} draggable-on-end=$parent.vm.dividerEndDrag(event) draggable-on-move=$parent.vm.dividerMove(event) draggable-on-down=$parent.vm.dividerDown(event) draggable-on-up=$parent.vm.dividerUp(event)></div><app-tab-layout layout=item></app-tab-layout></div><div class=layout-content ng-if="vm.layout.children.length === 0"><app-components-tabview tabview-id=vm.layout.id max-tabs=vm.maxTabs min-tab-width=250 left-titlebar-visible="vm.hasMenu(\'left-titlebar\')" right-titlebar-visible="vm.hasMenu(\'right-titlebar\')"></app-components-tabview></div></div>'),e.put("app/widget/widget.legend.html","<div class=app-widget-legend><p>{{::vm.definition.description | translate }}</p></div>"),e.put("app/components/appsmenu/appsmenu.html",'<div id=appsmenu-{{::vm.menuId}} class=app-components-appsmenu><header><h2><span>{{::vm.title | translate }}</span> <i ng-repeat="icon in ::vm.headerIcons" class=headerIcon ng-class=::icon.iconCls ng-click=icon.clickHandler()></i></h2></header><div class=form-group ng-if=vm.filter><div class=input-group><input class="filter form-control __filter" type=text placeholder="{{::\'appsmenu.placeholder.filter\' | translate }}" ng-model=vm.filterTerm><div class=input-group-addon><i class="filter-remove iwp-icon-gen_close" ng-show=vm.filterTerm ng-click=vm.reset()></i> <i class="filter-icon iwp-icon-gen_search"></i></div></div></div><div ng-transclude></div><ul class="nav appsmenu-list" ng-repeat="app in vm.filteredApps track by app.name"><app-components-apps-menu-item data=app ng-if="vm.type === \'apps\'" item-click-handler=$parent.vm.onItemClick(app)></app-components-apps-menu-item><app-components-dashboard-menu-item ng-if="vm.type === \'dashboards\'" data=app item-click-handler=$parent.vm.onItemClick(app)></app-components-dashboard-menu-item></ul></div>'),e.put("app/components/appsmenu/appsmenu.item.html",'<li class=app-components-appsmenu-item ng-class="::{\n      group: vm.isGroup,\n      external: vm.isExternalForNewWindow || vm.isExternalForNewTab,\n      strongAuth: vm.isStrongAuth\n      }"><a href="" ng-click=vm.onItemClick() ng-class="{collapsed: vm.collapsed}" uib-tooltip={{::vm.data.description}} tooltip-placement=right tooltip-enable=vm.tooltipEnabled tooltip-append-to-body=true><span class=sidebar-icon ng-class=::vm.iconCls></span> <span class=item-label>{{::vm.appDescription}} <i class="group-toggle glyphicon iwp-icon-gen_nav_arrow_up"></i> <i class="infoIcon infoIcon-strongAuth iwp-icon-gen_token" ng-if=vm.isStrongAuth title="{{::\'appsmenu.item.strongAuth\' | translate }}"></i> <i class="infoIcon infoIcon-external iwp-icon-gen_external_app" ng-if=vm.isExternalForNewWindow title="{{::\'appsmenu.item.externalWindow\' | translate }}"></i> <i class="infoIcon infoIcon-external iwp-icon-gen_external_app" ng-if=vm.isExternalForNewTab title="{{::\'appsmenu.item.externalTab\' | translate }}"></i></span></a><ul class="nav appsmenu-list" ng-if=::vm.isGroup uib-collapse=vm.collapsed><app-components-apps-menu-item ng-repeat="item in ::vm.data.children track by item.name" data=::item item-click-handler=vm.onItemClick(app)></app-components-apps-menu-item></ul></li>'),e.put("app/components/appsmenu/dashboardmenu.item.html",'<li class=app-components-appsmenu-item ng-class="::{group: vm.isGroup, external: vm.isExternalForNewWindow || vm.isExternalForNewTab, strongAuth: vm.isStrongAuth}"><a href="" ng-click=vm.onItemClick() ng-class="{collapsed: vm.collapsed}" uib-tooltip={{::vm.data.description}} tooltip-placement=right tooltip-enable=vm.tooltipEnabled tooltip-append-to-body=true><span class=sidebar-icon ng-class=::vm.iconCls></span> <span class=item-label ng-bind-html=vm.dashboardDescription></span> <i class="group-toggle glyphicon iwp-icon-gen_nav_arrow_up"></i> <i class="infoIcon infoIcon-sharedAndOwner iwp-icon-iwp_share_owner" ng-if="::(vm.data.sharedBy && vm.owner)" util-bootstrap-popover util-bootstrap-popover-view-model=::vm.tooltipModel util-bootstrap-popover-template="::\'app/sharing/share.owner.legend.html\'" role=button tabindex=0 data-toggle=popover data-placement=bottom data-trigger=hover></i> <i class="infoIcon infoIcon-shared iwp-icon-iwp_share_participant" ng-if="::(vm.data.sharedBy && !vm.owner)" util-bootstrap-popover util-bootstrap-popover-view-model=::vm.tooltipModel util-bootstrap-popover-template="::\'app/sharing/share.owner.legend.html\'" role=button tabindex=0 data-toggle=popover data-placement=bottom data-trigger=hover></i> <i class="infoIcon infoIcon-strongAuth iwp-icon-gen_locked" ng-class="::{\'moveLeft\': vm.data.sharedBy}" ng-if=::vm.isStrongAuth title="{{::\'dashboardmenu.item.strongAuth\' | translate }}"></i></a><ul class="nav appsmenu-list" ng-if=::vm.isGroup uib-collapse=vm.collapsed><app-components-dashboard-menu-item ng-repeat="item in ::vm.data.children track by item.name" data=::item item-click-handler=vm.onItemClick(app)></app-components-dashboard-menu-item></ul></li>'),e.put("app/components/chip/chip.html",'<div class="appChip input-group"><div class=form-control type=button><span ng-class=vm.typeIconCls></span> {{vm.text}}</div><div class=input-group-addon ng-if=vm.editable><span class=badge><i class="iwp-icon-gen_close xButton" ng-click=vm.clickHandler()></i></span></div></div>'),e.put("app/components/container/grid-layout-item.html",'<div class=app-components-container-grid-layout-item><ng-transclude></ng-transclude><div class=app-components-container-grid-layout-item-dropzone util-interact-dropzone dd-group=.{{::vm.ddGroup}} dropzone-enabled="vm.dropzoneEnabled && vm.enabled" dropzone-on-drag-enter=vm.handleDragEnter(transfer) dropzone-on-drag-leave=vm.handleDragLeave() dropzone-on-drop-move="vm.handleDropMove(transfer, event)" dropzone-on-drop=vm.handleDrop(transfer)></div></div>'),e.put("app/components/container/grid-layout.html",'<div class=app-components-container-gridLayout ng-class="{draggin: vm.draggin}"><div style="display: none;" class="app-components-container-grid-layout-item gridLayout-placeholder" util-interact-dropzone dropzone-enabled=vm.dropzoneEnabled dropzone-on-drag-enter=vm.handlePlaceholderDragEnter(transfer) dropzone-on-drop=vm.handleDropPlaceholder(transfer) dd-group=.{{::vm.ddGroup}}><div class="dropzone interact-prio-zone"><div class=dropzone-background></div><i class=iwp-icon-gen_ok></i></div></div><div class=gridLayout-dropzone util-interact-dropzone dropzone-enabled=vm.dropzoneEnabled dropzone-on-drag-enter=vm.handleGridLayoutDragEnter(transfer) dropzone-on-drag-leave=vm.handleGridLayoutDragLeave(transfer) dropzone-on-drop=vm.handleDropPlaceholder(transfer) dropzone-on-deactivate=vm.handleGridLayoutDropzoneDeactivate(event) dd-group=.{{::vm.ddGroup}}></div><ng-transclude></ng-transclude></div>'),e.put("app/components/cropper/cropper.html",'<div class=appImageCropper><p translate=dialogs.favorite.buttons.crop.crop.format.label></p><div class=buttons-group data-toggle=buttons><button type=button class="btn cropMode active" ng-click=vm.selectCropMode(1)><i class=iwp-icon-iwp_square></i></button> <label>{{\'dialogs.favorite.buttons.crop.square.label\' | translate}}</label> <button type=button class="btn cropMode" ng-click=vm.selectCropMode(2)><i class=iwp-icon-iwp_rectangle></i></button> <label>{{\'dialogs.favorite.buttons.crop.rectangle.label\' | translate}}</label> <button class="btn pull-right" ng-click=vm.zoom(false)><i class=iwp-icon-gen_minus></i></button> <button class="btn pull-right" ng-click=vm.zoom(true)><i class=iwp-icon-gen_plus></i></button></div><div><img ng-src={{vm.imgSrc}}></div></div>'),e.put("app/components/dropdownMenu/dropdown-menu-item.html","<li class=appComponentsDropdownMenuItem><a href=# ng-click=vm.itemClick()><span class=tabview-settings-icon><i ng-class=::vm.iconCls></i></span> <span>{{::vm.key}}</span></a></li>"),e.put("app/components/dropdownMenu/dropdown-menu.html",'<ul class="appComponentsDropdownMenu dropdown-menu dropdown-menu-right" aria-labelledby={{::vm.ariaLabelledby}} ng-transclude></ul>'),e.put("app/components/fileHandling/variable-src-image.html",'<div class=appComponentVariableSrcImage><img ng-if="vm.croppedImageData && vm.croppedImageData !== null" ng-src={{vm.croppedImageData}} class=widgetAvatar cropped-image-resizer=vm.croppedCanvasData cropped-image-colspan=vm.descriptorColspan> <i ng-if="vm.croppedImageData === null" ng-class=vm.defaultIcon class=widgetAvatar></i></div>'),e.put("app/components/fullscreen/fullscreen.html",'<div class=app-components-fullscreen><ul class="navbar nav" ng-if=vm.showToggle()><li ng-if=!vm.isFullscreen()><a ng-click=vm.toggleFullscreen(true) title="{{ \'fullscreen.show.tooltip\' | translate }}"><i class=iwp-icon-gen_fullscreen></i></a></li><li ng-if=vm.isFullscreen()><a ng-click=vm.toggleFullscreen(false) title="{{ \'fullscreen.hide.tooltip\' | translate }}"><i class=iwp-icon-gen_minimize_size></i></a></li></ul></div>'),e.put("app/components/help/help.html",'<div class=app-components-help><ul class="nav list-group"><li class=list-group-item><app-components-action-item text-key="{{ \'help.workplace.link\' | translate }}" icon-cls=iwp-icon-gen_manual ng-click=vm.openManual()></app-components-action-item></li><li class=list-group-item><app-components-action-item text-key="{{ \'help.workplace.imprint\' | translate }}" icon-cls=iwp-icon-gen_info ng-click=vm.openImprint()></app-components-action-item></li><li class=list-group-item><app-components-action-item text-key=menu.item.user.terms icon-cls=iwp-icon-gen_info ng-click=vm.openTermsOfUseDialog()></app-components-action-item></li><li class=list-group-item><app-components-action-item text-key=action.item.roles.help.text icon-cls=iwp-icon-gen_info ng-click=vm.showRoleHelp()></app-components-action-item></li><li class=list-group-item><app-components-action-item text-key="{{ \'help.workplace.contact\' | translate }}" icon-cls=iwp-icon-gen_email href="mailto:{{ \'help.workplace.email\' | translate }}"></app-components-action-item></li><li class=list-group-item ng-if=vm.userHasQNumber()><i class="chevron iwp-icon-gen_arrow_left"></i><app-components-action-item text-key="{{ \'help.workplace.guidedtour\' | translate }}" icon-cls=iwp-icon-tc_tutorial ng-click=vm.createTourOverlay($event)></app-components-action-item></li><li class=list-group-item ng-if=vm.hasContextHelp()><app-components-action-item icon-cls={{vm.getContextAppIcon()}} ng-click=vm.openContextHelp() html-content="{{\'help.selectedApp.link\' | translate:vm.contextApp}}"></app-components-action-item></li></ul></div>'),e.put("app/components/dialogs/accept-favorite-dialog.html",'<div class=appComponentAcceptFavorite tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.config.titleKey}}></app-component-dialog-header><div class=modal-body><form novalidate class=form-horizontal><div class=form-group><label class="col-sm-5 control-label">{{"dialogs.favorite.shared.accept.dropdown.label" | translate:vm.labelTranslationData}}</label><div class=col-sm-7><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button id=dashboardDestination data-toggle=dropdown aria-haspopup=true aria-expanded=true>{{vm.selectedDashboard.description}} <span class=caret></span></button><ul class=dropdown-menu aria-labelledby=dashboardDestination><li ng-repeat="dashboard in vm.dashboards" ng-click=$parent.vm.updateSelectedDashboard(dashboard)><a href=#>{{dashboard.description}}</a></li></ul></div></div></div></form></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ vm.config.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.config.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/add-dashboard-dialog.html",'<div class=appComponentsAddDashboardDialog ng-keyup="vm.handleKeyUp($event, addDashboardForm)"><app-component-dialog-header close-handler=vm.cancel() dialog-title=dialogs.dashboard.add.title></app-component-dialog-header><div class=modal-body><form novalidate name=addDashboardForm class=form-horizontal><div class=form-group><input type=text ng-model=vm.title name=title class=form-control id=inputDashboard placeholder="{{\'dialogs.dashboard.add.input.placeholder\' | translate}}" maxlength=30 data-placement=top uib-tooltip-html=vm.getTooltipText(addDashboardForm.title) tooltip-placement="auto bottom" tooltip-trigger="\'mouseenter\'" tooltip-enable=vm.showTooltip(addDashboardForm.title) autofocus required></div></form></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ \'dialogs.dashboard.buttons.add.cancel\' | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.submit(addDashboardForm)>{{ \'dialogs.dashboard.buttons.add.accept\' | translate }}</button></div></div>'),e.put("app/components/dialogs/app-dialog.html","<div class=app-components-appDialog><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.config.config.title}}></app-component-dialog-header><app-apps-frame-component ng-if=vm.frame frame=vm.frame></app-apps-frame-component></div>"),e.put("app/components/dialogs/confirm.html",'<div class=app-components-confirmation-dialog tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.options.titleKey}}></app-component-dialog-header><div class=modal-body><span translate={{vm.options.messageKey}} translate-values=vm.options.messageParams></span></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel() ng-if=vm.showCancel()>{{ vm.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/cordova-dialog.html",'<div class=cordova-dialog tabindex=0><app-component-dialog-header close-handler=vm.cancel() dialog-title=Cordova></app-component-dialog-header><div class=modal-body><div class=camera-img ng-click=vm.takeImg()><i class=iwp-icon-gen_image ng-if=!vm.imgSrc></i> <img ng-if=vm.imgSrc ng-src={{vm.imgSrc}}></div></div><div class=modal-footer><button class="btn btn-primary" type=button ng-click=vm.ok()>Ok</button></div></div>'),e.put("app/components/dialogs/delete-dashboard-confirmation-dialog.html",'<div class=appComponentsDeleteDashboardConfirmationDialog tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.options.titleKey}}></app-component-dialog-header><div class=modal-body><span translate={{vm.options.messageKey}} translate-values=vm.options.messageParams></span></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ vm.options.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.options.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/dialog-header.html",'<div class="modal-header dialog-header"><h3 class=modal-header-title>{{ vm.dialogTitle | translate}}</h3><button ng-if=vm.closeable type=button class=close ng-click=vm.closeButtonHandler() aria-label=Close><span class=iwp-icon-gen_close></span></button></div>'),e.put("app/components/dialogs/edit-dashboard-dialog.html",'<div class=appComponentsEditDashboardDialog ng-keyup="vm.handleKeyUp($event, renameForm)"><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.dialogTitleKey}}></app-component-dialog-header><div class=modal-body><form novalidate name=renameForm class=form-horizontal><div class=form-group><input type=text ng-model=vm.title name=title class=form-control id=inputDashboard placeholder="{{\'dialogs.dashboard.edit.input.placeholder\' | translate}}" maxlength={{vm.maxLength}} data-placement=top uib-tooltip-html=vm.getTooltipText(renameForm.title) tooltip-placement="auto bottom" tooltip-trigger="\'mouseenter\'" tooltip-enable=vm.showTooltip(renameForm.title) autofocus required></div></form></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ \'dialogs.dashboard.buttons.edit.cancel\' | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.submit(renameForm)>{{ \'dialogs.dashboard.buttons.edit.accept\' | translate }}</button></div></div>'),e.put("app/components/dialogs/edit-widget-size-dialog.html",'<div class=app-components-edit-size-dialog tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.config.titleKey}}></app-component-dialog-header><div class=modal-body><span>{{vm.messageText}}</span><br><br><div class=grid-size-info><span class=size-label>{{"dialogs.favorite.edit.size.original" | translate}}</span><span class="size current-size">{{vm.currentSize}}</span></div><div class=grid-size-info><span class=size-label>{{"dialogs.favorite.edit.size.new" | translate}}</span><span class="size new-size">{{vm.newSize}}</span></div><br><app-widget-size-component select-size="vm.handleNewSizeSelected(row, column)" min-rows=vm.widgetDef.settings.minRows max-rows=vm.widgetDef.settings.maxRows min-columns=vm.widgetDef.settings.minColumns max-columns=vm.widgetDef.settings.maxColumns current-row=vm.widgetDef.rowspan current-column=vm.widgetDef.colspan></app-widget-size-component></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ vm.config.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.config.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/favorite-dialog.html",'<div class=app-dialogs-add-favorite ng-keyup="vm.handleKeyUp($event, addFavoriteForm)"><app-component-dialog-header close-handler=vm.cancel() dialog-title={{::vm.dialogTitle}}></app-component-dialog-header><div class=modal-body><form novalidate name=addFavoriteForm class=form-horizontal><div class=form-group ng-if=!vm.cropperVisible><label class="col-sm-3 control-label">{{::\'dialogs.favorite.label.name\' | translate}} <span>*</span>:</label><div class=col-sm-9><app-restricted-text-component on-input-focus=vm.onRestrictedTextFocus(isFocused) required error-text={{::vm.linkInputModel.maxLinesErrorText}} max-length=vm.linkInputModel.maxLength max-lines=vm.linkInputModel.maxLines text-model=vm.title></app-restricted-text-component></div></div><div class=form-group ng-if=vm.showUrlField><label for=inputTitle class="col-sm-3 control-label">{{::\'dialogs.favorite.label.address\' | translate}} <span>*</span>:</label><div class=col-sm-9><input type=text ng-model=vm.dataUrl name=dataUrl class=form-control id=inputTitle ng-change=vm.validateUrl() ng-class="{\'invalid\': !vm.validDataUrl && addFavoriteForm.dataUrl.$touched}" placeholder="{{::\'dialogs.favorite.label.address\' | translate}}" maxlength=2048 data-placement=right uib-tooltip-html=vm.getAddressTooltipText(addFavoriteForm.dataUrl) tooltip-placement="auto bottom" tooltip-trigger="\'mouseenter\'" tooltip-enable=vm.showAddressTooltip(addFavoriteForm.dataUrl) novalidate></div></div><div class="form-group img-group" ng-if="vm.showEditWidgetBackgroundImage && !vm.cropperVisible"><label class="col-sm-3 control-label">{{::\'dialogs.favorite.label.picture\' | translate}}:</label><div class=col-sm-9><app-components-variable-img-source cropped-canvas-data=vm.croppedCanvasData default-icon=vm.defaultIcon widget-descriptor=vm.widgetDescriptor></app-components-variable-img-source><label class="btn btn-primary btn-file">{{"dialogs.favorite.buttons.change.picture" | translate}} <input type=file accept=image/png,image/jpeg,image/gif id=favoriteImage style="display: none;" file-input-change ng-model=vm.image></label> <button ng-if=vm.resetToDefaultVisible type=button class="btn btn-default" ng-click=vm.resetToDefaultImage()>{{::\'dialogs.favorite.buttons.reset.picture\' | translate }}</button></div></div><app-component-image-cropper img-src=vm.image ng-if=vm.cropperVisible cropped-canvas-data=vm.croppedCanvasData></app-component-image-cropper></form></div><div class=modal-footer ng-if=!vm.cropperVisible><button class="btn btn-default" type=button ng-click=vm.cancel()>{{::\'dialogs.favorite.buttons.cancel\' | translate }}</button> <button class="btn btn-primary" type=button ng-disabled="!vm.validDataUrl || !vm.title" ng-click=vm.submit(addFavoriteForm)>{{::\'dialogs.favorite.buttons.save\' | translate }}</button></div><div class=modal-footer ng-if=vm.cropperVisible><button class="btn btn-default" type=button ng-click=vm.cancelCrop()>{{::\'dialogs.favorite.buttons.crop.cancel\' | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.acceptCrop()>{{::\'dialogs.favorite.buttons.crop.accept\' | translate }}</button></div></div>'),
e.put("app/components/dialogs/guidedtour-dialog.html",'<div class=app-components-guidedtour-dialog><app-component-dialog-header close-handler=vm.later() dialog-title={{vm.title}}></app-component-dialog-header><div class=modal-body><span>{{vm.message}}</span></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ "guidedtour.config.step.button.no" | translate }}</button> <button class="btn btn-default" type=button ng-click=vm.later()>{{ "guidedtour.config.step.button.later" | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.start()>{{ "guidedtour.config.step.button.sure" | translate }}</button></div></div>'),e.put("app/components/dialogs/logout-confirmation-dialog.html",'<div class=appComponentsLogoutConfirmationDialog tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.options.titleKey}}></app-component-dialog-header><div class=modal-body><span translate={{vm.options.messageKey}} translate-values=vm.options.messageParams></span></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel() ng-if=vm.showCancel()>{{ vm.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/maximize-widget-dialog.html",'<div class="app-components-dialog dialog-maximize-widget" tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.options.titleKey}}></app-component-dialog-header><div class=modal-body><app-widget-chart-stacked-bar ng-if="vm.item.definition.type === \'stacked-bar-chart\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext context-diff-values=vm.dashboard.diffValues maximized=true></app-widget-chart-stacked-bar><app-tlt-widget-chart ng-if="vm.item.definition.type === \'tlt-chart\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext context-diff-values=vm.dashboard.diffValues maximized=true></app-tlt-widget-chart><app-widget-chart ng-if="vm.item.definition.type === \'chart\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext context-diff-values=vm.dashboard.diffValues maximized=true></app-widget-chart><app-widget-chart-waterfall ng-if="vm.item.definition.type === \'waterfall-chart\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-widget-chart-waterfall><app-widget-list ng-if="vm.item.definition.type === \'multiLink\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext dashboard-name=dashboard.dashboard.name maximized=true></app-widget-list><app-widget-tile ng-if="vm.item.definition.type === \'tile\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-widget-tile><app-widget-live-tile ng-if="vm.item.definition.type === \'live-tile\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-widget-live-tile><app-locked-widget ng-if="vm.item.definition.type === \'locked\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-locked-widget><app-apps-frame-component ng-if="vm.item.definition.type === \'iframe\'" frame=vm.frame></app-apps-frame-component><app-widget-favorite ng-if="vm.item.definition.type === \'favorite\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-widget-favorite><app-widget-ekw ng-if="vm.item.definition.type === \'ekw\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-widget-ekw><app-widget-tasks ng-if="vm.item.definition.type === \'tasks\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext close-handler=vm.cancel() maximized=true></app-widget-tasks><app-widget-table ng-if="vm.item.definition.type === \'table\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-widget-table><app-pmc-widget ng-if="vm.item.definition.type === \'pmc\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-pmc-widget><app-pmc-line-chart-widget ng-if="vm.item.definition.type === \'pmc-line\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></app-pmc-line-chart-widget><dashboard-link-widget ng-if="vm.item.definition.type === \'dashboard-link\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></dashboard-link-widget><web-component-widget ng-if="vm.item.definition.type === \'web-component\'" instance-id=vm.item.definition.id definition=vm.item.definition dashboard-context=vm.dashboardContext maximized=true></web-component-widget></div></div>'),e.put("app/components/dialogs/rating-campaign-dialog.html",'<div class="app-components-dialog dialog-rating-campaign" tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.options.titleKey}}></app-component-dialog-header><div class=modal-body><span translate={{vm.options.messageKey}} translate-values=vm.options.messageParams></span></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.never()>{{ vm.options.neverButtonKey | translate }}</button> <button class="btn btn-default" type=button ng-click=vm.cancel()>{{ vm.options.laterButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.options.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/share-dashboard-dialog.html",'<div class=appComponentsShareDashboardDialog tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.config.titleKey}}></app-component-dialog-header><div class=modal-body><div class="share-edit share-section"><form novalidate class=form-horizontal><div class=form-group><label class="col-sm-3 control-label"></label><div class=col-sm-9><i class=emptyChipsPlaceholder ng-if="!vm.chips[\'edit\'] || vm.chips[\'edit\'].length === 0">&lt;{{"dialogs.favorite.share.empty" | translate}}&gt;</i><app-chip ng-repeat="chip in vm.chips[\'edit\']" title={{chip.title}} text={{chip.text}} click-handler="vm.removeChip(chip, \'edit\')" editable=true type-icon-cls={{chip.iconCls}}></app-chip></div></div><div class=form-group><label class="col-sm-3 control-label">{{"dialogs.favorite.share.section.title.edit" | translate}}</label><div class="col-sm-9 sourceSelectionArea"><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button id=searchSourceSelector data-toggle=dropdown aria-haspopup=true aria-expanded=true><span ng-class="vm.selectedSource[\'edit\'].iconCls"></span> <span class=iwp-icon-gen_arrow_down></span></button><ul class=dropdown-menu aria-labelledby=searchSourceSelector><li ng-repeat="source in vm.searchSources[\'edit\']" ng-click="$parent.vm.updateSelectedSource(source, \'edit\')"><a href=#><span ng-class=source.iconCls></span> {{source.text | translate}}</a></li></ul></div><app-search-field placeholder={{vm.selectedSource.placeholder}} key-up-handler="vm.doSearch(\'edit\')" focus-handler="vm.getSearchSuggestions(\'edit\')" reset-handler="vm.resetSearch(\'edit\')" term="vm.searchTerm[\'edit\']"></app-search-field></div></div></form><app-table table-config="vm.selectedSource[\'edit\'].tableConfig" entry-click-handler="vm.handleEntryClicked(idx, entry, \'edit\')" ng-show="vm.selectedSource[\'edit\'].tableConfig.data && vm.selectedSource[\'edit\'].tableConfig.data.length > 0"></app-table></div><div class="share-view share-section"><form novalidate class=form-horizontal><div class=form-group><label class="col-sm-3 control-label"></label><div class=col-sm-9><i class=emptyChipsPlaceholder ng-if="!vm.chips[\'view\'] || vm.chips[\'view\'].length === 0">&lt;{{"dialogs.favorite.share.empty" | translate}}&gt;</i><app-chip ng-repeat="chip in vm.chips[\'view\']" title={{chip.title}} text={{chip.text}} click-handler="vm.removeChip(chip, \'view\')" editable=true type-icon-cls={{chip.iconCls}}></app-chip></div></div><div class=form-group><label class="col-sm-3 control-label">{{"dialogs.favorite.share.section.title.view" | translate}}</label><div class="col-sm-9 sourceSelectionArea"><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button id=searchSourceSelectorEdit data-toggle=dropdown aria-haspopup=true aria-expanded=true><span ng-class="vm.selectedSource[\'view\'].iconCls"></span> <span class=iwp-icon-gen_arrow_down></span></button><ul class=dropdown-menu aria-labelledby=searchSourceSelector><li ng-repeat="source in vm.searchSources[\'view\']" ng-click="$parent.vm.updateSelectedSource(source, \'view\')"><a href=#><span ng-class=source.iconCls></span> {{source.text | translate}}</a></li></ul></div><app-search-field placeholder={{vm.selectedSource.placeholder}} key-up-handler="vm.doSearch(\'view\')" reset-handler="vm.resetSearch(\'view\')" term="vm.searchTerm[\'view\']"></app-search-field></div></div></form><app-table table-config="vm.selectedSource[\'view\'].tableConfig" entry-click-handler="vm.handleEntryClicked(idx, entry, \'view\')" ng-show="vm.selectedSource[\'view\'].tableConfig.data && vm.selectedSource[\'view\'].tableConfig.data.length > 0"></app-table></div></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ vm.config.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.config.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/share-dialog.html",'<div class=appComponentsShareDialog tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.config.titleKey}}></app-component-dialog-header><div class=modal-body><form novalidate class=form-horizontal><div class=form-group><label class="col-sm-3 control-label">{{"dialogs.favorite.share.selected.items.label" | translate}}</label><div class=col-sm-9><i class=emptyChipsPlaceholder ng-if="!vm.chips || vm.chips.length === 0">&lt;{{"dialogs.favorite.share.empty" | translate}}&gt;</i><app-chip ng-repeat="chip in vm.chips" title={{chip.title}} text={{chip.text}} click-handler=vm.removeChip(chip) editable=true type-icon-cls={{chip.iconCls}}></app-chip></div></div><div class=form-group><label class="col-sm-3 control-label">{{"dialogs.favorite.share.search.for.label" | translate}}</label><div class="col-sm-9 sourceSelectionArea"><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button id=searchSourceSelector data-toggle=dropdown aria-haspopup=true aria-expanded=true><span ng-class=vm.selectedSource.iconCls></span> <span class=iwp-icon-gen_arrow_down></span></button><ul class=dropdown-menu aria-labelledby=searchSourceSelector><li ng-repeat="source in vm.searchSources" ng-click=$parent.vm.updateSelectedSource(source)><a href=#><span ng-class=source.iconCls></span> {{source.text | translate}}</a></li></ul></div><app-search-field placeholder={{vm.selectedSource.placeholder}} key-up-handler=vm.doSearch() reset-handler=vm.resetSearch() term=vm.searchTerm></app-search-field></div></div></form><app-table table-config=vm.selectedSource.tableConfig entry-click-handler="vm.handleEntryClicked(idx, entry)" ng-show="vm.selectedSource.tableConfig.data && vm.selectedSource.tableConfig.data.length > 0"></app-table></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ vm.config.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-click=vm.ok()>{{ vm.config.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/survey-campaign-dialog.html",'<div class="app-components-dialog dialog-survey-campaign" tabindex=0 autofocus ng-keyup=vm.handleKeyUp($event)><app-component-dialog-header close-handler=vm.cancel() dialog-title={{vm.options.titleKey}}></app-component-dialog-header><div class=modal-body><span class=message translate={{vm.options.messageKey}} translate-values=vm.options.messageParams></span><div class=survey><div class=question ng-repeat="question in vm.questions" ng-class-even="\'even\'" ng-class-odd="\'odd\'"><div class=content><span>{{question.content}}</span></div><div class=rating-wrapper><div class="q-rating rating-one"><span class=info ng-if=$first>{{\'dialogs.survey.info.disagree\' | translate}}</span> <span ng-click="vm.rateQuestion(question, 1)"><i ng-class="{\'iwp-icon-gen_radiobtn_checked\': question.answerValue === 1, \'iwp-icon-gen_radiobtn_unchecked\': question.answerValue !== 1}"></i></span></div><div class="q-rating rating-two"><span ng-click="vm.rateQuestion(question, 2)"><i ng-class="{\'iwp-icon-gen_radiobtn_checked\': question.answerValue === 2, \'iwp-icon-gen_radiobtn_unchecked\': question.answerValue !== 2}"></i></span></div><div class="q-rating rating-three"><span ng-click="vm.rateQuestion(question, 3)"><i ng-class="{\'iwp-icon-gen_radiobtn_checked\': question.answerValue === 3, \'iwp-icon-gen_radiobtn_unchecked\': question.answerValue !== 3}"></i></span></div><div class="q-rating rating-four"><span ng-click="vm.rateQuestion(question, 4)"><i ng-class="{\'iwp-icon-gen_radiobtn_checked\': question.answerValue === 4, \'iwp-icon-gen_radiobtn_unchecked\': question.answerValue !== 4}"></i></span></div><div class="q-rating rating-five"><span class=info ng-if=$first>{{\'dialogs.survey.info.agree\' | translate}}</span> <span ng-click="vm.rateQuestion(question, 5)"><i ng-class="{\'iwp-icon-gen_radiobtn_checked\': question.answerValue === 5, \'iwp-icon-gen_radiobtn_unchecked\': question.answerValue !== 5}"></i></span></div></div></div></div></div><div class=modal-footer><button class="btn btn-default" type=button ng-click=vm.cancel()>{{ vm.options.cancelButtonKey | translate }}</button> <button class="btn btn-primary" type=button ng-disabled=!vm.canSubmit ng-click=vm.ok()>{{ vm.options.okButtonKey | translate }}</button></div></div>'),e.put("app/components/dialogs/terms-of-use-dialog.html",'<div class=app-components-dialogs-terms-of-use-dialog><app-component-dialog-header close-handler=vm.cancel() closeable=vm.accepted dialog-title={{vm.termsTitle}}></app-component-dialog-header><div class=modal-body ng-bind-html=vm.termsContent></div><div class=modal-footer><button class="btn btn-primary" ng-if=!vm.accepted type=button ng-click=vm.toggleTermsOfUse()>{{vm.config.okButtonKey | translate}}</button> <button class="btn btn-primary" ng-if=vm.accepted type=button ng-click=vm.toggleTermsOfUse()>{{vm.config.cancelButtonKey | translate}}</button></div></div>'),e.put("app/components/inlineEdit/inline-edit.html","<div class=inline-edit-wrapper><input class=form-control ng-if=\"vm.editing \" ng-blur=vm.registerOnBlur($event) placeholder=\"{{'dashboard.inline.edit.empty' | translate}}\" ng-model=vm.val type=text ng-keydown=vm.saveWithEnter($event) maxlength={{vm.maxTitleLength}}> <span ng-if=!vm.editing title=\"{{vm.disable ? '' : ( 'dashboard.category.title.hover.edit' | translate )}}\" ng-click=vm.edit($event) tabindex=0 class=inline-edit ng-class=\"{'enabled': !vm.disable, 'disabled': vm.disable}\"><span ng-if=\"vm.val === ''\" class=empty-text>{{'dashboard.inline.edit.empty' | translate}}</span> <span ng-if=\"vm.val !== ''\">{{vm.val}}</span> <i class=iwp-icon-gen_edit></i></span></div>"),e.put("app/components/loader/loader.html",'<div class="app-components-loader {{::vm.theme}}" ng-show=vm.loading ng-class="{\'container-stretch\': vm.containerStretch}"><div class=container-wrap ng-class="{\'center-content\': vm.centerContent}"><div class="spinner {{::vm.spinnerSize}}"><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div><div class=spinner-blade></div></div><div class=message ng-if=::vm.message>{{::vm.message}}</div></div></div>'),e.put("app/components/menu/menu.item.html",'<a class=app-components-MenuItem ng-class=vm.getCls() href="" ng-click=vm.handleClick($event) title="{{vm.data.label | translate}}"><i ng-if=vm.data.iconCls class="menuItem-icon {{vm.data.iconCls}}"></i><div class=menuItem-title ng-if="vm.data.label && !vm.data.template">{{vm.data.label | translate }}</div><div class=menuItem-template ng-if=vm.data.template><util-template template=vm.data.template vm=vm.data.vm></util-template></div><i ng-if=vm.data.menuContent class="menuItem-overlayToggle iwp-icon-gen_nav_arrow_right"></i></a>'),e.put("app/components/navbarmenu/navbarmenu.html",'<nav class="app-components-navbar-menu navbar navbar-inverse"><ul class="nav navbar-nav"><li ng-repeat="item in vm.visibleItems" class=titlebar-item><app-components-menu-item data=item menu-id=vm.menuId></app-components-menu-item></li></ul></nav>'),e.put("app/components/omnisearch/omnisearch.html","<div class=app-components-omnisearch><app-components-searchbar ng-keyup=vm.handleKeyUp($event)></app-components-searchbar><app-search-cards max-main-items=5 ng-class=\"{'first': $first, 'last': $last}\" ng-style=\"{display: !(vm.showResults && searchCard.source !== null) || vm.hideSearchCard(searchCard.source)? 'none': 'block' }\" ng-repeat=\"searchCard in ::vm.searchCards track by searchCard.name\" search-card=searchCard></app-search-cards><div class=searchcard-noResultsText ng-if=vm.showNoResultsMessage()>{{::\"omnisearch.noResults\" | translate }}</div></div>"),e.put("app/components/pagination/pagination.html",'<div class=appPagination ng-show="vm.visiblePages.length > 1"><nav aria-label="Widget Navigation"><ul class=pagination><li class=pagination-prev ng-click=vm.updateCurrentPage(-1) ng-class="{\'disabled\': vm.currentPage === 1}"><a href=# aria-label=Previous>&lsaquo;</a></li><li ng-repeat="page in vm.visiblePages" ng-class="{\'active\': vm.currentPage === page, \'invisiblePage\': page > vm.totalNumberOfPages}" ng-click=vm.gotoPage(page) ng-hide=vm.hidePages><a href=#>{{page}}</a></li><li class=pagination-next ng-click=vm.updateCurrentPage(1) ng-class="{\'disabled\': vm.currentPage === vm.totalNumberOfPages}"><a href=# aria-label=Next>&rsaquo;</a></li></ul></nav></div>'),e.put("app/components/restrictedText/restrictedText.html",'<div class="restrictedText col-xs-12"><div class=row><textarea type=text ng-focus="vm.onInputFocus({isFocused: true })" ng-blur="vm.onInputFocus({isFocused: false })" class="restricted-text-input form-control" ng-model=vm.textModel ng-model-options="{debounce: 80}" required ng-trim=false autofocus maxlength={{::vm.maxLength}} ng-class="{\'limit-reached\' : vm.maxLineLimitReached}" ng-keydown=vm.updateRestriction($event)></textarea></div><div class=row><p ng-if="vm.maxLineLimitReached && vm.isEnterKey" class=line-limit-error>{{::vm.errorText}}</p></div></div>'),e.put("app/components/roleContext/roleContext.html","<div class=app-components-roleContext ng-click=vm.handleClick($event) ng-class=vm.classes title={{vm.hint}}><div class=diffTypes><div class=diffType ng-repeat=\"diffVal in vm.diffTypes\" ng-class=\"{'last': $last}\">{{diffVal.name}}:&nbsp;<span class=diffValues>{{diffVal.values.join(', ')}}</span></div></div><i ng-show=vm.clickable class=iwp-icon-gen_arrow_right></i></div>"),e.put("app/components/searchbar/searchbar.html",'<div class="app-components-searchbar navbar-form" ng-click=vm.stopClick($event)><div class=form-group><div class=input-group><input type=text class="form-control __searchTerm" placeholder="{{::\'searchbar.searchInputPlaceholder\' | translate }}" autofocus ng-change=vm.doThrottledSuggest() ng-model=vm.searchTerm><div class=input-group-addon><i class="searchbar-remove iwp-icon-gen_close" ng-if=vm.searchTerm ng-click=vm.reset()></i> <i class=iwp-icon-gen_search></i></div></div></div></div>'),e.put("app/components/searchfield/search-field.html",'<div class=app-components-searchfield><div class=form-group><div class=input-group><input type=text class="form-control __term" placeholder="{{ vm.placeholder | translate }}" ng-focus=vm.triggerFocusHandler() ng-change=vm.throttledSearch() ng-model=vm.term><div class=input-group-addon><i class="searchbar-remove iwp-icon-gen_close" ng-show=vm.term ng-click=vm.reset()></i> <i class=iwp-icon-gen_search></i></div></div></div></div>'),e.put("app/components/sidebar/sidebar.html",'<nav class=app-components-sidebar ng-class=vm.customClass ng-click=vm.sidebarClickHandler($event)><div class="container-fluid optiscroll" util-optiscroll><div class=sidebar-content ng-transclude></div></div></nav>'),e.put("app/components/sizeGrid/size-grid.html",'<div class=appWidgetSizeComponent><div class=container-fluid><div class=row ng-repeat="row in vm.rows track by $index" ng-class="{\'last-row\': $index === vm.rows.length-1}"><div class="col-md-1 col-sm-1" ng-repeat="column in vm.columns track by $index" ng-class="{\n            \'first-cell\': $index === 0,\n            \'highlighted\': vm.showBackgroundClass(row, column),\n            \'restricted\': !vm.isInBounds(row, column)\n           }" ng-mouseenter="vm.throttledUpdate(row, column)" ng-mouseleave=vm.handleMouseLeave() ng-click=vm.handleCellClick()></div></div></div></div>'),e.put("app/components/table/table.html",'<div class=appTable><div class=tooManyUsersMessage ng-if="vm.tableConfig.data && vm.tableConfig.data.length >= 10">{{vm.tableConfig.tooManyUsersMessage | translate}}</div><div class=table-responsive ng-if="vm.tableConfig.data.length > 0"><table class="table table-hover"><tr class=headerRow><th ng-repeat="header in vm.tableConfig.headers track by $index" ng-class="{\'firstColumn\': $index === 0}">{{header.title | translate}}</th></tr><tr ng-repeat="entry in vm.tableData track by $index" ng-class="{disabled: vm.tableConfig.disableCondition(entry)}" ng-click="vm.handleEntryClick($index, entry)"><td ng-repeat="header in vm.tableConfig.headers track by $index" ng-class="{\'flexColumns\': $index === 0}"><span class=clickableSymbol ng-class=header.dataIconCls ng-if=header.dataIconCls></span> {{vm.getCellValue(entry, header)}}</td></tr></table></div><div class=no-results ng-if="tableConfig.data.length == 0">{{vm.tableConfig.noResults}}</div></div>'),e.put("app/components/tabview/tabview.content.html",'<div id=tabview-content-{{vm.content.id}} class=app-components-tabview-content ng-visible=vm.content.active ng-class="{ active: vm.content.active }" data-app-id=vm.content.id><div class="tabview-content-overlayContainer __overlayContainer"></div><div class="tabview-content-container __container"><div class=tabview-content-template ng-if=vm.hasTemplate ng-include=vm.content.id></div><i ng-if=vm.content.content.containsPdf class="tabview-pdf-content iwp-icon-iwp_pdf"></i></div></div>'),e.put("app/components/tabview/tabview.html",'<div id=tabview-{{vm.id}} class=app-components-tabview ng-class="{\n      \'tabview-dd-visible\': vm.invisibleTabs.length > 0,\n      \'tabview-dragging\': vm.isTabDragging,\n      \'hasMenu\': vm.leftTitlebarVisible || vm.rightTitlebarVisible\n    }"><div class=tabview-header><app-components-titlebar-split ng-if=vm.leftTitlebarVisible menu-id=left-titlebar></app-components-titlebar-split><div class=tabList-container><ul class="app-components-tabview-tabList __tab" util-interact-sortable sortable-id={{::vm.id}} dd-group=dd-group-tab on-start=vm.onTabSortStart(transfer) on-end=vm.onTabSortEnd(transfer) on-sort="vm.onTabSort(transfer, index)"><li id=tabview-{{vm.id}}-tab-{{tab.id}} class=app-components-tabview-tab ng-repeat="tab in vm.visibleTabs" ng-class="{ visible: tab.visible, active: tab.active }" ng-click=$parent.vm.handleTabClick(tab) allow-drag="!$parent.vm.isDefaultDashboardTab(tab) && $parent.vm.isDragAllowedForTab(tab)" dd-enabled=$parent.vm.isDragAllowedForTab(tab) util-interact-sortable-draggable transfer="{ tab: tab, tabview: $parent.vm.id }"><div class=tabview-tab-content title="{{ tab.title }}"><div class=tabview-heading-icon><i ng-class=$parent.vm.iconClsForTab(tab)></i></div><span class=tabview-heading-title ng-bind-html=vm.getTabTitle(tab.title)></span> <a class="tab-control tabs-refresh __tabControlRefresh" ng-if=$parent.vm.hasRefresh(tab) title="{{::\'tabs.refresh.tooltip\' | translate}}"><i class=iwp-icon-gen_refresh ng-click="$parent.vm.refreshTab(tab, $event)"></i></a><div class=tab-view-settings-icon ng-if="tab.active &&  $parent.vm.hasMenu(tab) && !tab.waitForClose" ng-class="{\'context-home\': !tab.closeable, \'open\': tab.contextMenuExpanded}"><a class="tab-control tabs-settings __tabControlSettings" ng-click="vm.toggleContextMenu($event, tab)" title="{{::\'tabs.settings.tooltip\' | translate}}"><i class=iwp-icon-gen_kontextmenu></i></a><app-components-dropdown-menu area-labelledby=settingsMenu><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.APP_SETTINGS, $parent.$parent.vm.SHOW_CONTEXT_HELP)" item-click=$parent.vm.openAppContextHelp(tab) icon-cls=iwp-icon-gen_help key="{{::\'help.selectedApp.link\' | translate:tab.content.app}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.APP_SETTINGS, $parent.$parent.vm.OPEN_NEW_WINDOW)" item-click=$parent.vm.openInBrowser(tab) icon-cls=iwp-icon-gen_goto key="{{::\'widget.settings.openapp.browser\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.SETTINGS, $parent.$parent.vm.ADD_FAVORITE)" item-click="$parent.vm.openDashboardSettingsDialog(tab, $event)" icon-cls=iwp-icon-gen_link key="{{::\'widget.settings.create.favorite\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.SETTINGS, $parent.$parent.vm.ADD_CATEGORY)" item-click=$parent.vm.createNewCategory(tab) icon-cls=iwp-icon-iwp_dashboard_add key="{{::\'widget.settings.add.category\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.SETTINGS, $parent.$parent.vm.SHARE)" item-click="$parent.vm.openShareDialog(tab, $event)" icon-cls=iwp-icon-iwp_share key="{{::\'widget.settings.share.dashboard\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.SETTINGS, $parent.$parent.vm.RENAME)" item-click="$parent.vm.openDashboardNameDialog(tab, $event)" icon-cls=iwp-icon-gen_edit key="{{::\'widget.settings.edit.dashboard\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.SETTINGS, $parent.$parent.vm.DELETE)" item-click="$parent.vm.openDashboardDeleteDialog(tab, $event)" icon-cls=iwp-icon-gen_delete key="{{::\'widget.settings.delete.dashboard\' | translate}}"></app-components-dropdown-menu-item><app-components-dropdown-menu-item ng-if="$parent.$parent.vm.hasSettingsOption(tab, $parent.$parent.vm.SETTINGS, $parent.$parent.vm.RESET)" item-click="$parent.vm.openDashboardResetDialog(tab, $event)" icon-cls=iwp-icon-gen_undo key="{{::\'widget.settings.reset.dashboard\' | translate}}"></app-components-dropdown-menu-item></app-components-dropdown-menu></div><a class="tab-control tabs-close __tabControlClose" ng-if="tab.closeable && !tab.waitForClose" title="{{::\'tabs.close.tooltip\' | translate}}"><i class=iwp-icon-gen_close_s ng-click=$parent.vm.closeTab(tab)></i></a><app-components-loader ng-if=tab.waitForClose loading=tab.waitForClose theme=theme-light center-content=true container-stretch=true spinner-size=small></app-components-loader></div></li></ul><div class=tabview-dd uib-dropdown><button class="btn btn-sm" uib-dropdown-toggle><i class=dot></i> <i class=dot></i> <i class=dot></i> <span class=badge>{{vm.invisibleTabs.length}}</span></button><ul class="uib-dropdown-menu dropdown-menu dropdown-menu-right"><li ng-repeat="tab in vm.invisibleTabs" ng-click=$parent.vm.showTab(tab)><i ng-class=vm.iconClsForTab(tab)></i> <a href ng-bind-html=vm.getTabTitle(tab.title)></a></li></ul></div></div><app-components-view-toggle ng-if=vm.rightTitlebarVisible></app-components-view-toggle><app-components-fullscreen-toggle ng-if=vm.rightTitlebarVisible></app-components-fullscreen-toggle><app-components-titlebar-split ng-if=vm.rightTitlebarVisible menu-id=right-titlebar></app-components-titlebar-split></div><app-components-tabview-content ng-repeat="tab in vm.tabs" content=tab></app-components-tabview-content></div>'),e.put("app/components/task/task.info.item.html","<div class=task-info-item><i class=iwp-icon-iwp_task></i> <span class=disconnected ng-show=vm.showUserTasksError><i class=iwp-icon-gen_close_s></i> </span><span class=badge ng-show=vm.showNbTasks>{{vm.tasks.length | localizedNumber:vm.appLocale}}</span></div>"),e.put("app/components/task/tasks.html",'<div class=app-components-tasks><ul class="nav list-group" ng-if="vm.tasks.length > 0"><li class=list-group-item ng-repeat="task in vm.tasks track by $index" ng-class=::vm.showTaskDateExceeded(task)><a role=button ng-click=vm.openTask(task)><span class=sidebar-icon ng-class=::vm.getTaskIcon(task)></span><div class=item-label title="{{::(task.taskTitle || task.id)}}"><div ng-class="{\'full-height\': !task.taskDue || task.taskDue === null}">{{::(task.taskTitle || task.id)}}</div><div class=due-date ng-if="task.taskDue && task.taskDue !== null">{{::task.taskDue | localizedDate:vm.appLocale}} <i class=iwp-icon-gen_warning></i></div></div></a></li></ul><div class=message ng-if="vm.tasks.length === 0">{{::vm.emptyTasksPanelMessage | translate }}</div></div>'),e.put("app/components/titlebar/titlebar.split.html",'<nav class="app-components-titlebar-split navbar navbar-inverse" ng-class=::vm.menuId ng-style=::vm.style><div class=container-fluid><nav class="actionbar-actions navbar"><div class=container-fluid><ul class="nav navbar-nav"><li ng-repeat="item in ::vm.items track by item.name" class=titlebar-item><app-components-menu-item ng-if="item.name !== \'workplaceMenu\'" data=item menu-id=vm.menuId></app-components-menu-item><button ng-if="item.name === \'workplaceMenu\'" class="workplaceMenu navbar-toggle collapsed __navbarToggle" title="{{::\'navbarMenu.tooltip\' | translate}}" ng-class="{expanded: vm.navbarExpanded}" ng-click=vm.togglePrimary($event)><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button></li><li class="titlebar-item bmw-logo" ng-if="vm.menuId !== \'right-titlebar\'"><div class=logo ng-class="\'bmw-\' + vm.env"></div></li></ul></div></nav></div></nav>'),e.put("app/components/userinfo/action.item.html",'<a role=button class=app-components-action-item ng-attr="{href: vm.href}"><span class=action-item-icon><i ng-class=::vm.iconCls></i></span> <span class=action-item-text ng-if=vm.textKey>{{::vm.textKey | translate}}</span> <span class=action-item-text ng-if=vm.htmlContent ng-bind-html=vm.htmlContent></span></a>'),e.put("app/components/userinfo/user.info.item.html",'<span class="app-components-userinfo-user-info-item titlebar-item-content"><img class=user-image ng-if=vm.image ng-src=./rest/user/settings/profileImage/{{vm.image}}><div class="user-image iwp-icon-gen_user" ng-if=!vm.image></div><span class=user-info-name>{{ vm.user.name }} {{ vm.user.surname }}<br></span><span class=user-info-role title="{{ vm.user.currentRole }} {{vm.user.currentModule }}"><span></span>{{ vm.user.currentRole }} {{vm.user.currentModule }}</span></span>'),
e.put("app/components/userinfo/userinfo.html",'<div class=app-components-userinfo ng-click=vm.stopClick($event)><ul class=list-group><li class=list-group-item><app-components-action-item ng-if=vm.settingsApp text-key={{vm.settingsApp.description}} icon-cls={{vm.settingsApp.iconCls}} ng-click=vm.openUserSettings()></app-components-action-item></li><li class=list-group-item ng-if="vm.user.roles.length > 0 && vm.roleManager"><app-components-action-item text-key={{vm.roleManager.description}} icon-cls={{vm.roleManager.iconCls}} ng-click=vm.showRoleManagerApp()></app-components-action-item></li><div><hr class=between ng-if="vm.settingsApp || (vm.user.roles.length > 0 && vm.roleManager)"></div><h2><i class=tab-space></i> <span>{{ "userinfo.roles" | translate}}</span></h2><div class=message ng-if=!vm.hasRoles()>{{ "userinfo.noRoles" | translate }}</div><li ng-if="vm.user.roles.length > 0" class=list-group-item ng-repeat="role in vm.user.roles track by $index"><div class=radio><label for=role-{{$index}}><input type=radio id=role-{{$index}} name=role ng-model=$parent.vm.user.selectedRole ng-value=role ng-change=$parent.vm.selectRole(role)> {{ role.roleDescription }} <span ng-if=role.substitute class=substituted-user>({{"userinfo.substitute" | translate}} <span title="{{vm.isUserDeleted(role.substitutedUser) ? ( \'tooltip.user.account.deleted\' | translate ) : \'\'}}" ng-class="{\'deleted\': vm.isUserDeleted(role.substitutedUser)}">{{role.substitutedUser.name}} {{role.substitutedUser.surname}} </span><span ng-if=role.substitutedUser.external>| {{"omnisearch.employee.external" | translate}})</span> <span ng-if=!role.substitutedUser.external>| {{role.substitutedUser.department}})</span></span><app-components-role-context role=role></app-components-role-context></label></div></li><div><hr class=between></div><li class="list-group-item hidden-xs hidden-sm"><app-components-action-item text-key=action.item.logout.text icon-cls=iwp-icon-gen_logout ng-click=vm.showLogoutConfirmation()></app-components-action-item></li></ul></div>'),e.put("app/components/viewToggle/view.toggle.html",'<div class=app-components-view-toggle ng-class="{ split: vm.canSplit(), join: vm.canJoin() }"><ul class="navbar nav" ng-if="vm.canSplit() || vm.canJoin()"><li ng-if=vm.canSplit()><a ng-click=$parent.$parent.vm.splitRight() title="{{ \'vertical.split.tooltip\' | translate }}"><i class=iwp-icon-gen_split_right></i></a></li><li ng-if=vm.canSplit()><a ng-click=$parent.$parent.vm.splitBottom() title="{{ \'horizontal.split.tooltip\' | translate }}"><i class=iwp-icon-gen_split_bottom></i></a></li><li ng-if=vm.canJoin()><a ng-click=$parent.$parent.vm.join() title="{{ \'tabview.button.splitscreen.close.tooltip\' | translate }}"><i class=iwp-icon-gen_split_close></i></a></li></ul></div>'),e.put("app/components/widgetContext/widget-context.html","<div class=app-components-widgetContext ng-click=vm.handleClick($event) ng-class=::vm.classes title={{::vm.hint}}><div class=diffTypes><div class=diffType ng-repeat=\"diffVal in vm.diffTypes track by diffVal.name\" ng-class=\"{'last': $last}\">{{::diffVal.name}}:&nbsp;<span class=diffValues>{{::diffVal.values.join(', ')}}</span></div></div><i ng-show=vm.clickable class=iwp-icon-gen_arrow_right></i></div>"),e.put("app/components/widgetTable/widget-table.html",'<div class="appWidgetTable app-widget-table table-responsive" ng-style=vm.style ng-class="{\'scrollable\': vm.maximized}"><div ng-class="{\'box\': vm.maximized}"><table class=table><tr class=table-row><th ng-repeat="column in vm.columns" ng-style="{ \'text-align\' : column.textAlign, \'width\': column.width || \'\' }" class="table-cell-{{column.id | lowercase}}" title="{{column.label | translate}}">{{column.label | translate}}</th></tr><tr ng-repeat="item in vm.visibleItems" class=table-row ng-class="{\'url\': $parent.vm.getColumnForRole(\'url\')}" ng-click="vm.handleRowClick(\'url\', item, $event)"><td ng-repeat="column in vm.columns" ng-style="{ \'text-align\' : column.textAlign, \'width\': column.width || \'\' }" class="table-cell-{{column.id | lowercase}}"><span ng-if=!column.role title="{{$parent.item[column.id] | formatColumn:column}}">{{$parent.item[column.id] | formatColumn:column}} </span><i ng-if="column.role === \'url\'" class=iwp-icon-gen_arrow_right ng-click="vm.handleRowClick(column.role, $parent.item, $event)"></i> <i ng-if="column.role === \'icon\'" class="{{$parent.item[column.id] ? $parent.item[column.id] : \'\'}}"></i> <i ng-if="column.role === \'important\'" class="{{$parent.item[column.id] ? $parent.item[column.id] : \'\'}}"></i></td></tr></table></div><div class="widget-footer pagination-container"><app-pagination-component ng-if=!vm.maximized current-page=vm.currentPage total-items=vm.totalItems max-size=5 items-per-page=vm.itemsPerPage></app-pagination-component></div></div>'),e.put("app/widget/dashboard-link/dashboard-link.html",'<div class="app-widget-dashboard-link app-widget-tile __el" ng-style=vm.style><div class=tile-content ng-click=vm.openDashboard() ng-if=::!vm.error><i ng-class=vm.getIconCls()></i></div><span class=errorMessage ng-if=::vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=::vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/chart/chart.bar.html",'<div class=app-widget-chart-bar><app-components-loader></app-components-loader><div class="widget-element __el"></div></div>'),e.put("app/widget/chart/chart.html",'<div class="app-widget app-widget-chart" ng-class="{\'app-widget-chart-pie\': vm.definition.settings.type === \'pie\', \'app-widget-chart-bar\': vm.definition.settings.type === \'bar\'}"><app-components-widget-context diff-values=vm.mergedContext ng-if=!vm.error click-handler=::vm.handleContextClick(event) hint="{{::\'widget.chart.context.link\' | translate}}"></app-components-widget-context><app-components-loader loading=vm.loading theme=theme-dark center-content=true container-stretch=true spinner-size=medium></app-components-loader><div class="widget-element __el"></div><div class="alert errorMessage" ng-if=vm.error>{{::vm.error | translate}}</div><div class="alert noDataMessage" ng-if=vm.noData>{{::vm.noData}}</div></div>'),e.put("app/widget/chart/chart.legend.html","<div class=app-widget-chart-legend><p>{{::vm.definition.description | translate }}</p><ul class=legend-items><li ng-repeat=\"item in vm.data.data track by $index\" class=legend-item ng-if=\"::vm.getValueForRole('legend', item)\"><i class=\"legend-colorIndicator legend-color-{{::item | chartColor:vm.getValueForRole('color', item):$index}}\"></i> {{::vm.getValueForRole('legend', item)}}</li></ul></div>"),e.put("app/widget/chart/chart.pie.html",'<div class=app-widget-chart-pie><app-components-loader></app-components-loader><div class="widget-element __el"></div></div>'),e.put("app/widget/chart/chart.stacked.bar.html",'<div class=app-widget-chart-stacked-bar><app-components-widget-context diff-values=vm.mergedContext ng-if=!vm.error click-handler=::vm.handleContextClick(event) hint="{{::\'widget.chart.context.link\' | translate}}"></app-components-widget-context><app-components-loader loading=vm.loading theme=theme-dark center-content=true container-stretch=true spinner-size=medium></app-components-loader><div class="widget-element __el"></div><div class="alert errorMessage" ng-if=vm.error>{{::vm.error | translate}}</div><div class="alert noDataMessage" ng-if=vm.noData>{{::vm.noData}}</div></div>'),e.put("app/widget/chart/chart.stacked.legend.html",'<div class="app-widget-chart-stacked-legend app-widget-chart-legend"><p>{{::vm.definition.description | translate }}</p><ul class=legend-items ng-if="vm.data.data.length > 0"><li ng-repeat="item in vm.data.data[0].values track by $index" class=legend-item ng-if="::vm.getValueForRole(\'legend\', item)"><i class="legend-colorIndicator legend-color-{{::item | chartColor:vm.getValueForRole(\'color\', item):$index}}"></i> {{::vm.getValueForRole(\'legend\', item)}}</li></ul></div>'),e.put("app/widget/ekw/ekw.html",'<div class="app-widget app-widget-ekw"><sap-cookie-iframe on-sap-cookie-received=vm.handleSapCookieReceived() on-sap-cookie-error=vm.handleSapCookieError(error)></sap-cookie-iframe><util-template ng-if="!vm.noData && !vm.error" template-url=app/widget/table/table.html vm=vm></util-template><span class=errorMessage ng-if=vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/favorite/favorite.html",'<div class="app-widget-favorite app-widget-tile __el" ng-style=vm.style><div class=tile-content ng-click=vm.handleClick() ng-if=::!vm.error><i ng-if=!vm.getBackgroundImage() ng-class=vm.getDefaultIcon()></i></div><span class=errorMessage ng-if=::vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=::vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/favorite/favorite.share.owner.legend.html",'<div class=app-widget-legend><p>{{"dashboard.widget.controls.shared.owner" | translate}}</p></div>'),e.put("app/widget/favorite/favorite.share.participant.legend.html",'<div class=app-widget-legend><p>{{ "dashboard.widget.controls.shared.participant" | translate: { name: vm.definition.sharedBy.name, surname: vm.definition.sharedBy.surname, department: vm.definition.sharedBy.surname } }}</p></div>'),e.put("app/widget/iframe-widget/iframe-widget.html",'<div class="app-widget-iframe app-widget-tile" ng-style=vm.style></div>'),e.put("app/widget/list/list.html",'<div class="app-widget app-widget-list"><div class=list-group ng-if=!vm.error><a ng-repeat="item in vm.visibleItems" class=list-group-item ng-click=vm.handleClick(item)><i ng-if=!!item.iconCls class=itemIcon ng-class=item.iconCls></i> <span ng-class="{\'shiftSpan\': !!item.iconCls}">{{item.title}}</span> <i class="glyphicon iwp-icon-gen_arrow_right itemArrow"></i></a></div><div class="list-header widget-footer pagination-container" ng-if=vm.showPagination><app-pagination-component current-page=vm.currentPage total-items=vm.totalItems max-size=5 items-per-page=vm.itemsPerPage page-update-handler=vm.handlePageChange()></app-pagination-component></div><span class=errorMessage ng-if=vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/live-tile/live-tile.html","<div class=\"app-widget-live-tile __el\" ng-style=vm.style><sap-cookie-iframe ng-if=!vm.isCoreAppCall on-sap-cookie-received=vm.handleSapCookieReceived() on-sap-cookie-error=vm.handleSapCookieError(error)></sap-cookie-iframe><a ng-if=!vm.error class=live-tile-content ng-click=vm.handleClick() ng-class=\"{'large': vm.colspan > 1, 'withImage': vm.getBackgroundImage()}\"><i ng-class=vm.liveIcon ng-if=!vm.getBackgroundImage()></i> <span ng-class=\"{'positive': vm.liveTileCount.data > 0, 'negative': vm.liveTileCount.data < 0, 'neutral': vm.liveTileCount.data === 0}\" class=live-tile-count ng-style=vm.color>{{vm.liveTileCount.data}}</span> </a><span class=errorMessage ng-if=vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=vm.noData>{{::vm.noData}}</span></div>"),e.put("app/widget/locked/locked.html",'<div class="app-locked-widget __el" ng-style=vm.style><span class=locked-icon ng-class=vm.getDefaultIcon() uib-tooltip-html=vm.restrictionText tooltip-placement="auto bottom" tooltip-trigger="\'mouseenter\'" tooltip-enable=true></span></div>'),e.put("app/widget/pmc/pmc.html",'<div class="appPmcWidget app-widget" ng-style=vm.style><div class=btn-group><label class="btn btn-primary" ng-model=vm.selectedButton uib-btn-radio="\'chart\'"><i class=iwp-icon-gen_barchart></i></label> <label class="btn btn-primary" ng-model=vm.selectedButton uib-btn-radio="\'table\'" ng-click="vm.activeBarIdx = null; vm.setTableInfo()"><i class=iwp-icon-gen_table></i></label></div><div class="widget-element __el animate-show-hide" ng-show="vm.selectedButton === \'chart\'"></div><app-widget-table-component class=animate-show-hide ng-show="vm.selectedButton === \'table\' && vm.tableData.length !== 0" data=vm.tableData columns=vm.tableColumns current-page=vm.currentPage items-per-page=12 item-click-handler="vm.handleRole(role, d)"></app-widget-table-component><div class=missingTaleData ng-if="vm.selectedButton === \'table\' && vm.tableData.length === 0">{{"widget.pmc.noTableData" | translate}}</div><span class=errorMessage ng-if=vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/pmc/pmc.line.chart.html",'<div class="app-widget-chart-line app-widget" ng-style=vm.style><div class=headerDiv><div class=dropDownDiv><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button id=pmcLineMenu data-toggle=dropdown aria-haspopup=true aria-expanded=true>{{vm.activeSetOption.label}} <span class=iwp-icon-gen_arrow_down style="float: right;"></span></button><ul class="dropdown-menu dropdown-menu-right" aria-labelledby=pmcLineMenu><li ng-repeat="option in vm.dataSetOptions"><a href=# ng-click=vm.optionSelected(option)>{{option.label}}</a></li></ul></div></div></div><div class="widget-element __el"></div><span class=errorMessage ng-if=vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/pmc/pmc.line.chart.legend.html","<div class=app-pmc-line-chart-legend><img src=assets/images/pmc_zieler_legend.png></div>"),e.put("app/widget/table/table.html",'<div class=app-widget ng-style=vm.style><app-widget-table-component data=vm.data.data columns=vm.columns items-per-page={{vm.itemsPerPage}} maximized=vm.maximized item-click-handler="vm.handleRole(role, d)"></app-widget-table-component><span class=errorMessage ng-if=vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/tasks/tasks.html",'<div class="app-widget app-widget-tasks"><util-template ng-if="!vm.noData && !vm.error" template-url=app/widget/table/table.html vm=vm></util-template></div>'),e.put("app/widget/tile/tile.html",'<div class="app-widget-tile __el" ng-style=vm.style><a class=tile-content ng-href={{::vm.tileHref}} target={{::vm.tileTarget}} ng-if=::!vm.error ng-click=vm.handleClick($event)><i ng-if=!vm.getBackgroundImage() ng-class=::vm.getDefaultIcon()></i> </a><span class=errorMessage ng-if=::vm.error>{{::vm.error | translate}}</span> <span class=noDataMessage ng-if=::vm.noData>{{::vm.noData}}</span></div>'),e.put("app/widget/web-component/web-component.html","<div class=app-widget-web-component><ng-include ng-if=vm.hasComponentLoaded src=vm.definition.id></ng-include></div>"),e.put("app/components/omnisearch/search-card/search-card.html",'<div class="app-components-omnisearch-searchcard panel panel-default"><!--<app-components-loader loading="vm.loading"></app-components-loader>--><div class=panel-heading>{{::vm.searchCard.title | translate:vm.translationData}} <span ng-if=::vm.showingTopResults>({{::"omnisearch.top.results" | translate }})</span></div><div class=panel-body><ul class=list-group id=mainSection ng-repeat="item in vm.shownItems"><app-search-result-item ng-if="::(item.type === \'default\')" item=item ng-click=vm.searchCard.source.onAction(item)></app-search-result-item><app-search-result-app ng-if="::(item.type === \'app\')" item=item ng-click=vm.searchCard.source.onAction(item)></app-search-result-app><app-search-result-employee ng-if="::(item.type === \'employee\')" item=item ng-click=vm.searchCard.source.onAction(item)></app-search-result-employee><app-search-result-favorite ng-if="::(item.type === \'favorite\')" item=item ng-click=vm.searchCard.source.onAction(item)></app-search-result-favorite><app-search-result-dashboard ng-if="::(item.type === \'dashboard\' || item.type === \'layout\')" ng-click=vm.searchCard.source.onAction(item) item=item></app-search-result-dashboard></ul></div></div>'),e.put("app/components/omnisearch/search-result-app/search-result-app.html",'<li class="app-components-omnisearch-searchResultItemApp list-group-item"><i ng-class=::vm.item.iconCls ng-if=::vm.item.iconCls></i><div class=label-container ng-class="::{\'full-height\': !vm.hasParent}"><label class=main-label>{{::vm.item.label}}</label> <label ng-if=::vm.hasParent>{{::vm.parentDescription}}</label></div></li>'),e.put("app/components/omnisearch/search-result-dashboard/search-result-dashboard.html",'<li class="app-components-omnisearch-searchResultDashboard list-group-item"><i ng-class=::vm.item.iconCls ng-if=::vm.item.iconCls></i><div class=label-container><label class=main-label ng-class="::{\'multiline-label\': vm.isItemLabelMultiline}" ng-bind-html=vm.multilineItemLabel></label></div><div class=shared-icon><i class="infoIcon infoIcon-sharedAndOwner iwp-icon-iwp_share_owner" ng-if="::(vm.item.data.sharedBy && vm.isOwner)" util-bootstrap-popover util-bootstrap-popover-view-model=vm.tooltipModel util-bootstrap-popover-template="\'app/sharing/share.owner.legend.html\'" role=button tabindex=0 data-toggle=popover data-placement=bottom data-trigger=hover></i> <i class="infoIcon infoIcon-shared iwp-icon-iwp_share_participant" ng-if="::(vm.item.data.sharedBy && !vm.isOwner)" util-bootstrap-popover util-bootstrap-popover-view-model=vm.tooltipModel util-bootstrap-popover-template="\'app/sharing/share.owner.legend.html\'" role=button tabindex=0 data-toggle=popover data-placement=bottom data-trigger=hover></i></div></li>'),e.put("app/components/omnisearch/search-result-employee/search-result-employee.html",'<li class="app-components-omnisearch-searchResultItem app-components-omnisearch-searchResultEmployee list-group-item" xmlns=http://www.w3.org/1999/html><i ng-class=::vm.item.iconCls ng-if=::vm.item.iconCls></i><div class=searchResult-data><label class=searchResult-label><span class=searchResult-name><b>{{::vm.item.label}}</b> <span ng-if=::!vm.item.data.external class=searchResult-deptcode>| {{vm.item.data.department}}</span> <span ng-if=::vm.item.data.external class=searchResult-deptcode>| {{::"omnisearch.employee.external" | translate}}</span><div ng-if=::vm.item.data.external class=searchResult-deptcode>{{::"omnisearch.employee.inOrderOf" | translate:vm.item.data}}</div></span><span class=searchResult-phone><a ng-if=::vm.item.data.phone href=tel:{{::vm.item.data.phone}}>{{::vm.item.data.phone}}</a></span></label><div class=searchResult-cta><a ng-if=::!vm.item.data.external href="im:<sip:{{::vm.item.data.email}}>" class="search-result-cta-lync hidden-sm hidden-xs"><i class="search-result-cta-icon iwp-icon-gen_lync"></i> </a><a ng-if=::vm.item.data.email ng-href={{::vm.emailClient()}} class=search-result-cta-mail><i class="search-result-cta-icon iwp-icon-gen_email"></i></a></div></div></li>'),e.put("app/components/omnisearch/search-result-favorite/search-result-favorite.html",'<li class="app-components-omnisearch-searchResultItemFavorit app-components-omnisearch-searchResultFavorite list-group-item" xmlns=http://www.w3.org/1999/html><a ng-href={{::vm.tileHref}} target={{::vm.tileTarget}}><i ng-class=::vm.item.iconCls ng-if=vm.item.iconCls ng-class="::{\'full-height\': !vm.hasParent}"></i><div class=label-container ng-class="::{\'multiline-label\': vm.isItemLabelMultiline}"><label class=main-label ng-bind-html=vm.multilineItemLabel></label> <label class=secondary-label ng-if=::vm.hasParent>{{::vm.parentDescription}}</label></div><div class=shared-icon ng-if="::(vm.item && vm.item.data && vm.item.data.sharedBy)"><i class="infoIcon infoIcon-sharedAndOwner iwp-icon-iwp_share_owner" ng-if="::(vm.belongsToUser(vm.item.data && vm.item.data.sharedBy ? vm.item.data.sharedBy : null))" util-bootstrap-popover util-bootstrap-popover-template="::\'app/sharing/share.owner.legend.html\'" util-bootstrap-popover-view-model="::{\n          owner: true,\n          sharedBy: vm.item.data.sharedBy,\n          isDashboard: false\n       }" role=button tabindex=0 data-toggle=popover data-placement=bottom data-trigger=hover></i> <i class="infoIcon infoIcon-sharedAndOwner iwp-icon-iwp_share_participant" ng-if="::(!vm.belongsToUser(vm.item.data && vm.item.data.sharedBy ? vm.item.data.sharedBy : null))" util-bootstrap-popover util-bootstrap-popover-template="\'app/sharing/share.owner.legend.html\'" util-bootstrap-popover-view-model="{\n          owner: false,\n          sharedBy: vm.item.data.sharedBy,\n          isDashboard: false\n       }" role=button tabindex=0 data-toggle=popover data-placement=bottom data-trigger=hover></i></div></a></li>'),e.put("app/components/omnisearch/search-result-item/search-result-item.html",'<li class="app-components-omnisearch-searchResultItem list-group-item"><i ng-class=::vm.item.iconCls ng-if=::vm.item.iconCls></i> <label>{{::vm.item.label}}</label></li>')}]);