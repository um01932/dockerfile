<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Visualization</title>
  <script type="text/javascript" src="/workplace-api/es6-promise.js"></script>
  <script type="text/javascript" src="/workplace-api/workplace-api.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/lodash/4.13.1/lodash.min.js"></script>
  <script type="text/javascript" src="https://code.angularjs.org/1.5.5/angular.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
        integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <style>
    body {
      margin: 20px;
      min-width: 600px;
    }
  </style>

</head>
<body ng-app="visualization">

<div class="panel panel-default" ng-controller="VisualizationController">
  <div class="panel-heading">Documents</div>
  <div class="panel-body">
    <table class="table">
      <thead>
      <tr>
        <td style="width: 400px;">URI</td>
        <td>Visualize</td>
        <td>Node ID</td>
        <td>Actions</td>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="doc in vm.documents">
        <td style="word-break: break-all;">
          {{doc.getUri()}}
        </td>
        <td>
          <button type="button" class="btn btn-danger" ng-click="vm.remove(doc)">Remove</button>
        </td>
        <td>
          {{doc.nodeId}}
        </td>
        <td>
          <div class="form-group">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="doc.enabled" ng-change="vm.enableDocument(doc)"> Enabled
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="doc.selected" ng-change="vm.selectDocument(doc)"> Selected
              </label>
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <div class="form-group" style="max-width: 400px;">
            <div class="input-group" ng-if="vm.input.mimeType === 'model/jt'">
              <span class="input-group-addon">urn:bmw:prisma:dokuid:</span>
              <input type="text" class="form-control" placeholder="DokuId eingeben..." ng-model="vm.input.uri"/>
            </div>
            <input type="text" class="form-control" placeholder="URI eingeben..." ng-model="vm.input.uri" ng-if="vm.input.mimeType !== 'model/jt'"/>
          </div>
        </td>
        <td>
          <select ng-model="vm.input.mimeType">
            <option value="">auto</option>
            <option value="model/jt">model/jt</option>
            <option value="application/x-plmxml">application/x-plmxml</option>
            <option value="model/iso.step.ap242+xml">model/iso.step.ap242+xml</option>
          </select>
        </td>
        <td colspan="4">
          <button type="button" class="btn btn-primary" ng-click="vm.visualize()">Visualize</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<script type="text/javascript" src="visualization.js"></script>
<script type="text/javascript" src="VisualizationController.js"></script>
<script type="text/javascript" src="DocumentModel.js"></script>
</body>
</html>
